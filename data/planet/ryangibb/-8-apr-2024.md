---
title: ' 8 Apr 2024'
description:
url: https://ryan.freumh.org/2024-04-08.html
date: 2024-04-08T00:00:00-00:00
preview_image:
authors:
- Ryan Gibb
source:
---

<article>
    <div class="container">
        <span>  Previous: <a href="https://ryan.freumh.org/2024-04-01.html"> 1 Apr 2024</a>  </span>
        <span>  Next: <a href="https://ryan.freumh.org/2024-04-15.html">15 Apr 2024</a>  </span>
    </div>
    
    <section>
        <h2>Tue</h2>
<p><span>some rough working notes for eon’s capability
interface to provision TLS certificates:</span></p>
<ul>
<li>modified the client to read the capability from a file and write the
certs to a directory.</li>
<li>todo: persistence</li>
<li>account key</li>
<li>wildcard certs</li>
<li>should we do CSR on the client or server?</li>
<li>should we do renewals on the client or server?</li>
<li>let’s store everything on the server</li>
<li>renewals keep the same private key?</li>
<li>no, new certificate</li>
</ul>
<p><span>renewals:</span></p>
<ul>
<li>studryrefs for capabilities mapped to domains</li>
<li>keep track of expiry</li>
</ul>
<p><span>update interface</span></p>
<ul>
<li>do we mimic DNS UPDATE? yes</li>
<li>do we pass binary blob? no</li>
</ul>
<p><span>todo</span></p>
<ul>
<li>provisioning a cert for root</li>
<li>https://github.com/mirage/ca-certs-nss</li>
<li>https://github.com/suri-framework/castore</li>
<li>multiple domains</li>
<li>SAN</li>
<li>CN</li>
<li>extensions</li>
</ul>
<h2>Thu</h2>
<p><span>done:</span></p>
<ul>
<li>subject alternative name</li>
<li>generate caps for every authoritative domain</li>
<li>client exits</li>
<li>capc multiple domains</li>
<li>delegation persist capability</li>
<li>persistence</li>
</ul>
<p><span>NB <a href="https://github.com/mmaker/ocaml-letsencrypt">ocaml-letsencrypt</a>
doesn’t support revocation or deletion</span></p>
    </section>
</article>

