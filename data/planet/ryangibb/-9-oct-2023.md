---
title: ' 9 Oct 2023'
description:
url: https://ryan.freumh.org/2023-10-09.html
date: 2023-10-09T00:00:00-00:00
preview_image:
authors:
- Ryan Gibb
source:
---

<article>
    <div class="container">
        <span>  </span>
        <span>  Next: <a href="https://ryan.freumh.org/2023-10-16.html">16 Oct 2023</a>  </span>
    </div>
    
    <section>
        <p><span>After trying to use Obsidian, a remarkable E-ink
tablet, Logseq, emacs org-mode, and plaintext files, I’m using a paper
notebook research log for the upcoming academic year and hopefully
beyond. I’ve tried this before without much success, but this time I
plan to use it more thoughtfully. I’m also trying something new in
typing up my weekly notes in a web log. So last week…</span></p>
<h2>Eilean</h2>
<p><span>I’ve had a couple of requests to get <a href="https://github.com/RyanGibb/eilean-nix">Eilean</a> into a useable
state, so I’ve tested (and fixed a bunch of bugs in) it’s deployment on
a fresh VM from the NixOS template provided, and added a comprehensive
getting started document. Work to be done includes using ACME DNS-01
challenges to provision TLS certificates and automatically incrementing
the DNS SOA serial number. Having a modular and programmable DNS server
like AEON could prove useful for this.</span></p>
<h2>Hyberbib</h2>
<p><span>I deployed Patrick’s dune port of hyberbib
at <a href="https://eeg.cl.cam.ac.uk/bib/">eeg.cl.cam.ac.uk/bib</a>.
Naturally, I used NixOS to do so.</span></p>
<p><span>Building hyperbib with Nix uncovered a few
issues with hyperbib’s opam file that Patrick fixed. I had to pin
dependencies to specific hashes but otherwise opam-nix worked as
expected.</span></p>
<p><span>While deploying hyperbib on a new VM
almost everything that could go wrong did:</span></p>
<ul>
<li>The installer build ran out of memory and hung the
installation.</li>
<li>I didn’t have DHCP or the IPv4 gateway address.</li>
<li>The VM ran out of disk space so I copied the hyperbib Nix closure
over to the VM. In future, building locally and installing on the remote
might be the way to go.</li>
<li>The front end wasn’t build in the same dune target as the executable
so I modified it to be, and copied it to a runtime state directory.</li>
<li>I had to add curl &amp; sqlite as runtime dependencies</li>
<li>Working out the NGINX proxy and hyperbib ‘service path’ behaviour
took some trial and error to <a href="https://github.com/RyanGibb/hyperbib/commit/d9c76a7e321d9e9155b31f895b58ffc54b53cd4f">get
right</a>, so we can server static content on the root. As we’re
deploying at a subpath I changed the page’s title to append
<code>/bib/</code>.</li>
</ul>
<p><span>After successfully deploying
it:</span></p>
<ul>
<li>I added environment variables for hyperbib’s configuration variables
so the <code>hyperbib</code> command worked as expected.</li>
<li>Added raven authentication with an APACHE HTTPD module <a href="https://github.com/cambridgeuniversity/mod_ucam_webauth/">mod_ucam_webauth</a>.
I’m not sure of the <a href="https://github.com/cambridgeuniversity/mod_ucam_webauth/issues/28">status</a>
of this project though.
<ul>
<li>Building and navigating the documentation to configure the module
proved challenging.</li>
<li>I needed to use the <location> tag instead of <directory> as we’re
proxying to hyperbib instead of serving a static directory.</directory></location></li>
<li>I had to download the Raven RSA public key from archive.org as it’s
no longer available at the URL provided.</li>
</ul></li>
</ul>
<p><span>With this raven authentication it would be
really cool if we could automatically provision user accounts (which
could also be useful for a certain federated chat protocol). Anil also
wants a CLI interface. I’m parking this for now, though.</span></p>
<h2>Unbound Computing</h2>
<p><span>Patrick and I spoke about his <a href="https://undonecs.sciencesconf.org/">Undone Computing</a> paper on
how Computer Science has failed Ecology.</span></p>
<p><span>This scentence from the CFP is
partiularly relevant:</span></p>
<blockquote>
<p><span>Epistemological questions and
challenges arising from the <em>interdisciplinary nature</em> of
computer science, or dealing with the articulations between theory and
practice;</span></p>
</blockquote>
<p><span>We whiteboarded a high level plan
for the paper starting with the premise that Computer Science has failed
Ecologists applying the scientific method; giving some examples of
problems ecologists encounter e.g.&nbsp;data versioning; then a more
epistemological discussion of how Computer Science aids the scientific
method and whether the abstractions provided are the right ones;
concluding with how Ecology should lead their own research, not Computer
Science (e.g.&nbsp;Google Earth Engine’s limitations).</span></p>
<p><img src="https://ryan.freumh.org/images/2023-10-13-patrick-unbound-computing.jpg"></p>
<p><span>Speaking about this gave me an
idea for an ‘Undone Computing’ paper on digital autonomy with similar
ideas to Eilean.</span></p>
<h2>Energy</h2>
<p><span>I spoke to Patrick about the EEG server
energy usage and I was interested in looking at how we can (1) reduce
the idle energy usage of the machines, and (2) a scheme for reusing opam
build artifacts in the OCaml CI that Patrick described. A naive solution
for (1) might be to have a low powered machine that can turn the high
powered machine on with, e.g., a Wake-on-LAN (WoL) packet. This could be
a router sending a WoL packet on recieving a packet to the server’s IP
address… or a local authorative DNS sever sending a WoL on a DNS
resolution?</span></p>
<h2>HotNets</h2>
<p><span>I’ve converted the HotNets Spatial Name
System (SNS) paper to use the final format template.</span></p>
<p><span>I need to rework the introduction to talk
about a specific query to ground the discussion – basically putting
section 4 first. I also need some better pictures. I wonder if I can use
AI generated pictures? I’ve been generating some for a poem recently and
stable diffusion seems to have improved a lot single I last tried
generating images for this.</span></p>
<p><span>I need to put a DOI number in the paper,
but I’ve no idea how they’re assigned.</span></p>
<h2>Other</h2>
<ul>
<li>Organising supervisions.</li>
<li>TA’d L50: lot’s of problems with SSH keys, VPNs, &amp;
X-servers.</li>
<li>Running MCR events.</li>
<li>Got a flake-enabled nix-on-droid working.</li>
<li>Finally <a href="https://github.com/NixOS/nixpkgs/pull/260715">upsteamed</a>
dell-command-configure with some neat ELF patching.</li>
</ul>
<h2>Next Week</h2>
<ul>
<li>Finish the HotNets camera ready deadline!</li>
<li>I’ve had an idea for the undone computing conference related to
Eilean on digital autonomy … but the HotNets is first! Read the DIFC
paper for the systems EEG reading group <span class="citation" data-cites="myersDecentralizedModelInformation1997"><a href="https://ryan.freumh.org/atom.xml#ref-myersDecentralizedModelInformation1997" role="doc-biblioref">[1]</a></span>.</li>
<li>Read https://anil.recoil.org/papers/2015-aarhus-databox.pdf related
to Eilean <span class="citation" data-cites="chaudhryPersonalDataThinking2015"><a href="https://ryan.freumh.org/atom.xml#ref-chaudhryPersonalDataThinking2015" role="doc-biblioref">[2]</a></span>.</li>
</ul>
<div class="references csl-bib-body" data-entry-spacing="0" role="list">
<div class="csl-entry" role="listitem">
<span><div class="csl-left-margin">[1] </div><div class="csl-right-inline">A. C. Myers and B. Liskov, <span>“A
decentralized model for information flow control,”</span> in
<em>Proceedings of the sixteenth <span>ACM</span> symposium on
<span>Operating</span> systems principles</em>, Oct. 1997, pp. 129–142,
doi: <a href="https://doi.org/10.1145/268998.266669">10.1145/268998.266669</a>
[Online]. Available: <a href="https://dl.acm.org/doi/10.1145/268998.266669">https://dl.acm.org/doi/10.1145/268998.266669</a>.
[Accessed: Jan. 31, 2025]</div></span>
</div>
<div class="csl-entry" role="listitem">
<span><div class="csl-left-margin">[2] </div><div class="csl-right-inline">A. Chaudhry <em>et al.</em>, <span>“Personal
<span>Data</span>: <span>Thinking Inside</span> the
<span>Box</span>,”</span> <em>Aarhus Series on Human Centered
Computing</em>, vol. 1, no. 1, 1, pp. 4–4, Oct. 2015, doi: <a href="https://doi.org/10.7146/aahcc.v1i1.21312">10.7146/aahcc.v1i1.21312</a>.
[Online]. Available: <a href="https://tidsskrift.dk/ashcc/article/view/21312">https://tidsskrift.dk/ashcc/article/view/21312</a>.
[Accessed: Jan. 31, 2025]</div></span>
</div>
</div>
    </section>
</article>

