---
title: 'Alt-Ergo @ OCamlPro: Two months later'
description: As announced in a previous post, I joined OCamlPro at the beginning of
  September and I started working on Alt-Ergo. Here is a report presenting the tool
  and the work we have done during the two last months. Alt-Ergo at a Glance Alt-Ergo
  is an open source automatic theorem prover based on SMT technol...
url: https://ocamlpro.com/blog/2013_10_02_alt_ergo_ocamlpro_two_months_later
date: 2013-10-02T13:19:46-00:00
preview_image: URL_de_votre_image
authors:
- "\n    Mohamed Iguernlala\n  "
source:
---

<p>As announced in <a href="https://ocamlpro.com/blog/2013_09_04_ocamlpro_highlights_august_2013">a previous post</a>, I joined OCamlPro at the beginning of September and I started working on Alt-Ergo. Here is a report presenting the tool and the work we have done during the two last months.</p>
<h3>Alt-Ergo at a Glance</h3>
<p><a href="https://alt-ergo.ocamlpro.com">Alt-Ergo</a> is an open source automatic theorem prover based on <a href="https://en.wikipedia.org/wiki/Satisfiability_Modulo_Theories">SMT</a> technology. It is developed at <a href="https://www.lri.fr">Laboratoire de Recherche en Informatique</a>, <a href="https://www.inria.fr/centre/saclay">Inria Saclay Ile-de-France</a> and <a href="https://www.cnrs.fr/index.php">CNRS</a> since 2006. It is capable of reasoning in a combination of several built-in theories such as uninterpreted equality, integer and rational arithmetic, arrays, records, enumerated data types and AC symbols. It also handles quantified formulas and has a polymorphic first-order native input language. Alt-Ergo is written in <a href="https://caml.inria.fr/ocaml/index.fr.html">OCaml</a>. Its core has been formally proved in the <a href="https://coq.inria.fr">Coq proof assistant</a>.</p>
<p>Alt-Ergo has been involved in a qualification process (DO-178C) by <a href="http://www.airbus.com">Airbus Industrie</a>. During this process, a qualification kit has been produced. It was composed of a technical document with tool requirements (TR) that gives a precise description of each part of the prover, a companion document (~ 450 pages) of tests, and an instrumented version of the tool with a TR trace mechanism.</p>
<h3>Alt-Ergo Spider Web</h3>
<p>Alt-Ergo is mainly used to prove the validity of mathematical formulas generated by program verification platforms. It was originally designed and tuned to prove formulas generated by the <a href="https://why.lri.fr">Why tool</a>. Now, it is used by different tools and in various contexts, in particular via the <a href="https://why3.lri.fr">Why3 platform</a>. As shown by the diagram below, Alt-Ergo is used to prove formulas:</p>
<ul>
<li>generated from Ada code by SPARK 2005 and <a href="https://www.spark-2014.org">SPARK 2014</a>,
</li>
<li>generated from C programs by <a href="https://frama-c.com">Frama-C</a> and <a href="https://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=1028953&amp;tag=1">CAVEAT</a>,
</li>
<li>produced from WhyML programs by <a href="https://why3.lri.fr">Why3</a>,
</li>
<li>translated from proof obligations generated by <a href="https://www.atelierb.eu">Atelier-B</a>,
</li>
</ul>
<p>Moreover, Alt-Ergo is used in the context of cryptographic protocols verification by <a href="https://www.easycrypt.info">EasyCrypt</a> and in SMT-based model checking by <a href="https://cubicle.lri.fr">Cubicle</a>.</p>
<p><img src="https://ocamlpro.com/blog/assets/img/graph_ae_spider.png" alt="ae-spider"/></p>
<h3>Some &quot;Hello World&quot; Examples</h3>
<p>Below are some basic formulas written in the why input syntax. Each example is proved valid by Alt-Ergo. The first formulas is very simple and is proved with a straightforward arithmetic reasoning. <code>goal g2</code> requires reasoning in the combination of functional arrays and linear arithmetic, etc. The last example contains a quantified sub-formula with a polymorphic variable <code>x</code>. Generating four ground instances of this axiom where <code>x</code> is replaced by <code>1</code>, <code>true</code>, <code>1.4</code> and <code>a</code> respectively is necessary to prove <code>goal g5</code>.</p>
<p>** Simple arithmetic operation **</p>
<pre><code class="language-ocaml">goal g1 : 1 + 2 = 3
</code></pre>
<p>** Theories of functional arrays and linear integer arithmetic **</p>
<pre><code class="language-ocaml">logic a : (int, int) farray
goal g2 : forall i:int. i = 6 -&gt; a[i&lt;-4][5] = a[i-1]
</code></pre>
<p>** Theories of records and linear integer arithmetic **</p>
<pre><code class="language-ocaml">type my_record = { a : int ; b : int }
goal g3 : forall v,w : my_record. 2 * v.a = 10 -&gt; { v with b = 5} = w -&gt; w.a = 5
</code></pre>
<p>** Theories of enumerated data types and uninterpreted equality **</p>
<pre><code class="language-ocaml">type my_sum = A | B | C
logic P : 'a -&gt; prop
goal g4 : forall x : my_sum. P(C) -&gt; x&lt;&gt;A and x&lt;&gt;B -&gt; P(x)
</code></pre>
<p>** Formula with quantifiers and polymorphism **</p>
<pre><code class="language-ocaml">axiom a: forall x : 'a. P(x)
goal g5 : P(1) and P(true) and P(1.4) and P(a)
</code></pre>
<p>** formula with quantifiers and polymorphism **</p>
<pre><code class="language-shell-session">$$ alt-ergo examples.why
File &quot;examples.why&quot;, line 2, characters 1-21:Valid (0.0120) (0)
File &quot;examples.why&quot;, line 6, characters 1-53:Valid (0.0000) (1)
File &quot;examples.why&quot;, line 10, characters 1-81:Valid (0.0000) (3)
File &quot;examples.why&quot;, line 15, characters 1-59:Valid (0.0000) (6)
File &quot;examples.why&quot;, line 19, characters 1-47:Valid (0.0000) (10)
</code></pre>
<h3>Alt-Ergo @ OCamlPro</h3>
<p>On September 20, we officially announced the distribution and the support of Alt-Ergo by OCamlPro and launched its <a href="https://alt-ergo.ocamlpro.com">new website</a>. This site allows to download public releases of the prover and to discover available support offerings. It'll be enriched with additional content progressively. The former Alt-Ergo's web page hosted by LRI is now devoted to theoretical foundations and academic aspects of the solver.</p>
<p>We have also published a new public release (version 0.95.2) of Alt-Ergo. The main changes in this minor release are: source code reorganization into sub-directories, simplification of quantifiers instantiation heuristics, GUI improvement to reduce latency when opening large files, as well as various bug fixes.</p>
<p>In addition to the re-implementation and the simplification of some parts of the prover (e.g. internal literals representation, theories combination architecture, ...), the main novelties of the current master branch of Alt-Ergo are the following:</p>
<ul>
<li>The user can now specify an external (plug-in) SAT-solver instead of the default DFS-based engine. We experimentally provide a CDCL solver based on miniSAT that can be plugged to perform satisfiability reasoning. This solver is more efficient when formulas contain a rich propositional structure.
</li>
<li>We started the development of a new tool, called Ctrl-Alt-Ergo, in which we put our expertise by implementing the most interesting strategies of Alt-Ergo. The experiments we made with our internal benchmarks are very promising, as shown below.
</li>
</ul>
<h3>Experimental Evaluation</h3>
<p>We compared the performances of latest public releases of Alt-Ergo with the current master branch of both Alt-Ergo and Ctrl-Alt-Ergo (commit <code>ce0bba61a1fd234b85715ea2c96078121c913602</code>) on our internal test suite composed of 16209 formulas. Timeout was set to 60 seconds and memory was limited to 2GB per formula. Benchmarks descriptions and the results of our evaluation are given below.</p>
<h4>Why3 Benchmark</h4>
<p>This benchmark contains 2470 formulas generated from Why3's gallery of WhyML programs. Some of these formulas are out of scope of current SMT solvers. For instance, the proof of some of them requires inductive reasoning.</p>
<h4>SPARK Hi-lite Benchmark</h4>
<p>This benchmark is composed of 3167 formulas generated from Ada programs used during Hi-lite project. It is known that some formulas are not valid.</p>
<h4>BWare Benchmark</h4>
<p>This test-suite contains 10572 formulas translated from proof obligations generated by Atelier-B. These proof obligations are issued from industrial B projects and are proved valid.</p>
<table class="tableau2">
<thead>
<tr>
<td></td>
<th>Alt-Ergo<br/>
version 0.95.1</th>
<th>Alt-Ergo<br/>
version 0.95.2</th>
<th>Alt-Ergo<br/>
master branch*</th>
<th>Ctrl-Alt-Ergo<br/>
master branch*</th>
</tr>
</thead>
<tbody>
<tr>
<th>Release date</th>
<td>Mar. 05, 2013</td>
<td>Sep. 20, 2013</td>
<td>&ndash; &ndash; &ndash;</td>
<td>&ndash; &ndash; &ndash;</td>
</tr>
<tr>
<th>Why3 benchmark</th>
<td>2270<br/>
(91.90 %)</td>
<td>2288<br/>
(92.63 %)</td>
<td>2308<br/>
(93.44 %)</td>
<td>2363<br/>
(95.67 %)</td>
</tr>
<tr>
<th>SPARK benchmark</th>
<td>2351<br/>
(74.23 %)</td>
<td>2360<br/>
(74.52 %)</td>
<td>2373<br/>
(74.93 %)</td>
<td>2404<br/>
(75.91 %)</td>
</tr>
<tr>
<th>BWare benchmark</th>
<td>5609<br/>
(53.05 %)</td>
<td>9437<br/>
(89.26 %)</td>
<td>10072<br/>
(95.27 %)</td>
<td>10373<br/>
(98.12 %)</td>
</tr>
</tbody>
</table>
(*) commit `ce0bba61a1fd234b85715ea2c96078121c913602`

