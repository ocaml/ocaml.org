---
title: 'Two Major Improvements in odoc: Introducing Search Engine Integration'
description: "In the world of OCaml documentation generation, there have been two
  significant enhancements that promise to make navigating OCaml\u2026"
url: https://tarides.com/blog/2024-02-28-two-major-improvements-in-odoc-introducing-search-engine-integration
date: 2024-02-28T00:00:00-00:00
preview_image: https://tarides.com/static/a71f075f9953971ee0f14a65da5293a6/0132d/odoc-search.jpg
featured:
authors:
- Tarides
source:
---

<p>In the world of OCaml documentation generation, there have been two significant enhancements that promise to make navigating OCaml documentation easier and more efficient. These improvements are divided into two distinct but interrelated components: changes in <code>odoc</code> itself and improvements in a search engine known as Sherlodoc.</p>
<p>These updates make navigating OCaml documentation more efficient and user-friendly, benefiting both seasoned OCaml programmers and those just venturing into the world of OCaml.</p>
<p>If you're new to <code>odoc</code>, you can read more about it in <a href="https://tarides.com/blog/2024-01-10-meet-odoc-ocaml-s-documentation-generator/">this introductory blog post</a> and on <a href="https://ocaml.github.io/odoc/">its website</a> (which was also generated by <code>odoc</code>!)</p>
<p>Now, let's dive into these transformative upgrades and see how they enhance the OCaml documentation landscape.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#changes-in-odoc-search-engine-integration" aria-label="changes in odoc search engine integration permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Changes in <code>odoc</code>: Search Engine Integration</h2>
<p>This year, <code>odoc</code> has taken a giant step forward by allowing seamless integration with search engines. This change is modular, ensuring flexibility in search implementation. As long as a search engine can provide search results in a specific format, it can be utilised with <code>odoc</code>. These changes can be server-side or client-side, written in either JavaScript or OCaml, and executed locally or remotely.</p>
<h4 style="position:relative;"><a href="https://tarides.com/feed.xml#search-bar-and-display" aria-label="search bar and display permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Search Bar and Display</h4>
<p><code>odoc</code> now offers a user interface that includes a search bar and a display of search results. This feature enhances the overall user experience, making it more intuitive and accessible.</p>
<h4 style="position:relative;"><a href="https://tarides.com/feed.xml#json-index" aria-label="json index permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JSON Index</h4>
<p><code>odoc</code> provides an index in JSON format that search engines can utilise. The search engine uses this index to generate its representation of the search index. OCaml programmers can also leverage specific functions in <code>odoc</code> to generate their custom search indexes.</p>
<h4 style="position:relative;"><a href="https://tarides.com/feed.xml#flexible-search-engine" aria-label="flexible search engine permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flexible Search Engine</h4>
<p>With the new search bar, you can even write your own search engine. This feature opens up new possibilities for customisation and tailoring the search experience to your specific needs.</p>
<p>The search engine can take the form of a JavaScript file, which can either contain an index for local searches or make requests to a server for larger indexes.</p>
<h4 style="position:relative;"><a href="https://tarides.com/feed.xml#web-worker-integration" aria-label="web worker integration permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Web Worker Integration</h4>
<p><code>odoc</code> runs the search engine in a web worker, ensuring asynchronicity and preventing UI blockage. This design decision contributes to a smoother user experience, especially when dealing with extensive documentation.</p>
<p>In essence, <code>odoc</code> has made it incredibly straightforward to integrate search engines into its documentation output. This modular approach allows for diverse and customised search solutions while keeping the user interface consistent.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#sherlodoc-the-canonical-ocaml-search-engine" aria-label="sherlodoc the canonical ocaml search engine permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sherlodoc: The Canonical OCaml Search Engine</h2>
<p>While any search engine can be used with <code>odoc</code>, Sherlodoc stands out as the canonical search engine for OCaml. It has undergone significant improvements to enhance its usability and expressiveness. These changes make Sherlodoc an ideal choice for OCaml documentation.</p>
<h4 style="position:relative;"><a href="https://tarides.com/feed.xml#integration-with-odoc" aria-label="integration with odoc permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Integration with <code>odoc</code></h4>
<p>Sherlodoc can now be directly integrated into documentation generated by <code>odoc</code>. It offers the choice to compile it into JavaScript or keep it as a native program, accommodating both client-side and server-side search functionality.</p>
<h4 style="position:relative;"><a href="https://tarides.com/feed.xml#search-features" aria-label="search features permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Search Features</h4>
<p>Sherlodoc introduces powerful search capabilities, allowing users to search within docstrings, constructors, modules, and more. Its expressive search queries provide an efficient way to find the information you need.</p>
<p>The Sherlodoc search engine is designed with OCaml in mind. It allows you to search within docstrings, generated standalone pages, as well as directly in the interface even using specific OCaml-like syntax.</p>
<p>Since it knows about the OCaml type system, you can quickly find functions, values, etc., by writing their type in the query. This level of tailoring enhances the OCaml documentation experience, making it even more accessible and productive.</p>
<p>For instance, searching for <code>_ -&gt; int</code> will result in all functions which produce an integer</p>
<h4 style="position:relative;"><a href="https://tarides.com/feed.xml#future-integration" aria-label="future integration permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Future Integration</h4>
<p>One of the most exciting aspects of this update is that Sherlodoc will be fully integrated into OCaml.org. Instead of relying on a separate website or tool, you can access all the powerful search capabilities right on OCaml's official website!</p>
<p>This integration brings a multitude of benefits to OCaml.org users. Currently, users can only search using strings, but the new search bar will provide more sophisticated searching. Users can now search more effectively within a specific package or for values with particular types, simplifying the process of locating the exact information you need. Now you spend less time searching and more time coding!</p>
<p>These enhancements align perfectly with our goal of delivering a more cohesive, robust, and user-friendly documentation experience on OCaml.org.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#collaborative-efforts" aria-label="collaborative efforts permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Collaborative Efforts</h2>
<p>The journey to these enhanced search capabilities involved numerous design phases and questions. We pondered how to create the features we envisioned, how to seamlessly integrate them into OCaml.org, and how to make the search bar functional for small databases, local documentation, and the entirety of opam. These considerations guided the development process, ensuring that the new search bar is versatile, efficient, and accessible to all OCaml engineers.</p>
<p>This achievement wouldn't have been possible without the dedication of several individuals from Tarides. <a href="https://github.com/panglesd">Paul-Elliot Angl&egrave;s d'Auriac</a> spearheaded this project. It was his main focus since the summer. He implemented the <code>odoc</code> support for search engine. <a href="https://github.com/Julow">Jules Aguillon</a> supplied invaluable oversight and review, ensuring the project's quality. <a href="https://github.com/emiletrotignon">Emile Trotignon</a> played a vital role in the search engine development and user interface. Their combined efforts have resulted in this remarkable upgrade to <code>odoc</code>.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#conclusion" aria-label="conclusion permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2>
<p>Documentation is an integral part of software development, and <code>odoc</code> is a powerful tool that makes OCaml coding more accessible and efficient. As OCaml continues to evolve and gain traction in various domains, <code>odoc</code>'s commitment to providing robust documentation tools is a testament to the language's growth and the support it offers to its community of developers.</p>
<p>With <code>odoc</code>'s new search bar and the Sherlodoc integration, exploring and navigating OCaml documentation has never been more effortless and productive.</p>
<p>These two major improvements promise to revolutionise how OCaml documentation is accessed and navigated. The combination of a modular <code>odoc</code> and the canonical Sherlodoc search engine brings flexibility, efficiency, and a robust search experience to OCaml developers and users.</p>
<p>This new era of OCaml documentation will provide users with a smooth and intuitive experience, helping them access relevant information quickly and efficiently. The improvements in <code>odoc</code> and the integration of Sherlodoc signal a bright future for OCaml documentation and its users.</p>
<p>Stay tuned for more exciting developments in the world of OCaml!</p>
<blockquote>
<p>Please don't hesitate to join the <code>odoc</code> conversation on <a href="https://discuss.ocaml.org/c/eco/15">discuss.ocaml.org</a> under the Ecosystem category by using the <code>odoc</code> tag. Also, feel free to <a href="https://github.com/ocaml/odoc">open a GitHub issue</a> with any concerns or ideas, as we're always striving to improve our products.</p>
</blockquote>
