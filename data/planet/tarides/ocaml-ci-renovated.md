---
title: OCaml-CI Renovated
description: "OCaml-CI started with the goal of making a better continuous build system
  for OCaml projects. When we began in 2019, the goals were clear\u2026"
url: https://tarides.com/blog/2023-07-12-ocaml-ci-renovated
date: 2023-07-12T00:00:00-00:00
preview_image: https://tarides.com/static/6ae6ac561c7a767a13dfa33b2afe364d/0132d/ocaml-ci-renovated.jpg
featured:
authors:
- tarides
---

<p>OCaml-CI started with the goal of making a better continuous build system for OCaml projects. When we began in 2019, the goals were clear: it should provide a zero-configuration experience for OCaml projects using opam and Dune, and it should use an incremental architecture to avoid expensive recomputation of builds. We're delighted to announce that we achieved these goals, and OCaml-CI is currently tracking over five hundred repositories and processing over a hundred thousand jobs daily. This is inspiring news to those already using OCaml-CI or developers looking for a CI solution for their OCaml project.</p>
<p>Throughout 2022, the Tarides CI team worked on rennovating OCaml-CI, focusing on improving the usability of the website, adding build history for branches, supporting new platforms, and launching experimental build support. We will cover all of those things in this blog post and hope you find them useful.</p>
<p>There is also a <a href="https://discuss.ocaml.org/t/best-practices-for-continuous-integration-ci-in-2023/12380">Discuss thread on CI Best Practices</a>.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#what-is-ocaml-ci" aria-label="what is ocaml ci permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is OCaml-CI?</h2>
<p>Continuous Integration, or CI, performs a series of automated steps (or jobs), e.g., building and testing code. With it, developers can confidently and regularly integrate code into the central repository, relying on the automated CI system to detect and even fix problems early. This reduces production issues and leads to more robust and secure software. OCaml-CI is a Continuous Integration tool tailored for OCaml projects.</p>
<p><strong>VALUE PROPOSITION OF OCAML-CI</strong></p>
<ul>
<li>OCaml specific / no configuration</li>
<li>Check on various platforms</li>
<li>Linting like version bounds (upper and lower) and project metadata</li>
<li>Incremental caching of builds</li>
</ul>
<p>OCaml-CI adds value by targeting just OCaml projects that are written with the standard OCaml opam tooling for package management and Dune for building code. Because OCaml-CI targets a specific language, it does not require any configuration. Instead, it derives the necessary information from metadata in the <code>opam</code> and <code>dune</code> project files.</p>
<p>You never have to teach OCaml-CI about how to build OCaml!</p>
<p>Additionally, it can do clever things like linting your <code>opam</code> and <code>dune</code> files to check for common mistakes. It also checks the upper and lower version bounds of packages to see where they break. The biggest feature over most popular CI systems is that OCaml-CI can derive which hardware and operating system platforms a package supports and do builds across all of those platforms! That means if you want to check on Linux ARM64 or MacOS x86_64 or Linux s390x you can. All that comes with the added benefit of <a href="https://icfp20.sigplan.org/details/ocaml-2020-papers/6/OCaml-CI-A-Zero-Configuration-CI">a caching strategy based on the incremental architecture</a>, which won't repeat builds if not necessary.</p>
<p>Lets look at the new features that were added!</p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#redesigned-ui-using-dream" aria-label="redesigned ui using dream permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Redesigned UI Using Dream</h3>
<p>When OCaml-CI came into existence in 2019, the focus was on providing a CI system based on an incremental architecture, so the user interface (UI) for OCaml-CI was kept simple. In 2022, the team worked with a designer to develop a consistent and contemporary theme to make the site look and feel like a modern website. We decided on a tech stack of <a href="https://github.com/aantron/dream">Dream</a> for the web framework, <a href="https://tailwindcss.com/">Tailwind CSS</a> for styling, <a href="https://github.com/ocsigen/tyxml">Tyxml</a> for HTML generation, and <a href="https://github.com/tmattio/omigrate">Omigrate</a> for database migrations. In the <a href="https://tarides.com/feed.xml#design-and-implementation">Design and Implementation</a> section below, we cover the technical reasons for each choice.</p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#build-history" aria-label="build history permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Build History</h3>
<p>Over the years, people consistently requested a provided build history. So we added a new history page to show the build history of a branch. This feature allows users to conveniently access and view historical builds in the context of similar builds of the branch. It shows every commit built by OCaml-CI, a summary of each build (including build status, the time at which the build started, and the running time of the build), and links to the commit's build page.</p>
<insert image="image">
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#live-updates" aria-label="live updates permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Live Updates</h3>
<p>Pages now automatically update with new information as the build progresses! OCaml-CI adds build steps as they are created, so build statuses and runtimes all update as the build occurs.</p>
<p>In 2023, it&rsquo;s unusual to have to refresh a page to update the information, so this is just us catching up!</p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#enriching-build-information" aria-label="enriching build information permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enriching Build Information</h3>
<p>Timestamps and durations relevant to a build and each of its steps are now available. This feedback enables development teams to monitor the resources and time taken for their builds. It gives them what they need to identify bottlenecks and opportunities for faster build times.</p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#summary-of-a-repositorys-health" aria-label="summary of a repositorys health permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Summary of a Repository's Health</h3>
<p>When looking at an organisation's page, you will now see a summary of the default branch for each of your repos. Inspired by the UI of BuildKite, we hope to provide teams with a view of their builds that indicates the overall health of their repository. The chart of the last 15 builds makes anomalous builds easy to identify and investigate.</p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#mobile-version" aria-label="mobile version permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mobile Version</h3>
<p>OCaml-CI can now be conveniently used from a variety of devices. We have rewritten our pages to be responsive to mobile devices, choosing to pare information to the essentials for small screens. All the functionality of the main site is still available on the mobile version, so you can view logs or navigate to the GitHub PR for a build.</p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <a href="https://tarides.com/static/78cb0bd742bf1d31390725aeb52af08d/105d8/ci_mobile.png" class="gatsby-resp-image-link" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 216.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;"></span>
  <img src="https://tarides.com/static/78cb0bd742bf1d31390725aeb52af08d/c5bb3/ci_mobile.png" class="gatsby-resp-image-image" alt="Mobile Screenshot" title="" srcset="/static/78cb0bd742bf1d31390725aeb52af08d/04472/ci_mobile.png 170w,
/static/78cb0bd742bf1d31390725aeb52af08d/9f933/ci_mobile.png 340w,
/static/78cb0bd742bf1d31390725aeb52af08d/c5bb3/ci_mobile.png 680w,
/static/78cb0bd742bf1d31390725aeb52af08d/b12f7/ci_mobile.png 1020w,
/static/78cb0bd742bf1d31390725aeb52af08d/105d8/ci_mobile.png 1170w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async"/>
  </a>
    </span></p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#experimental-builds" aria-label="experimental builds permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Experimental Builds</h3>
<p>Experimental builds was a conceptual feature that was added to OCaml-CI in order to support build types that might not be stable or to introduce ones without breaking CI for all projects. Think of them as a kind of feature flag. Experimental builds are clearly labelled with <code>(experimental)</code> in the UI and will not report as failures if every other build passes. They let us boldly introduce new features like supporting new platforms or running new linting checks like package lower bounds.</p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#macos-experimental-builds" aria-label="macos experimental builds permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>macOS Experimental Builds</h3>
<p>Using Experimental builds, we added support for macOS (both x86_64 and ARM64) to OCaml-CI. These builds will run on the latest two versions of OCaml on both architectures. Currently these are marked as experimental as we work towards making macOS builds more efficient. The path to supporting macOS has been a long one, starting back in late 2021, and has gone through two different implementations before reaching a stable state in early 2023. We have plans to publish a post going deeper into the technical details soon.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#design-and-implementation" aria-label="design and implementation permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Design and Implementation</h2>
<p>The story of why technical decisions are made on a project are often as interesting as the project itself. Here we will go through the thoughts about the technologies used and why.</p>
<p>As previously mentioned, we kicked off this work with a designer to help develop a consistent and contemporary theme for the site. They created a set of designs in Figma and also made example HTML pages using <a href="https://tailwindcss.com/">Tailwind CSS</a> as a basis for the style sheets. Tailwind works by scanning HTML files, JavaScript components, and any other templates for class names to generate the corresponding styles and then write them to a static CSS file. There is an opam package <a href="https://github.com/tmattio/opam-tailwindcss">tailwindcss</a> that wraps this all up for us.</p>
<p>We decided to use <a href="https://github.com/aantron/dream"><code>Dream</code></a> to replace OCaml-CI&rsquo;s previous web layer based on <a href="https://github.com/mirage/ocaml-cohttp"><code>Cohttp</code></a> library for the following reasons:</p>
<ul>
<li><code>Cohttp</code> is a low-level library, so we had to hand-roll solutions to standard patterns that are generally provided by web frameworks. For example, we had to solve the CSRF problem consistently throughout our usage of forms and also construct our own solution to show flash messages. We understood <code>Cohttp</code> but were interested in taking the opportunity to investigate other web frameworks in the OCaml landscape.</li>
<li>Inspired by frameworks like Sinatra (of Ruby fame) and Flask (from Python), our colleagues Rudi Grinberg and Thibaut Mattio (and others) had constructed a web framework called <a href="https://github.com/rgrinberg/opium">Opium</a>. They suggested that we check out Dream.</li>
<li>We were impressed by its elegance and polish. Dream has brilliant <a href="https://aantron.github.io/dream/">documentation</a>, a ton of examples, and convenient functions and support for several standard patterns in web development. It also uses common OCaml types, so adding it to the project would be relatively straightforward. We immediately saw an opportunity to accomplish several things at once:
<ul>
<li>Support a promising project by adopting it and contributing to it</li>
<li>Create a non-trivial example of using Dream for the community</li>
<li>Reduce complexity, modernise the UI, and make it easier to add new features</li>
<li>Have a lot of fun!</li>
</ul>
</li>
</ul>
<p>As we began to work with Dream, we made the following choices:</p>
<ul>
<li>We chose to work with <code>TyXML</code> over <code>Eml</code> so that we would have the guardrails of typed templates to help write correct HTML. This proved to be challenging in the beginning, but examples from the Opium project really helped our team figure out how to wield <code>TyXML</code> correctly.</li>
<li>Our team did not have any CSS expertise and, frankly, was a little bit at sea with how to implement some of our designer's suggested designs. Tailwind CSS really helped us out here. In particular, it made it possible for us to achieve responsiveness for different screens and light and dark modes.</li>
<li>For our database layer, we chose to work with <a href="https://github.com/tmattio/omigrate">Omigrate</a>, so we could introduce migrations and develop our information model with confidence.</li>
</ul>
<p>We are working on improving the signup process and on introducing <a href="https://github.com/ocsigen/js_of_ocaml"><code>js_of_ocaml</code></a> to replace the plain JavaScript that we previously introduced.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#wed-love-your-feedback" aria-label="wed love your feedback permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>We&rsquo;d Love Your Feedback</h2>
<p>If you have an OCaml project hosted on GitHub or GitLab and would like to test drive OCaml-CI, please follow our <a href="https://ocaml.ci.dev/getting-started">getting-started</a> guide. There are many popular projects already using OCaml-CI to improve their development, and we want to see your project too.</p>
<p>Please open an issue on <a href="https://github.com/ocurrent/ocaml-ci">https://github.com/ocurrent/ocaml-ci</a> if you run into any problems or to suggest improvements and point out missing features. The Tarides team wants to support more OCaml platforms like Windows and FreeBSD so we can cover the full OCaml Tier 1 supported platforms and to continue improving the UI experience.</p>
<p>If you are curious about web development in OCaml, we recommend checking out <a href="https://github.com/aantron/dream">Dream</a>. Please use our code for reference and ask us questions or make suggestions for improvements. We are using the following technologies:</p>
<ul>
<li><a href="https://github.com/ocurrent/current_incr">current_incr</a> - Self-adjusting computations</li>
<li><a href="https://github.com/ocurrent/ocurrent">OCurrent</a> - a CI/CD pipeline OCaml eDSL</li>
<li><a href="https://github.com/ocsigen/lwt">Lwt</a> - OCaml promises and concurrent I/O</li>
<li><a href="https://github.com/ocsigen/tyxml">Tyxml</a> - Typed HTML and SVG</li>
<li><a href="https://github.com/mirage/capnp-rpc">Capnp_rpc</a> - OCaml Cap'n Proto RPC library</li>
</ul>
<p>If we can learn and improve from your experience, we all win! Thank you!</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#acknowledgements" aria-label="acknowledgements permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Acknowledgements</h2>
<p>The Tarides engineers that delivered this work are &Eacute;tienne Marais, Ben Andrew, and Navin Keswani. We got much support and feedback from several of our Tarides colleagues and others in the OCaml community, and we are very grateful for all we learned from them. Special mention to Thibaut Mattio and Tim McGilchrist.</p></insert>
