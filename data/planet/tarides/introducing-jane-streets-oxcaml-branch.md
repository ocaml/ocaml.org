---
title: Introducing Jane Street's OxCaml Branch!
description: An overview of Jane Street's OxCaml branch introducing new extensions
  to OCaml, and how Tarides is supporting the project.
url: https://tarides.com/blog/2025-07-09-introducing-jane-street-s-oxcaml-branch
date: 2025-07-09T00:00:00-00:00
preview_image: https://tarides.com/blog/images/spotted-camel-1360w.webp
authors:
- Tarides
source:
ignore:
---

<p><a href="https://www.janestreet.com">Jane Street</a> is a well-known OCaml powerhouse. They have a reputation for expertise and a long history of supporting the open-source community. Jane Street have been developing experimental features on a branch of OCaml, using them in production internally, and preparing them to be shared with the rest of the ecosystem. These extensions are now bundled and distributed together under the name <a href="https://oxcaml.org/">OxCaml</a>.</p>
<p>We are always excited about projects that bring new features to OCaml and improve it for its users. This post will give you an overview of the different features being developed under the OxCaml umbrella and how Tarides is collaborating with Jane Street on the project.</p>
<h2>What is OxCaml</h2>
<p>OxCaml is an open-source branch of OCaml that incorporates several extensions designed to help write multicore and high-performance OCaml code.</p>
<p>Jane Street relies on OCaml’s sweet spot. OCaml lets you write code quickly, code that is performant, code that solves complex problems, and code that can be trusted, thanks to its strong focus on <a href="https://tarides.com/blog/2023-12-14-ocaml-memory-safety-and-beyond/">correctness-by-construction</a>. However, like any language, OCaml has its limits. When writing low-latency code, you'd like the garbage collector not to kick in at inopportune moments. While this may seem like a niche use case, it is a niche that matters to Jane Street.</p>
<p>With OCaml 5, OCaml code can exploit <a href="https://tarides.com/blog/2022-12-19-ocaml-5-with-multicore-support-is-here/">shared-memory parallelism</a>. Shared-memory parallel programming also leads to <a href="https://tarides.com/blog/2024-01-17-what-are-data-races-and-do-they-threaten-your-business/">data races</a>. Because noticing and debugging data races is difficult, code review isn’t sufficient to trust multicore code in mission-critical contexts. OxCaml extensions have three main goals:</p>
<ol>
<li>Enable writing correct-by-construction multicore code;</li>
<li>Enable writing low-latency code in OCaml instead of a GC-free language;</li>
<li>Raise the overall level of performance.</li>
</ol>
<p>Last but not least, all those goals should be achieved without moving OCaml away from its sweet spot.</p>
<p>Furthermore, according to <a href="https://oxcaml.org">its website</a>, OxCaml’s primary design goals are to be “safe, convenient, [and] predictable”. Safety makes developers more productive and ensures they ship correct code. Convenience means using OCaml’s type system and type inference to provide adequate choice and control without adding complexity. Predictability involves retaining the aspects of OCaml that make it easy for developers to understand how their code will perform simply by looking at it, which requires keeping performance details explicit at the type level.</p>
<p>The OxCaml branch is open-source and welcomes new users. However, the extensions are experimental and not guaranteed to be stable or backwards compatible. Your feedback is needed to fine-tune the experience and improve the various new features. You can provide feedback by making issues on the <a href="https://github.com/oxcaml/oxcaml">OxCaml GitHub repo</a> or discuss it in the <code>#oxcaml</code> channel in the <a href="https://discord.gg/GTFyEupD8Q">OCaml community discord server</a>.</p>
<p>Open-source tools and libraries provided by Jane Street now come in two flavours. The default targets classic OCaml. The <code>with-extensions</code> branch targets OxCaml. For instance, Jane Street's successful Base library has a <a href="https://github.com/janestreet/base/tree/with-extensions"><code>with-extensions</code> branch</a>. Jane Street also provides an opam repository with <a href="https://github.com/oxcaml/opam-repository/">OxCaml compatibility patched versions of the packages</a>.</p>
<h2>How Tarides is Helping</h2>
<p>Tarides takes part in the processes around OxCaml in two ways: by providing platform support for working with and distributing OxCaml code, and by helping to upstream some of its features into mainline OCaml.</p>
<p>Tarides has adapted OxCaml features to the official compiler codebase and taken part in design discussions with the OCaml maintainers to ensure that the features integrate well into the existing compiler. Sometimes, the upstream compiler will have features that OxCaml doesn’t have yet, which overlap with OxCaml’s extensions, so care is needed to handle everything as seamlessly as possible and in a backwards-compatible way.</p>
<p>The OCaml 5.4 features <a href="https://tarides.com/ocaml/ocaml#13498">labelled tuples</a> and <a href="https://tarides.com/ocaml/ocaml#13097">immutable arrays</a> are two recent examples which have been upstreamed from OxCaml with Tarides’s assistance. For future releases, Tarides will be part of the design discussions for upstreaming new features, like "include functor", polymorphic parameters, module strengthening, and possibly more.</p>
<h2>Experimental Extensions</h2>
<p>Let’s take a look at the different extensions that are part of OxCaml:</p>
<ul>
<li><strong><a href="https://github.com/oxcaml/oxcaml/blob/main/jane/doc/extensions/_04-modes/intro.md">Modes</a>:</strong> Modes are deep properties of values that are tracked by the OxCaml compiler. They are similar but distinct from types. While types describe what a value <em>is</em>, modes describe <em>how</em> they can be used. Each value in OxCaml has a mode (plus its type). OxCaml permits type signatures to be decorated with modes, restricting how that value may be used. As an example, the <a href="https://oxcaml.org/documentation/modes/intro/#uniqueness-linearity">linear <em>modality</em></a> on a function says that the function may be invoked at-most-once. This property is distinct from the type of the function.</li>
<li><strong><a href="https://github.com/ocaml-flambda/flambda-backend/blob/main/jane/doc/extensions/_01-stack-allocation/intro.md">Stack Allocations</a>:</strong> With OxCaml, more values can be allocated on the stack instead of on the heap, which improves performance by reusing cache lines and reducing the cache footprint. The compiler uses a value’s locality to determine whether it is local and, therefore, can be allocated on the stack or global and needs to go on the heap.</li>
<li><strong><a href="https://github.com/ocaml-flambda/flambda-backend/blob/main/jane/doc/extensions/_02-unboxed-types/intro.md">Unboxed Types</a>:</strong> This extension gives users more options on how their data is represented in memory and registers. Unboxed types introduce the concept of <em>layouts</em>. Every type has a layout, with a number of base layouts available to the type system.</li>
<li><strong><a href="https://github.com/oxcaml/oxcaml/blob/main/jane/doc/extensions/_03-parallelism/intro.md">Data-Race-Free Parallelism</a>:</strong> There are a number of new features centred on OCaml’s support for multiple domains, including extending the mode system to track the concurrent use of values to improve safety during concurrency and introducing higher-level parallelism primitives.</li>
<li><strong><a href="https://github.com/ocaml-flambda/flambda-backend/blob/main/jane/doc/extensions/_05-kinds/intro.md">Kinds</a>:</strong> This adds a new system that extends the type system by adding “types” to types, that's what a kind is, a type's “type”. Two words are used to avoid confusion, as kinds don't have allocated values at runtime; only types do. Kinds have several components, among them layout, which describes the shape of the data at runtime and modal bounds, which assign limits on the mode's value may be assigned to.</li>
<li><strong><a href="https://github.com/ocaml-flambda/flambda-backend/blob/main/jane/doc/extensions/_06-uniqueness/intro.md">Uniqueness</a>:</strong> A mode that designates values that should only have a single reference pointing to them. By guaranteeing that only one reference will be consumed, the mode prevents bugs like the use-after-free segfault. There’s a <a href="https://blog.janestreet.com/oxidizing-ocaml-ownership/">Jane Street blog post</a>, as well as a <a href="https://kcsrk.info/ocaml/modes/oxcaml/2025/05/29/uniqueness_and_behavioural_types/">post by KC Sivaramakrishnan</a> about using Uniqueness and its features.</li>
<li><strong><a href="https://github.com/oxcaml/oxcaml/blob/main/jane/doc/extensions/_08-comprehensions/01-intro.md">Comprehensions</a>:</strong> This extension introduces ‘comprehensions’, which is a syntactic form that uses mathematical set-builder notation to build lists and arrays.</li>
<li><strong><a href="https://github.com/oxcaml/oxcaml/tree/main/jane/doc/extensions/_11-miscellaneous-extensions">Other Extensions</a>:</strong> There are several more smaller extensions as part of OxCaml. These include immutable arrays, labelled tuples, polymorphic parameters, and more!</li>
</ul>
<h2>Looking to the Future</h2>
<p>In light of the public release, we encourage OCaml users to <a href="https://oxcaml.org/get-oxcaml/">try OxCaml</a> and share their feedback. The best place to discuss OxCaml is the <code>#oxcaml</code> channel on <a href="https://discord.gg/GTFyEupD8Q">the OCaml community discord server</a>. Engineers from Jane Street and Tarides working on OxCaml regularly hang out in the channel and would be delighted to hear feedback.</p>
<p>The explicit goal of OxCaml is to iterate over these features and eventually upstream them to OCaml. Tarides has experience shepherding and successfully upstreaming Multicore OCaml, which was a multi-year effort to bring in native support for concurrency and parallelism to OCaml. Just as with Multicore OCaml, Tarides' goal is to make it easy for the community to work with OxCaml, gather feedback, iterate on the design with Jane Street engineers and help upstream the features to OCaml over the coming years. If we are successful with the upstreaming efforts, we believe that OCaml will fill an important gap in the design space for programming languages. We would like you to be part of this effort!</p>
<h2>Stay in Touch</h2>
<p>You can connect with us on <a href="https://bsky.app/profile/tarides.com">Bluesky</a>, <a href="https://mastodon.social/@tarides">Mastodon</a>, <a href="https://www.threads.net/@taridesltd">Threads</a>, and <a href="https://www.linkedin.com/company/tarides">LinkedIn</a> or sign up for our mailing list to stay updated on our latest projects. We look forward to hearing from you!</p>

