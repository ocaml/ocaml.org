---
title: Launching the First-Class Windows Project
description: "We want to make learning and using OCaml easier for more people. Realising
  this goal involves expanding OCaml support to where the users are\u2026"
url: https://tarides.com/blog/2024-05-22-launching-the-first-class-windows-project
date: 2024-05-22T00:00:00-00:00
preview_image: https://tarides.com/static/01354a6adbfcfdfa0ba1a41444d2cd4d/d6c95/microsoft.jpg
authors:
- Tarides
source:
---

<p>We want to make learning and using OCaml easier for more people. Realising this goal involves expanding OCaml support to where the users are and making their experience smooth and hassle-free.</p>
<p>It is generally accepted that the current state of OCaml on Windows is not comparable to other popular platforms like Linux and macOS. This is the case even though Windows is the preferred platform for <a href="https://survey.stackoverflow.co/2023/#technology-most-popular-technologies">60% of developers</a> and the platform that around <a href="https://plausible.ci.dev/ocaml.org">33% of OCaml.org visitors</a> use! To address this misalignment, we are launching a new project called the <em>First-Class Windows Project</em>.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#why-windows" aria-label="why windows permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why Windows?</h2>
<p>If the above statistics are not compelling enough, consider that the Windows platform accounts for around <a href="https://gs.statcounter.com/os-market-share/desktop/worldwide/#monthly-202401-202402-bar">75% of laptop/desktop installations</a> and around <a href="https://store.steampowered.com/hwsurvey/Steam-Hardware-Software-Survey-Welcome-to-Steam?platform=combined">97% of PC gaming</a>. What this tells us is that for many people around the world, Windows is the platform that they are most familiar with. It follows that if we make it easier to use OCaml on Windows, we open up the language to an influx of new users.</p>
<p>These include independent developers who may only be comfortable with the Windows platform, large organisations that can't easily switch their operating system, and several teaching institutions that may use Windows as the default OS for their students.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#long--and-short-term-goals-of-the-project" aria-label="long  and short term goals of the project permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Long- and Short-Term Goals of the Project</h2>
<p>The long-term goal is to make Windows a 'first-class' citizen among OCaml platforms, meaning that we deliver an OCaml development experience that matches Linux and macOS. This ambitious project is split into two parts: technical work encompassing the compiler, build tools, development environments, community packages, and set-up tools, alongside advocacy work centred around communication and community collaboration. We need to collaborate closely with the community to not only create the best technical solutions but also be transparent about how they are prioritised and why.</p>
<p>To this end, our first port of call will be to deliver a roadmap outlining the steps necessary to  fully support OCaml on Windows. This roadmap needs to be based on real data and insights from users and reviewed by the OCaml community to ensure it matches the needs of the wider ecosystem. We aim to go beyond &quot;just works&quot; to provide a top-notch developer experience on Windows. For this, we intend to take the following approach.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#creating-a-roadmap" aria-label="creating a roadmap permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating a Roadmap</h2>
<p>Is OCaml Windows yet? We have made significant progress towards a better OCaml experience on Windows with Opam 2.2, adding <a href="https://discuss.ocaml.org/t/ann-opam-2-2-0-beta1/13913">native Windows support</a>. Furthermore, the 5.3 release later this year will <a href="https://github.com/ocaml/ocaml/pull/12954">restore MSVC ports</a> to the compiler.</p>
<p>But there's more work to do! Our first mission is to craft a precise list of tasks collaboratively with OCaml community members and commercial users. This will help us prioritise areas of development in the best way. Tarides has the resources to lead this work as we do extensive work on the OCaml compiler, develop many of the platform tools, and lead the CI for the community. Combining our knowledge with that of the community, we have all the components needed to succeed.</p>
<p>To get us started, we have identified five steps required to create our roadmap:</p>
<ol>
<li>Document the current state of OCaml on Windows</li>
<li>Survey the community and commercial users</li>
<li>Survey Windows support in other languages</li>
<li>Review package managers and installation software for Windows</li>
<li>Publish review results and produce a roadmap</li>
</ol>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#document-the-current-state-of-ocaml-on-windows" aria-label="document the current state of ocaml on windows permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Document the Current State of OCaml on Windows</h3>
<p>There are several open-source alternatives available for installing OCaml on Windows machines. Each comes with its own challenges. We expect that the release of <code>opam</code> 2.2 will alleviate some, but it is not a silver bullet.</p>
<p>Another factor we need to address is that the current system is deeply tied to Unix-based scripting, necessitating a Unix layer on Windows for OCaml to function. At present, <a href="http://www.cygwin.com">Cygwin</a> provides this layer, and there's no plan to change that anytime soon. However, as part of this project, we also want to implement native Windows support and remove the Unix layer.</p>
<p>Against this background, step one aims to understand the state of current Windows solutions in OCaml and evaluate their effectiveness. Having this baseline is crucial for any future improvements.</p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#survey-the-community-and-commercial-users" aria-label="survey the community and commercial users permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Survey the Community and Commercial Users</h3>
<p>To coordinate the efforts of many individuals and organisations and enable knowledge sharing, we will set up a working group composed of representatives with different interests. This group will be open and meet regularly to take stock of challenges and progress towards solutions. There are multiple ways to use OCaml on Windows, and different groups of users congregate around different workflows. We want to get as much information from these users as possible, and we mustn't section off these discussions in silos.</p>
<p>We have also published a survey for OCaml users on Windows as another way to understand user experience. We will publish the results of this survey and details on the working group soon.</p>
<p>As a personal aside, I (Sudha) was oblivious to many ways to use OCaml on Windows merely because I had never tried to use OCaml on a Windows machine. This changed when we had to help participants set up OCaml on Windows machines at our OCaml Workshop at the IndiaFOSS conference. Adding to our woes, the venue's WiFi was not great, making it even harder to install WSL. We had to finally resort to using an online REPL (<code>replit</code>).</p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#survey-windows-support-in-other-languages" aria-label="survey windows support in other languages permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Survey Windows Support in Other Languages</h3>
<p>OCaml developers tend to disproportionately favour Unix-based systems, and according to the <a href="https://docs.google.com/forms/d/1OZV7WCprDnouU-rIEuw-1lDTeXrH_naVlJ77ziXQJfg/viewanalytics">2020 OCaml User Survey</a>, only 11% of the respondents programmed on a Windows machine. Over time, this has led to the compiler and applications being optimised for Unix-based systems. Furthermore, the lack of testing on Windows contributes to a subpar experience on the platform. Our goal is to provide a native Windows experience; to do so, we need to account for any bias that may be present due to a lack of experience with OCaml on Windows.</p>
<p>To correct bias and explore best practices, we intend to study other languages that have excellent Windows support, such as Rust and Go, and languages native to Windows, such as C# and F#. Interestingly, similar efforts have been made in languages like Rust to get the UX and performance on Windows on par with Unix environments. We hope lessons from the past will help us chart an informed path for OCaml.</p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#review-package-managers-and-installation-software-for-windows" aria-label="review package managers and installation software for windows permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Review Package Managers and Installation Software for Windows</h3>
<p>As part of this project, we will evaluate the feasibility of moving from a Unix-centric approach to Windows-native components. To do so, we will prototype the packaging of the OCaml platform using the following systems: the OCaml compiler distributed via <a href="https://vcpkg.io/en/">VCPKG</a>, an Opam repository with some selected external dependencies (<code>depexts</code>) migrated to VCPKG, and Opam available via <a href="https://learn.microsoft.com/en-us/windows/package-manager/winget/">Winget</a>. This exploration will help us gain information and experience before crafting a solution.</p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#publish-review-results-and-produce-a-roadmap" aria-label="publish review results and produce a roadmap permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Publish Review Results and Produce a Roadmap</h3>
<p>We will display the results of our review efforts on a page titled &quot;Is OCaml Windows yet?&quot;, similar to <a href="https://ocaml.org/docs/is-ocaml-web-yet">&quot;Is OCaml Web Yet&quot;</a>. The page will also host the roadmap and be regularly updated so that OCaml.org visitors get an accurate and current status of the project.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#we-want-your-input" aria-label="we want your input permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>We Want Your Input!</h2>
<p>The success of this project depends on input from the OCaml community. We need to build a picture of what works and what doesn't, not just in OCaml but in other languages. These pain points and best practices will then inform the roadmap we create, and your feedback is critical to ensure we can make the Windows developer experience in OCaml as good as possible!</p>
<p>If you want to share something regarding Windows or anything else about this project, please <a href="https://tarides.com/contact/">contact us</a> on our website and let us know your thoughts. You will find updates on the project on the <a href="https://discuss.ocaml.org/">OCaml Discuss forum</a>, as well as on our <a href="https://twitter.com/tarides_">X</a> page (formerly known as Twitter) and <a href="https://www.linkedin.com/company/tarides">LinkedIn</a>.</p>
