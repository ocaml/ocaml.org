---
title: Presenting on Algebraic Effects at FP-SYD
description: "At ICFP this year, KC Sivaramakrishnan gave two talks that put OCaml
  5 in the spotlight: his keynote, \u201CRetrofitting Concurrency - Lessons\u2026"
url: https://tarides.com/blog/2022-11-15-presenting-on-algebraic-effects-at-fp-syd
date: 2022-11-15T00:00:00-00:00
preview_image: https://tarides.com/static/195e36c5f0b19f28b8a999d93ff22a9c/3234f/prism.jpg
featured:
---

<p>At ICFP this year, <a href="https://kcsrk.info/">KC Sivaramakrishnan</a> gave two talks that put OCaml 5 in the spotlight: his <a href="https://youtu.be/6BhmRz7eqiE">keynote</a>, &ldquo;Retrofitting Concurrency - Lessons from the Engine Room,&rdquo; and the <a href="https://speakerdeck.com/kayceesrk/ocaml-5-dot-0">opening presentation</a> of the OCaml workshop, &ldquo;OCaml 5.0 - Concurrent and Parallel Programming.&rdquo; <em>Effect Handlers</em> feature heavily, as they are the foundations on which concurrency primitives were added to OCaml. Since I knew very little about <em>effects</em> in this context, I asked KC for some pointers on where to start with learning about them. He pointed me to the <a href="https://koka-lang.github.io">Koka programming language</a>, encouraging me to set it up, play with it, and see how its type systems work with effects and effect handlers.</p>
<p>Following the usual tradition of learning something by committing to give a talk on it, I signed up to speak about <em>algebraic effects</em> at my local functional programming meetup, <a href="https://www.meetup.com/FP-Syd/">FP-SYD</a>. I figured that I would have a friendly audience that would be forgiving of excessive hand waving! :)</p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#brain-food" aria-label="brain food permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Brain Food</h3>
<p>I had an absolute blast learning about <em>algebraic effects</em>! Koka was really easy to install and use. Its rich set of examples and excellent documentation make it work really well as a place to explore the concepts of effect systems.</p>
<p>That got me started, but what really hooked me was discovering Andrej Bauer&rsquo;s paper, <em>What is Algebraic about Algebraic Effects and Handlers.</em> As a mathematician, I found it to be an accessible way of getting to the topic's theoretical underpinnings (see <a href="https://github.com/yallop/effects-bibliography#2018">here</a> for the paper and videos). Next, Matija Pretnar&rsquo;s <a href="http://www.eff-lang.org/handlers-tutorial.pdf">tutorial</a>, <em>An Introduction to Algebraic Effects and Handlers,</em> complimented Bauer's work really well.</p>
<p>As I learned more about the topic, I realised just how deep an area this is, and I realised how little I would know about it in four weeks of enthusiastic (but decidedly surface-level) reading. So, I decided to pitch the talk as an overview or a survey of the field. To make things concrete, I would also focus on examples from the effect handling systems of Koka and OCaml 5.</p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#the-talk" aria-label="the talk permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The Talk</h3>
<p>October&rsquo;s FP-SYD was on the 19th. Around 6pm in Sydney&rsquo;s Central Business District, about twenty people showed up, ate pizza, and settled into general functional programming-related geekery. Haskell is very strongly represented in this community, and it turned out that most of the audience had not spent much time with effect systems, as their tools for working with effects have been Monads, Monad Transformers, and accompanying abstractions.</p>
<p>I enjoyed talking through what I had learned about Algebraic Effects. Since I've worked on Haskell teams, I connected with the community on the various ways  computational effects are handled between pure and impure functional languages. It was great to reference Alexis King's recent work that resulted in delimited continuations <a href="https://github.com/ghc-proposals/ghc-proposals/blob/master/proposals/0313-delimited-continuation-primops.rst">being added to GHC.</a> The examples from Koka helped give folks a taste for the type systems that include effects and values. I also leaned on the excellent work of KC and the Tarides team, borrowing heavily from the material they have written on effect handlers for the OCaml manual.</p>
<p>The talk certainly delivered, as it got me started on the vast topic of <em>algebraic effects</em>. It also piqued the curiosity of at least a few people in my community, so that&rsquo;s not nothing! :)</p>
<h3 style="position:relative;"><a href="https://tarides.com/feed.xml#acknowledgements" aria-label="acknowledgements permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Acknowledgements</h3>
<p>I am particularly grateful to KC for getting me curious and giving me material and inspiration to get started. Thanks also to Sudha Parimala for putting together a comprehensive tutorial on parallelism and effects in OCaml and for answering questions and making helpful suggestions.  My colleague and friend Tim McGilchrist runs the FP-SYD meetup, so he helped by asking a lot of really good questions, listening to a draft version of the talk, and generally providing support and encouragement. Thanks, Tim! :)</p>
<p>The slides of my talk are available on the FP-SYD <a href="https://github.com/fp-syd/meetings/blob/master/2022/2022-10-Keswani-Algebraic-Effects-Survey.pdf">repository</a>.</p>
