---
title: OCaml 5 With Multicore Support Is Here!
description: "It's here! It's finally here! On Friday, 16 December 2022, the OCaml
  community announced the official release of Multicore OCaml! From the\u2026"
url: https://tarides.com/blog/2022-12-19-ocaml-5-with-multicore-support-is-here
date: 2022-12-19T00:00:00-00:00
preview_image: https://tarides.com/static/35feab48b7c6539b0d44060cedad3d77/0132d/OC5.jpg
featured:
---

<p>It's here! It's finally here! On Friday, 16 December 2022, the OCaml community <a href="https://discuss.ocaml.org/t/ocaml-5-0-0-is-out/10974/7">announced the official release of Multicore OCaml</a>! From the beginning, Tarides has been deeply involved in OCaml's evolution, so we're very proud to present OCaml 5!</p>
<p>Our work with the myriad of academics, industrial developers, and the entire OCaml community has been both inspiring and fulfilling. We look forward to continuing our collaboration for future iterations of OCaml. Watch <a href="https://www.youtube.com/watch?v=zJ4G0TKwzVc">KC's keynote</a> to get a visual overview of all OCaml 5 has to offer!</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#about-ocaml-5" aria-label="about ocaml 5 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>About OCaml 5</h2>
<p>OCaml is a pragmatic functional programming language. Its strength lies in the capacity to balance security, performance, and reliability. OCaml is used in both industry and academia to address problems in which a single mistake could be catastrophic, <a href="https://ocaml.org/success-stories/large-scale-trading-system">such as in finance</a> and <a href="https://ocaml.org/success-stories/sensor-analytics-and-automation-platform-for-sustainable-agriculture">sensor analytics</a> for sustainable agriculture. It's also used by millions of developers daily with <a href="https://www.docker.com/blog/how-docker-desktop-networking-works-under-the-hood/">Docker for Desktop</a>.</p>
<p>OCaml 5 brings the long-awaited runtime support for shared memory <a href="https://v2.ocaml.org/releases/5.0/manual/parallelism.html">parallelism</a> and <a href="https://v2.ocaml.org/releases/5.0/manual/effects.html">effect handlers</a>. It is a major change (including the full rewrite of a new, concurrent garbage collector), but we worked hard to ensure there would be no breakage for existing OCaml users. This release combines the security and safety of OCaml with new features that bring huge performance benefits and an improved methodology for writing concurrent code.</p>
<p>OCaml 5 supports both the the x86-64 and ARM64 architectures, so Linux, the BSDs, macOS, and Mingw-w64 on Windows are all supported. Over the next year, the OCaml community and Tarides will restore support for most previously-supported architectures that fall outside of this range, but this doesn't mean you can't use OCaml now! OCaml 5 seeks to be completely backwards-compatible, and programs written for any version of OCaml 4 will continue to work in OCaml 5.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#multicore" aria-label="multicore permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multicore</h2>
<p>With technological advances and the explosive growth of machines with more and more available cores, it's necessary for programming languages to support multicore technology. Until this new release, OCaml was single-threaded, meaning it could only utilise one core to run code. With OCaml 5, programs can now exploit multiple cores and execute processes in parallel, providing users with enhanced performance and efficiency.</p>
<p>Performance is key with OCaml 5 to ensure your programs run smoother, faster, and more efficient, a significant achievement in turning cutting-edge science into real-life applications and industrial-strength tools.</p>
<p>Multicore OCaml has been in the making for 8 years and required a full rewrite of it runtime environment, so you can believe that the OCaml community is absolutely thrilled to see this come to fruition from their years of hard work. Multicore support ensures beginners can achieve the same productivity as OCaml experts!</p>
<p>If you come across any unexpected behaviours that aren't covered by the few exceptions listed on the <a href="https://discuss.ocaml.org/t/ocaml-5-0-0-is-out/10974">Discuss post</a>, please report them on the <a href="https://github.com/ocaml/ocaml/issues">OCaml issue tracker</a>.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#eio--concurrency" aria-label="eio  concurrency permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Eio &amp; Concurrency</h2>
<p>Concurrency in OCaml 5 is supported through the use of effect handlers, a new feature that enables the development of concurrent applications in a seamless fashion. The developer experience is improved, now that programmers can simply write concurrent code in the same style as non-concurrent code.</p>
<p><a href="https://github.com/ocaml-multicore/eio">Eio</a>, our experimental, high-performant I/O library, is an excellent example of use for effect handlers. Since we've already demonstrated that we can reach millions of requests per second while keeping simple, direct-style code, OCaml 5 is meant to be on par with Rust (and outperforms Go) for I/O heavy workloads.</p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 578px; ">
      <a href="https://tarides.com/static/ce6f7c661802b2b8eda379f465a7cb87/508ef/eio1.png" class="gatsby-resp-image-link" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 67.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxklEQVQ4y42Ui46jMAxF+f9PZEYr+pgWAoEkkBch3JHTBmi3K60lFyhwfG9iUyzLAmMMJmNh7Z703/H6PfN97yyEGuH9DIrCOQfOOS7XGk3DcDqdUJ1O6eF1XRFj/CtJBNaIJUZIG1AxCW3MAzgMA6RS4O03WHNDWX6hqipQofegAjlMWNEpAz1KxOECZ5/Avu+htQbTHKOZMPQDqIj3foMk0BM2R4DLCYK3iGMHzBph9slRAjLGMI4jEPFRUVZFv8kJq+FVByy7g7AsO7BpmgRM63KAHGFeMvD6gkkQyG8FHvdXhBB2IFmepukNGNMLyaYRiKQofrCQncQVzj4UF3VdbwpXwuR1Dx6LauCsxN0wcNtDWAHhhsfxeS6dxF3dYfKmtG2bFJLsbEXJHwj+B73hUPMEGwxCDB9zWRdYb3fLXdclIJF8cLgMFZg4I2Tb/xHkLrdZoZQCpTQDGt1A+zFv8UvvHXvwPV42hehSSXz/fMFokxZXSJH6kJTP85zW2Hm3jRupIRF0Tkd6bgPmKnrS6QUCSSnTOJZlCWormpzb7Ybz+Yzr9QpaJipCYyiEeOmQ4thvx8gfAJoiUkQq6JryX2NJwF9xG0O6WitdtAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img src="https://tarides.com/static/ce6f7c661802b2b8eda379f465a7cb87/508ef/eio1.png" class="gatsby-resp-image-image" alt="Eio Performance" title="Eio Performance" srcset="/static/ce6f7c661802b2b8eda379f465a7cb87/04472/eio1.png 170w,
/static/ce6f7c661802b2b8eda379f465a7cb87/9f933/eio1.png 340w,
/static/ce6f7c661802b2b8eda379f465a7cb87/508ef/eio1.png 578w" sizes="(max-width: 578px) 100vw, 578px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async"/>
  </a>
    </span></p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 572px; ">
      <a href="https://tarides.com/static/cd13a47efa1219429ec495747f257b73/a805e/eio2.png" class="gatsby-resp-image-link" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 67.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4ElEQVQ4y3WT63LbIBCF/f5v13/pTKepa1u2bF1AiJtAfJ0lsWKnyZk5A4jdw9kV7JxzWGuR8U7rHN45gvcE71DG0WvD8A3bQRNjRLCbpgljTF2s61oJhSVljIuMLrE/3+i1RbsF5Ra0T2gXNzaDqSaqYNu21ZWglFLH42BptccuhRQsqAPYDtwA0cBioWQe4b1/E7xer5ugYMkr3Rzfo0awA6V6lgNXSnSUYCjyfe4oTpGmrraoCl4ul01dMNql9g1zpYT5Xai8kWfUdY5kO344PB6Pm0Nx14s7daAsbnP1JHIXf6cgreXrko8qMPUXWOOTSEiBmCNpTXyF8igoJTtnq5vr+QBOEUvGLjMqqMrGNPSuRwfN6BWjHyuVzMNIN3cfgk3TEILHxYTtzsTsOU2nmiCOPrvKa2ZZE3HN274JZquyOoxLQo+KQ/eLPoz/l/SpZ9M007Yd5/OZ/f4vzan5EByGgWEc+fn6A5vmTWR9+BmPYgJjbmi15/XPnpeXFx5/7G6aDM3lyKH9zRIT8nK01jVgnuc6l2clVEphZ0s/Dexvp+pMWiaCslcFU0p4H7hfMkkUobszKavv+5ogo8TXO28dIYS3a5PS9nx335V1n8sBEiyH5Jyf9u7v/zHnH9E7QgJzyYDpAAAAAElFTkSuQmCC'); background-size: cover; display: block;"></span>
  <img src="https://tarides.com/static/cd13a47efa1219429ec495747f257b73/a805e/eio2.png" class="gatsby-resp-image-image" alt="Eio Performance" title="Eio Performance" srcset="/static/cd13a47efa1219429ec495747f257b73/04472/eio2.png 170w,
/static/cd13a47efa1219429ec495747f257b73/9f933/eio2.png 340w,
/static/cd13a47efa1219429ec495747f257b73/a805e/eio2.png 572w" sizes="(max-width: 572px) 100vw, 572px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async"/>
  </a>
    </span></p>
<p>With Eio, asynchronous and synchronous code can be composed together naturally, solving the <a href="https://www.tedinski.com/2018/11/13/function-coloring.html">function colouring problem</a> that affects many languages, including programs written in earlier versions of OCaml. This makes OCaml easier to use, even if you're new to the language.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#runtime-events" aria-label="runtime events permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Runtime Events</h2>
<p>Another huge improvement with OCaml 5 is Runtime Events, a library included with OCaml 5's runtime, which efficiently processes performance data from the garbage collector (GC) and runtime. Runtime Events provides continuous monitoring of OCaml applications. Multicore programs are notoriously hard to debug and profile, so we ensured that OCaml 5 has a built-in mechanism to build great, relevant tooling. The basis of this is Runtime Events.</p>
<p>Read more about Runtime Events in the <a href="https://v2.ocaml.org/releases/5.0/htmlman/runtime-tracing.html">OCaml Manual</a>, and watch the <a href="https://watch.ocaml.org/videos/watch/299cab02-db94-44ac-b926-ea90ddda1b09">OCaml Workshop</a> for a visual introduction to Runtime Events. Also check out these WIP tools: <a href="https://github.com/sadiqj/runtime_events_tools">olly</a> and <a href="https://github.com/patricoferris/meio">meio</a>.</p>
<h2 style="position:relative;"><a href="https://tarides.com/feed.xml#open-source-and-open-arms" aria-label="open source and open arms permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Open Source and Open Arms</h2>
<p>OCaml 5 is freely available to everyone worldwide. For installation instructions, compiler configurations, and a detailed list of changes and new features, please visit <a href="https://discuss.ocaml.org/t/ocaml-5-0-0-is-out/10974">this OCaml Discuss post</a>. While you're there, join in the conversation! We welcome you to the OCaml community with open arms! There has never been a better time to learn and use OCaml. Give it a try, and please report any problems to the <a href="https://github.com/ocaml/ocaml/issues">OCaml issue tracker</a>.</p>
<p>Read more about the journey to Multicore, Runtime Events, Eio, and more over the next six weeks in our OCaml 5 blog series. It will include several articles highlighting OCaml 5's new features, interviews with OCaml engineers, and reasons why OCaml should be the next language you learn. Follow us on <a href="https://twitter.com/tarides_">Twitter</a> and <a href="https://www.linkedin.com/company/tarides">LinkedIn</a> so you don't miss a thing!</p>
<p>This OCaml 5 release is the best holiday gift for developers, both experienced and those new to programming. <a href="https://tarides.com/blog/2022-11-24-solve-the-2022-advent-of-code-puzzles-with-ocaml">Enjoy!</a></p>
<blockquote>
<p>Tarides is always happy to discuss commercial opportunities around OCaml. Especially with the OCaml 5 release, there are many areas where we can help industrial users to adopt OCaml 5 more quickly, including training, support, custom developments, etc. Please <a href="https://tarides.com/company/">contact us</a> if you are interested in discussing your needs.</p>
</blockquote>
