---
title: 2.4.0~alpha1
tags:
- opam
- platform
authors:
- kit-ty-kate
contributors:
changelog:
versions:
unstable: false
ignore: false
github_release_tags:
- 2.4.0-alpha1
---

<p>This is the first alpha release of opam 2.4.0.</p>
<p>Binaries and full archive are signed by the <a href="https://opam.ocaml.org/opam-dev-pubkey.pgp" rel="nofollow">opam dev team</a> (fingerprint <code>92C5 26AE 50DF 3947 0EB2 911B ED4C F1CA 67CB AA92</code>).</p>
<p>Please see our <a href="https://opam.ocaml.org/blog/opam-2-4-0-alpha1" rel="nofollow">blog post</a> for a highlight on the major changes and upgrade instructions.</p>
<p><a href="https://github.com/ocaml/opam/blob/2.4.0-alpha1/CHANGES">Changelog</a>:</p>
<p>Possibly scripts breaking changes are prefixed with ✘.<br>
New option/command/subcommand are prefixed with ◈.</p>
<h2>Major changes</h2>
<h3>Init</h3>
<ul>
<li>Remove <code>ocaml-system</code> from the list of default compilers chosen at <code>opam init</code> time [<a href="https://github.com/ocaml/opam/pull/6307" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2676443179" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6307" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6307/hovercard">#6307</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/3509" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="351296710" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/3509" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/3509/hovercard">#3509</a>]</li>
</ul>
<h3>Patch: update &amp; install</h3>
<ul>
<li>Patches are now applied using the <code>patch</code> OCaml library instead of GNU Patch [<a href="https://github.com/ocaml/opam/pull/5892" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2198404902" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5892" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5892/hovercard">#5892</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/6019" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2351694975" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6019" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6019/hovercard">#6019</a> <a href="https://github.com/ocaml/opam/issues/6052" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2370661742" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6052" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6052/hovercard">#6052</a> <a href="https://github.com/ocaml/opam/issues/3782" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="420588169" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/3782" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/3782/hovercard">#3782</a> <a href="https://github.com/ocaml/setup-ocaml/pull/933" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2840323459" data-permission-text="Title is private" data-url="https://github.com/ocaml/setup-ocaml/issues/933" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/setup-ocaml/pull/933/hovercard">ocaml/setup-ocaml#933</a>]
<ul>
<li>Context diffs are not supported anymore, only Unified diffs are (including its git extensions)</li>
<li>Stop support of file permission changes via git extension to the unified diff specification</li>
<li>GNU <code>patch</code> and the <code>diff</code> command are no longer runtime dependencies</li>
</ul>
</li>
</ul>
<h3>Depexts</h3>
<ul>
<li>Support providing external dependencies with Nix by adding support for stateless depexts systems [<a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/RyanGibb" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/RyanGibb/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@RyanGibb</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/5124" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1211650010" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5124" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/5124/hovercard">#5124</a>]</li>
</ul>
<h3>Show</h3>
<ul>
<li><code>opam show</code> now displays the version number of packages flagged with <code>avoid-version</code>/<code>deprecated</code> gray [<a href="https://github.com/ocaml/opam/pull/6358" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2773649438" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6358" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6358/hovercard">#6358</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/6354" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2771465710" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6354" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6354/hovercard">#6354</a>]</li>
</ul>
<h3>Install</h3>
<ul>
<li>Fix <code>opam install &lt;local_dir&gt;</code> not updating or storing pinned packages' metadata [<a href="https://github.com/ocaml/opam/pull/6209" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2546390571" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6209" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6209/hovercard">#6209</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/5567" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1738047615" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5567" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/5567/hovercard">#5567</a>]</li>
<li>Fix <code>opam install --deps-only/--show-action &lt;local_dir&gt;</code> not updating (without storing) pinned packages' metadata [<a href="https://github.com/ocaml/opam/pull/6209" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2546390571" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6209" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6209/hovercard">#6209</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/5567" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1738047615" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5567" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/5567/hovercard">#5567</a>]</li>
</ul>
<h3>Pin</h3>
<ul>
<li>✘ Fail when trying to pin a package whose definition could not be found instead of forcing interactive edition (e.g. this could happen when making a typo in the package name of a pin-depends) [<a href="https://github.com/ocaml/opam/pull/6319" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2707839642" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6319" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6319/hovercard">#6319</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/6322" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2712202814" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6322" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6322/hovercard">#6322</a>]</li>
<li>◈ <code>opam pin</code>/<code>opam pin list</code> now displays the current revision of a pinned repository in a new column [<a href="https://github.com/ocaml/opam/pull/6274" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2619473582" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6274" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6274/hovercard">#6274</a> <a href="https://github.com/desumn" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/desumn/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@desumn</a> - fix <a href="https://github.com/ocaml/opam/issues/5533" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1692923909" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5533" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/5533/hovercard">#5533</a>]</li>
</ul>
<h3>Admin</h3>
<ul>
<li>◈ Add <code>opam admin compare-versions</code> to compare package versions for sanity checks [<a href="https://github.com/ocaml/opam/pull/6197" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2526304326" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6197" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6197/hovercard">#6197</a> <a href="https://github.com/mbarbin" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/mbarbin/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@mbarbin</a>]</li>
<li>◈ Add <code>opam admin migrate-extrafiles</code> which moves all <code>extra-files</code> of an existing opam repository into <code>extra-sources</code> [<a href="https://github.com/ocaml/opam/pull/5960" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2301183768" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5960" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5960/hovercard">#5960</a> <a href="https://github.com/hannesm" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/hannesm/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@hannesm</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>✘ The <code>-i</code>/<code>--ignore-test-doc</code> argument has been removed from <code>opam admin check</code> [<a href="https://github.com/ocaml/opam/pull/6335" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2730965600" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6335" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6335/hovercard">#6335</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>✘ <code>opam admin check</code> now sets <code>with-test</code> and <code>with-doc</code> to <code>false</code> instead of <code>true</code> [<a href="https://github.com/ocaml/opam/pull/6335" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2730965600" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6335" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6335/hovercard">#6335</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
</ul>
<h2>Miscellaneous changes</h2>
<h3>Global CLI</h3>
<ul>
<li>Add <code>--cli</code>/<code>OPAMCLI</code> version 2.4 [<a href="https://github.com/ocaml/opam/pull/6268" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2614762156" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6268" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6268/hovercard">#6268</a> <a href="https://github.com/mbarbin" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/mbarbin/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@mbarbin</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
</ul>
<h3>Install</h3>
<ul>
<li>Remove the build directories of pinned packages after successful builds [<a href="https://github.com/ocaml/opam/pull/6436" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2953569087" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6436" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6436/hovercard">#6436</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
</ul>
<h3>UI</h3>
<ul>
<li>Improve the messages when a package is not up-to-date on opam upgrade [<a href="https://github.com/ocaml/opam/pull/6272" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2618939038" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6272" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6272/hovercard">#6272</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/6270" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2618879810" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6270" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6270/hovercard">#6270</a>]</li>
<li>Use a non-underline uppercase character to denote the default when asking a question [<a href="https://github.com/ocaml/opam/pull/6289" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2640954952" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6289" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6289/hovercard">#6289</a> <a href="https://github.com/hannesm" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/hannesm/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@hannesm</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/6288" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2640605177" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6288" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6288/hovercard">#6288</a>]</li>
<li>Do not pre-write the answer to questions with the default anwser [<a href="https://github.com/ocaml/opam/pull/6376" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2810572299" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6376" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6376/hovercard">#6376</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>Display Windows <code>NTSTATUS</code> exit codes in hex [<a href="https://github.com/ocaml/opam/pull/6401" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2881197118" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6401" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6401/hovercard">#6401</a> <a href="https://github.com/dra27" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/dra27/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@dra27</a> <a href="https://github.com/MisterDA" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/MisterDA/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@MisterDA</a>]</li>
</ul>
<h3>Switch</h3>
<ul>
<li>Fix <code>opam switch remove &lt;dir&gt;</code> failure when it is a linked switch [<a href="https://github.com/ocaml/opam/pull/6276" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2621552180" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6276" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6276/hovercard">#6276</a> <a href="https://github.com/btjorge" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/btjorge/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@btjorge</a> - fix <a href="https://github.com/ocaml/opam/issues/6275" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2621389220" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6275" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6275/hovercard">#6275</a>]</li>
<li>Fix <code>opam switch list-available</code> when given several arguments [<a href="https://github.com/ocaml/opam/pull/6318" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2707198695" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6318" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6318/hovercard">#6318</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>Correctly handle <code>pkg.version</code> pattern in <code>opam switch list-available</code> [<a href="https://github.com/ocaml/opam/pull/6186" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2500558483" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6186" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6186/hovercard">#6186</a> <a href="https://github.com/arozovyk" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/arozovyk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@arozovyk</a> - fix <a href="https://github.com/ocaml/opam/issues/6152" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2463124533" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6152" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6152/hovercard">#6152</a>]</li>
</ul>
<h3>Upgrade</h3>
<ul>
<li>Do not show the not-up-to-date message with packages tagged with <code>avoid-version</code>/<code>deprecated</code> [<a href="https://github.com/ocaml/opam/pull/6273" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2619175841" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6273" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6273/hovercard">#6273</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/6271" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2618893346" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6271" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6271/hovercard">#6271</a>]</li>
<li>Fix a regression on <code>opam upgrade &lt;package&gt;</code> upgrading unrelated packages [<a href="https://github.com/ocaml/opam/pull/6373" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2804553438" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6373" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6373/hovercard">#6373</a> <a href="https://github.com/AltGr" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/AltGr/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@AltGr</a>]</li>
<li>Fix a regression on <code>opam upgrade --all &lt;uninstalled-pkg&gt;</code> not upgrading the whole switch [<a href="https://github.com/ocaml/opam/pull/6373" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2804553438" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6373" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6373/hovercard">#6373</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
</ul>
<h3>Source</h3>
<ul>
<li>◈ Add options <code>--require-checksums</code> and <code>--no-checksums</code> to harmonise with <code>opam install</code> [<a href="https://github.com/ocaml/opam/pull/5563" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1727925094" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5563" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5563/hovercard">#5563</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
</ul>
<h3>Lint</h3>
<ul>
<li>◈ Add W74 to <code>opam lint</code> to detect <code>pin-depends</code> packages that are neither present in the <code>depends</code> no <code>depopts</code> field [<a href="https://github.com/ocaml/opam/pull/6317" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2703018553" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6317" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6317/hovercard">#6317</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> - fix <a href="https://github.com/ocaml/opam/issues/5795" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2094891937" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5795" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/5795/hovercard">#5795</a>]</li>
<li>◈ Add E63 to <code>opam lint</code> to check for availability guard in case an opam file contains a <code>subpath</code> field [<a href="https://github.com/ocaml/opam/pull/6438" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2956330480" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6438" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6438/hovercard">#6438</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
</ul>
<h3>Lock</h3>
<ul>
<li>Fix <code>pin-depends</code> for <code>with-*</code> dependencies when creating a lock file [<a href="https://github.com/ocaml/opam/pull/5471" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1617959575" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5471" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5471/hovercard">#5471</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> - fix <a href="https://github.com/ocaml/opam/issues/5428" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1556401060" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5428" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/5428/hovercard">#5428</a>]</li>
<li>◈ Add <code>opam lock --keep-local</code> to keep local pins url in <code>pin-depends</code> field [<a href="https://github.com/ocaml/opam/pull/6411" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2901144451" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6411" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6411/hovercard">#6411</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> - fix <a href="https://github.com/ocaml/opam/issues/4897" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1047696144" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/4897" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/4897/hovercard">#4897</a>]</li>
</ul>
<h3>Env</h3>
<ul>
<li>Add the <code>OPAMSOLVERTOLERANCE</code> environment variable to allow users to fix solver timeouts for good [<a href="https://github.com/ocaml/opam/pull/5510" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1668743054" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5510" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5510/hovercard">#5510</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/3230" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="299392554" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/3230" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/3230/hovercard">#3230</a>]</li>
<li>Don't write empty environment update segments to <code>variables.sh</code> (<code>FOO += ""</code> no longer adds <code>FOO='':"$FOO"; export FOO;</code>) [<a href="https://github.com/ocaml/opam/pull/6198" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2528574077" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6198" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6198/hovercard">#6198</a> <a href="https://github.com/dra27" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/dra27/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@dra27</a>]</li>
</ul>
<h3>Sandbox</h3>
<ul>
<li>Respect the <code>DUNE_CACHE_ROOT</code> environment variable if it exists [<a href="https://github.com/ocaml/opam/pull/6326" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2721531935" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6326" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6326/hovercard">#6326</a> <a href="https://github.com/smorimoto" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/smorimoto/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@smorimoto</a>]</li>
<li>Fix sandboxing support in NixOS [<a href="https://github.com/ocaml/opam/pull/6333" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2730795436" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6333" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6333/hovercard">#6333</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
</ul>
<h4>Software Heritage</h4>
<ul>
<li>Rework Software heritage fallback to have a more correct archive retrieval and more fine grained error handling [<a href="https://github.com/ocaml/opam/pull/6036" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2362883779" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6036" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6036/hovercard">#6036</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> - fix <a href="https://github.com/ocaml/opam/issues/5721" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1984355144" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5721" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/5721/hovercard">#5721</a>]</li>
<li>Fix Software Heritage liveness check [<a href="https://github.com/ocaml/opam/pull/6036" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2362883779" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6036" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6036/hovercard">#6036</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> - fix <a href="https://github.com/ocaml/opam/issues/5721" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1984355144" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5721" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/5721/hovercard">#5721</a>]</li>
<li>Update the Software Heritage API requests [<a href="https://github.com/ocaml/opam/pull/6036" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2362883779" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6036" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6036/hovercard">#6036</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
<li>Remove <code>wget</code> support for Software Heritage fallback [<a href="https://github.com/ocaml/opam/pull/6036" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2362883779" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6036" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6036/hovercard">#6036</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> - fix <a href="https://github.com/ocaml/opam/issues/5721" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1984355144" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5721" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/5721/hovercard">#5721</a>]</li>
</ul>
<h3>Repository</h3>
<ul>
<li>Fix <code>curl</code> download command selection when loaded from global config file [<a href="https://github.com/ocaml/opam/pull/6302" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2662572063" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6302" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6302/hovercard">#6302</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
<li>Check that the repositories given to <code>opam repository remove</code> actually exist [<a href="https://github.com/ocaml/opam/pull/5014" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1109365134" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5014" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5014/hovercard">#5014</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fixes <a href="https://github.com/ocaml/opam/issues/5012" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1109247600" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5012" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/5012/hovercard">#5012</a>]</li>
<li>✘ Symlinks in repositories are no longer supported [<a href="https://github.com/ocaml/opam/pull/5892" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2198404902" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5892" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5892/hovercard">#5892</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>Fix <code>subpath</code> handling in opam files defining a local archive [<a href="https://github.com/ocaml/opam/pull/6439" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2957058783" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6439" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6439/hovercard">#6439</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
</ul>
<h3>Init</h3>
<ul>
<li>Fix the detection of <code>ZDOTDIR</code> when using <code>zsh</code> [<a href="https://github.com/ocaml/opam/pull/6299" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2660670894" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6299" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6299/hovercard">#6299</a> <a href="https://github.com/acasta-yhliu" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/acasta-yhliu/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@acasta-yhliu</a> - fix <a href="https://github.com/ocaml/opam/issues/6281" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2625026928" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6281" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6281/hovercard">#6281</a>]</li>
</ul>
<h3>External dependencies (depexts)</h3>
<ul>
<li>◈ Add <code>apt-rpm</code>/ALTLinux family support for depexts [<a href="https://github.com/ocaml/opam/pull/6207" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2540463593" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6207" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6207/hovercard">#6207</a> <a href="https://github.com/RiderALT" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/RiderALT/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@RiderALT</a>]</li>
<li>Fix the detection of installed external packages on OpenBSD to not just consider manually installed packages [<a href="https://github.com/ocaml/opam/pull/6362" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2781694274" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6362" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6362/hovercard">#6362</a> <a href="https://github.com/semarie" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/semarie/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@semarie</a>]</li>
<li>Speedup the detection of available system packages with <code>pacman</code> and <code>brew</code> [<a href="https://github.com/ocaml/opam/pull/6324" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2719581672" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6324" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6324/hovercard">#6324</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>Change probing tool for SUSE-based distributions from <code>zypper</code> to <code>rpm</code> [<a href="https://github.com/ocaml/opam/pull/6464" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2977426182" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6464" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6464/hovercard">#6464</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>Disable the detection of available system packages on SUSE-based distributions [<a href="https://github.com/ocaml/opam/pull/6464" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2977426182" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6464" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6464/hovercard">#6464</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>Add support for stateless depexts systems, by keeping synchronised already installed systems dependencies with switch state [<a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/RyanGibb" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/RyanGibb/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@RyanGibb</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
</ul>
<h3>Pin</h3>
<ul>
<li>Don't ask confirmation when pinning an unknown package (absent from repositories) [<a href="https://github.com/ocaml/opam/pull/6309" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2680795007" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6309" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6309/hovercard">#6309</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> - fix <a href="https://github.com/ocaml/opam/issues/3199" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="292139863" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/3199" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/3199/hovercard">#3199</a>]</li>
<li>Do not ask to install <code>pin-depends</code> twice [<a href="https://github.com/ocaml/opam/pull/6375" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2805389070" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6375" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6375/hovercard">#6375</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/6374" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2804657881" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6374" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6374/hovercard">#6374</a>]</li>
<li>Ensure the right version (the pinned one) of packages are used when simulating pinning [<a href="https://github.com/ocaml/opam/pull/6256" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2606622795" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6256" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6256/hovercard">#6256</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/6248" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2594546830" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6248" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6248/hovercard">#6248</a> <a href="https://github.com/ocaml/opam/issues/6379" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2836236793" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6379" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6379/hovercard">#6379</a>]</li>
<li>No longer double pin of packages located in ./opam/opam [<a href="https://github.com/ocaml/opam/pull/6343" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2751580782" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6343" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6343/hovercard">#6343</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/6342" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2750206597" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6342" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6342/hovercard">#6342</a>]</li>
</ul>
<h4>Build changes</h4>
<ul>
<li>Simplify the making of stripped binaries by introducing the <code>make opam-stripped</code> target [<a href="https://github.com/ocaml/opam/pull/6208" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2542607847" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6208" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6208/hovercard">#6208</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>Fix compilation on macOS with OCaml 5.3 by bumping the downloaded-if-missing <code>mccs</code> to 1.1+19 [<a href="https://github.com/ocaml/opam/pull/6192" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2507623344" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6192" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6192/hovercard">#6192</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>Upgrade the downloaded-if-missing <code>opam-file-format</code> to 2.2.0~alpha1, <code>spdx_licenses</code> to 1.3.0 and <code>dune</code> to 3.16.1 [<a href="https://github.com/ocaml/opam/pull/6321" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2709745907" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6321" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6321/hovercard">#6321</a> <a href="https://github.com/ocaml/opam/pull/6370" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2797656944" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6370" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6370/hovercard">#6370</a> <a href="https://github.com/ocaml/opam/pull/6192" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2507623344" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6192" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6192/hovercard">#6192</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/6369" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2797642773" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6369" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6369/hovercard">#6369</a>]</li>
<li><code>menhir</code> is now part of the transitive dependency of opam (via <code>opam-file-format</code>) [<a href="https://github.com/ocaml/opam/pull/6321" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2709745907" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6321" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6321/hovercard">#6321</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
</ul>
<h3>Admin</h3>
<ul>
<li>Fix <code>opam admin check</code> in the presence of the <code>with-dev-setup</code> variable [<a href="https://github.com/ocaml/opam/pull/6331" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2730680626" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6331" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6331/hovercard">#6331</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> - fix <a href="https://github.com/ocaml/opam/issues/6329" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2729702022" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6329" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6329/hovercard">#6329</a>]</li>
</ul>
<h3>Download</h3>
<ul>
<li>Add <code>fetch</code> on DragonFlyBSD and <code>ftp</code> on NetBSD to the list of download tools to use, if available [<a href="https://github.com/ocaml/opam/pull/6304" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2668819182" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6304" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6304/hovercard">#6304</a> <a href="https://github.com/ocaml/opam/pull/6305" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2669760232" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6305" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6305/hovercard">#6305</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>Prefer <code>curl</code> over any other download tools on every systems, if available [<a href="https://github.com/ocaml/opam/pull/6305" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2669760232" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6305" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6305/hovercard">#6305</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>Avoid issues when using <code>wget2</code> as download-tool where the requested url might return an HTML page instead of the expected content [<a href="https://github.com/ocaml/opam/pull/6303" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2663695384" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6303" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6303/hovercard">#6303</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
</ul>
<h3>Internal</h3>
<ul>
<li>Allow running some opam commands on machines with limited amount of memory by running <code>Gc.compact</code> while the main process is waiting for the children processes [<a href="https://github.com/ocaml/opam/pull/5396" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1504665864" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5396" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5396/hovercard">#5396</a> <a href="https://github.com/kkeundotnet" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kkeundotnet/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kkeundotnet</a>]</li>
<li>Use a C stub to call the <code>uname</code> function from the C standard library instead of calling the <code>uname</code> POSIX command [<a href="https://github.com/ocaml/opam/pull/6217" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2557462964" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6217" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6217/hovercard">#6217</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>Only download Cygwin's <code>setup.exe</code> when the command is actually going to be displayed or used [<a href="https://github.com/ocaml/opam/pull/6467" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2981028430" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6467" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6467/hovercard">#6467</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
</ul>
<h3>Testing and documentation</h3>
<ul>
<li>Improve and extend the tests [<a href="https://github.com/ocaml/opam/pull/5892" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2198404902" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5892" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5892/hovercard">#5892</a> <a href="https://github.com/ocaml/opam/pull/6276" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2621552180" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6276" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6276/hovercard">#6276</a> <a href="https://github.com/ocaml/opam/pull/6331" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2730680626" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6331" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6331/hovercard">#6331</a> <a href="https://github.com/ocaml/opam/pull/6343" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2751580782" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6343" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6343/hovercard">#6343</a> <a href="https://github.com/ocaml/opam/pull/6378" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2830694687" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6378" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6378/hovercard">#6378</a> <a href="https://github.com/ocaml/opam/pull/6273" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2619175841" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6273" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6273/hovercard">#6273</a> <a href="https://github.com/ocaml/opam/pull/6380" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2838392257" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6380" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6380/hovercard">#6380</a> <a href="https://github.com/ocaml/opam/pull/6373" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2804553438" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6373" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6373/hovercard">#6373</a> <a href="https://github.com/ocaml/opam/pull/6307" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2676443179" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6307" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6307/hovercard">#6307</a> <a href="https://github.com/ocaml/opam/pull/6256" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2606622795" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6256" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6256/hovercard">#6256</a> <a href="https://github.com/ocaml/opam/pull/6412" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2901150696" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6412" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6412/hovercard">#6412</a> <a href="https://github.com/ocaml/opam/pull/6438" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2956330480" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6438" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6438/hovercard">#6438</a> <a href="https://github.com/ocaml/opam/pull/6439" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2957058783" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6439" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6439/hovercard">#6439</a> <a href="https://github.com/ocaml/opam/pull/6436" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2953569087" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6436" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6436/hovercard">#6436</a> <a href="https://github.com/ocaml/opam/pull/6166" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2476026703" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6166" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6166/hovercard">#6166</a> <a href="https://github.com/ocaml/opam/pull/6209" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2546390571" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6209" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6209/hovercard">#6209</a> <a href="https://github.com/ocaml/opam/pull/6198" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2528574077" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6198" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6198/hovercard">#6198</a> <a href="https://github.com/ocaml/opam/pull/6319" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2707839642" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6319" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6319/hovercard">#6319</a> <a href="https://github.com/ocaml/opam/pull/6467" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2981028430" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6467" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6467/hovercard">#6467</a> <a href="https://github.com/ocaml/opam/pull/5643" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1865462530" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5643" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5643/hovercard">#5643</a> <a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> <a href="https://github.com/btjorge" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/btjorge/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@btjorge</a>]</li>
<li>Improve and extend the benchmarks [<a href="https://github.com/ocaml/opam/pull/6212" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2548885710" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6212" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6212/hovercard">#6212</a> <a href="https://github.com/ocaml/opam/pull/6443" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2958952129" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6443" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6443/hovercard">#6443</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li>Improve and extend the test infrastructure [<a href="https://github.com/ocaml/opam/pull/5349" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1446082042" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5349" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5349/hovercard">#5349</a> <a href="https://github.com/ocaml/opam/pull/6296" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2658917407" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6296" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6296/hovercard">#6296</a> <a href="https://github.com/ocaml/opam/pull/6274" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2619473582" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6274" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6274/hovercard">#6274</a> <a href="https://github.com/ocaml/opam/pull/6313" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2696134760" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6313" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6313/hovercard">#6313</a> <a href="https://github.com/ocaml/opam/pull/6363" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2782695534" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6363" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6363/hovercard">#6363</a> <a href="https://github.com/ocaml/opam/pull/6192" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2507623344" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6192" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6192/hovercard">#6192</a> <a href="https://github.com/ocaml/opam/pull/5663" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1890907238" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5663" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5663/hovercard">#5663</a> <a href="https://github.com/ocaml/opam/pull/6383" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2845413502" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6383" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6383/hovercard">#6383</a> <a href="https://github.com/ocaml/opam/pull/6444" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2958966945" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6444" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6444/hovercard">#6444</a> <a href="https://github.com/ocaml/opam/pull/6447" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2960542433" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6447" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6447/hovercard">#6447</a> <a href="https://github.com/ocaml/opam/pull/6471" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2989620994" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6471" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6471/hovercard">#6471</a> <a href="https://github.com/ocaml/opam/pull/6469" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2983786283" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6469" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6469/hovercard">#6469</a> <a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> <a href="https://github.com/RyanGibb" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/RyanGibb/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@RyanGibb</a>]</li>
<li>Improve and extend the documentation [<a href="https://github.com/ocaml/opam/pull/6226" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2564384952" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6226" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6226/hovercard">#6226</a> <a href="https://github.com/ocaml/opam/pull/6231" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2576398358" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6231" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6231/hovercard">#6231</a> <a href="https://github.com/ocaml/opam/pull/6252" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2596475817" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6252" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6252/hovercard">#6252</a> <a href="https://github.com/ocaml/opam/pull/6150" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2458268747" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6150" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6150/hovercard">#6150</a> <a href="https://github.com/ocaml/opam/pull/6267" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2614403637" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6267" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6267/hovercard">#6267</a> <a href="https://github.com/ocaml/opam/pull/6251" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2595252427" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6251" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6251/hovercard">#6251</a> <a href="https://github.com/ocaml/opam/pull/6306" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2676014602" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6306" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6306/hovercard">#6306</a> <a href="https://github.com/ocaml/opam/pull/6315" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2701536420" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6315" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6315/hovercard">#6315</a> <a href="https://github.com/ocaml/opam/pull/5659" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1889836038" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5659" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5659/hovercard">#5659</a> <a href="https://github.com/ocaml/opam/pull/6320" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2709310946" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6320" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6320/hovercard">#6320</a> <a href="https://github.com/ocaml/opam/pull/6338" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2736100146" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6338" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6338/hovercard">#6338</a> <a href="https://github.com/ocaml/opam/pull/6361" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2781183755" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6361" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6361/hovercard">#6361</a> <a href="https://github.com/ocaml/opam/pull/6358" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2773649438" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6358" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6358/hovercard">#6358</a> <a href="https://github.com/ocaml/opam/pull/5627" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1841188130" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5627" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5627/hovercard">#5627</a> <a href="https://github.com/ocaml/opam/pull/6372" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2800329564" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6372" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6372/hovercard">#6372</a> <a href="https://github.com/ocaml/opam/pull/6470" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2988955290" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6470" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6470/hovercard">#6470</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> <a href="https://github.com/RyanGibb" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/RyanGibb/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@RyanGibb</a> <a href="https://github.com/gridbugs" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/gridbugs/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@gridbugs</a> <a href="https://github.com/fccm2" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/fccm2/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@fccm2</a> <a href="https://github.com/shym" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/shym/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@shym</a> <a href="https://github.com/hannesm" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/hannesm/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@hannesm</a> <a href="https://github.com/tobil4sk" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/tobil4sk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@tobil4sk</a> <a href="https://github.com/juergenhoetzel" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/juergenhoetzel/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@juergenhoetzel</a> <a href="https://github.com/MisterDA" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/MisterDA/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@MisterDA</a>]</li>
</ul>
<h2>API updates</h2>
<h3>opam-client</h3>
<ul>
<li><code>OpamAction.prepare_package_build</code>: now returns <code>exn option</code> instead of <code>exn option OpamProcess.job</code> and no longer calls the system GNU Patch [<a href="https://github.com/ocaml/opam/pull/5892" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2198404902" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5892" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5892/hovercard">#5892</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamArg.InvalidCLI</code>: export exception [<a href="https://github.com/ocaml/opam/pull/6150" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2458268747" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6150" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6150/hovercard">#6150</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
<li><code>OpamArg.hash_kinds</code>: was added [<a href="https://github.com/ocaml/opam/pull/5960" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2301183768" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5960" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5960/hovercard">#5960</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamArg</code>: export <code>require_checksums</code> and <code>no_checksums</code>, that are shared with <code>build_options</code> [<a href="https://github.com/ocaml/opam/pull/5563" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1727925094" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5563" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5563/hovercard">#5563</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
<li><code>OpamAuxCommands.{simulate_autopin,autopin ~simulate:true}</code>: now updates the <code>reinstall</code> field of the returned <code>switch_state</code> if necessary [<a href="https://github.com/ocaml/opam/pull/6209" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2546390571" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6209" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6209/hovercard">#6209</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamLockCommand.lock_opam</code>: add <code>~keep_local</code> argument to add local pins to pin-depends (and not resolve them) [<a href="https://github.com/ocaml/opam/pull/6411" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2901144451" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6411" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6411/hovercard">#6411</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
<li><code>OpamLockCommand.lock_opam</code>: make the <code>?only_direct</code> argument non-optional [<a href="https://github.com/ocaml/opam/pull/6411" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2901144451" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6411" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6411/hovercard">#6411</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamRepositoryCommand.switch_repos</code>: expose the function [<a href="https://github.com/ocaml/opam/pull/5014" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1109365134" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5014" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5014/hovercard">#5014</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamSolution.install_depexts</code>: instead of the package set of new package to install, now takes 2 labelled arguments <code>pkg_to_install</code> and <code>pkg_installed</code> to be able to keep synchronised stateless depext systems [<a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> <a href="https://github.com/RyanGibb" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/RyanGibb/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@RyanGibb</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamSolution.install_sys_packages</code>: no longer takes set of package to install but <code>OpamSysPkg.to_install</code> [<a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> <a href="https://github.com/RyanGibb" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/RyanGibb/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@RyanGibb</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamSolution.print_depext_msg</code>: takes now an <code>OpamSysPkg.status</code> instead of sets [<a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> <a href="https://github.com/RyanGibb" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/RyanGibb/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@RyanGibb</a>]</li>
</ul>
<h3>opam-repository</h3>
<ul>
<li><code>OpamDownload.download</code>: more fine grained HTTP request error code detection for curl [<a href="https://github.com/ocaml/opam/pull/6036" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2362883779" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6036" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6036/hovercard">#6036</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
<li><code>OpamDownload.get_output</code>: fix <code>wget</code> option for <code>POST</code> requests [<a href="https://github.com/ocaml/opam/pull/6036" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2362883779" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6036" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6036/hovercard">#6036</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
<li><code>OpamDownload.get_output</code>: use long form for <code>curl</code> <code>POST</code> request option [<a href="https://github.com/ocaml/opam/pull/6036" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2362883779" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6036" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6036/hovercard">#6036</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
<li><code>OpamLocal.pull_url</code>: fix subpath handling when the url is a local archive [<a href="https://github.com/ocaml/opam/pull/6439" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2957058783" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6439" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6439/hovercard">#6439</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
<li><code>OpamRepository.revision</code>: now returns a <code>string</code> instead of a <code>version</code> [<a href="https://github.com/ocaml/opam/pull/6409" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2898059998" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6409" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6409/hovercard">#6409</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamRepositoryBackend.S.revision</code>: now returns a <code>string</code> instead of a <code>version</code> [<a href="https://github.com/ocaml/opam/pull/6409" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2898059998" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6409" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6409/hovercard">#6409</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamRepositoryBackend.get_diff</code>: now raises <code>Stdlib.Failure</code> if an unsupported file type or comparison is detected [<a href="https://github.com/ocaml/opam/pull/5892" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2198404902" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5892" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5892/hovercard">#5892</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamRepositoryBackend.get_diff</code>: now returns <code>exn option</code> instead of <code>exn option OpamProcess.job</code> and no longer calls the system <code>diff</code> utility [<a href="https://github.com/ocaml/opam/pull/5892" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2198404902" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5892" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5892/hovercard">#5892</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
</ul>
<h3>opam-state</h3>
<ul>
<li><code>OpamStateConfig</code>: Make the <code>?lock_kind</code> parameters non-optional to avoid breaking the library users after they upgrade their opam root [<a href="https://github.com/ocaml/opam/pull/5488" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1634023616" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5488" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5488/hovercard">#5488</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamSwitchState.load_selections</code>: Make the <code>?lock_kind</code> parameter non-optional to avoid breaking the library users after they upgrade their opam root [<a href="https://github.com/ocaml/opam/pull/5488" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1634023616" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5488" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5488/hovercard">#5488</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamSysInteract.Cygwin.check_setup</code>: unexpose the function [<a href="https://github.com/ocaml/opam/pull/6467" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2981028430" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6467" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6467/hovercard">#6467</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamSysInteract.package_manager_name</code>: no longer build the command, or run an action to retrieve system package manager name [<a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
<li><code>OpamSysInteract.package_status</code>: SUSE-based distributions now uses <code>rpm</code> instead of <code>zypper</code> and no longer return an <code>available</code> set of system packages [<a href="https://github.com/ocaml/opam/pull/6464" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2977426182" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6464" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6464/hovercard">#6464</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamSysInteract.packages_status</code>: returns now a <code>OpamSysPkg.status</code> instead of sets [<a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a> <a href="https://github.com/RyanGib" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/RyanGib/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@RyanGib</a>]</li>
<li><code>OpamSysInteract.{install_packages_commands,install}: no longer takes set of package to install but </code>OpamSysPkg.to_install` [<a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> <a href="https://github.com/RyanGibb" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/RyanGibb/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@RyanGibb</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamSysInteract.{install_packages_commands,install}</code>: takes a new argument, a switch stat option, for stateless systems that need to write on switch [<a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/RyanGibb" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/RyanGibb/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@RyanGibb</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
<li><code>OpamSysInteract</code>: add <code>stateless_install</code> that return if system package manager is stateless one (per switch) [<a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
</ul>
<h3>opam-format</h3>
<ul>
<li><code>OpamFile.OPAM.{*read*,write*}</code>: Stop modifying the <code>available</code> field when handling the builtin <code>x-*</code> fields [<a href="https://github.com/ocaml/opam/pull/6438" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2956330480" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6438" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6438/hovercard">#6438</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamFile.Repos_config.t</code>: change the type to not allow repositories without an URL [<a href="https://github.com/ocaml/opam/pull/6249" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2594678497" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6249" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6249/hovercard">#6249</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamFormula.all_relop</code>: a list of all operators [<a href="https://github.com/ocaml/opam/pull/6197" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2526304326" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6197" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6197/hovercard">#6197</a> <a href="https://github.com/mbarbin" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/mbarbin/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@mbarbin</a>]</li>
<li><code>OpamFormula.string_of_relop</code>: export function [<a href="https://github.com/ocaml/opam/pull/6197" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2526304326" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6197" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6197/hovercard">#6197</a> <a href="https://github.com/mbarbin" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/mbarbin/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@mbarbin</a>]</li>
<li><code>OpamPath</code>: add <code>nix_env</code> inner switch path for nix environment [<a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/RyanGibb" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/RyanGibb/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@RyanGibb</a>]</li>
<li><code>OpamSysPkg</code>; add new type <code>to_install</code> to store system package to install information, newly requested ones and already installed required ones ; and its empty recode <code>to_install_empty</code> and display function <code>string_of_to_install</code> [<a href="https://github.com/ocaml/opam/pull/5982" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2326438009" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5982" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5982/hovercard">#5982</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
</ul>
<h3>opam-core</h3>
<ul>
<li><code>OpamConsole.pause</code>: Ensure the function always prints a newline character at the end [<a href="https://github.com/ocaml/opam/pull/6376" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2810572299" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6376" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6376/hovercard">#6376</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamConsole</code>: Replace <code>black</code> text style (unused and not very readable) by <code>gray</code> [<a href="https://github.com/ocaml/opam/pull/6358" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2773649438" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6358" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6358/hovercard">#6358</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamFilename.patch</code>: a named-parameter <code>~allow_unclean</code> was added [<a href="https://github.com/ocaml/opam/pull/5892" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2198404902" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5892" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5892/hovercard">#5892</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamFilename.patch</code>: now returns <code>exn option</code> instead of <code>exn option OpamProcess.job</code> and no longer calls the system GNU Patch [<a href="https://github.com/ocaml/opam/pull/5892" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2198404902" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5892" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5892/hovercard">#5892</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamHash.all_kinds</code>: was added, which returns the list of all possible values of <code>OpamHash.kind</code> [<a href="https://github.com/ocaml/opam/pull/5960" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2301183768" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5960" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5960/hovercard">#5960</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamParallel.*.{map,reduce,iter}</code>: Run <code>Gc.compact</code> when the main process is waiting for the children processes for the first time [<a href="https://github.com/ocaml/opam/pull/5396" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1504665864" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5396" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5396/hovercard">#5396</a> <a href="https://github.com/kkeundotnet" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kkeundotnet/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kkeundotnet</a>]</li>
<li><code>OpamStd.List.split</code>: Improve performance [<a href="https://github.com/ocaml/opam/pull/6210" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2548298220" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6210" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6210/hovercard">#6210</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamStd.Option.equal_some</code>: was added, which tests equality of an option with a value [<a href="https://github.com/ocaml/opam/pull/6381" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2844059762" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6381" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6381/hovercard">#6381</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamStd.Sys.get_freebsd_version</code>: was added, which returns the output of the <code>uname -U</code> command [<a href="https://github.com/ocaml/opam/pull/6217" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2557462964" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6217" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6217/hovercard">#6217</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamStd.Sys.get_long_bit</code>: was added, which returns the output of the <code>getconf LONG_BIT</code> command [<a href="https://github.com/ocaml/opam/pull/6217" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2557462964" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6217" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6217/hovercard">#6217</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamStd.Sys.getconf</code>: was removed, replaced by <code>get_long_bit</code> [<a href="https://github.com/ocaml/opam/pull/6217" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2557462964" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6217" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6217/hovercard">#6217</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamStd.Sys.uname</code>: now returns the memoized result of the <code>uname</code> function from the C standard library [<a href="https://github.com/ocaml/opam/pull/6217" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2557462964" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6217" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6217/hovercard">#6217</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamSystem.get_files</code>: was exposed which returns the list of files (without prefix) inside the given directory [<a href="https://github.com/ocaml/opam/pull/5892" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2198404902" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5892" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5892/hovercard">#5892</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamSystem.patch</code>: a named-parameter <code>~allow_unclean</code> was added [<a href="https://github.com/ocaml/opam/pull/5892" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2198404902" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5892" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5892/hovercard">#5892</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamSystem.patch</code>: do not remove the original patch file if called with <code>~preprocess:false</code> [<a href="https://github.com/ocaml/opam/pull/5892" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2198404902" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5892" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5892/hovercard">#5892</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamSystem.patch</code>: now returns <code>exn option</code> instead of <code>exn option OpamProcess.job</code> and no longer calls the system GNU Patch [<a href="https://github.com/ocaml/opam/pull/5892" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2198404902" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/5892" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/5892/hovercard">#5892</a> <a href="https://github.com/kit-ty-kate" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kit-ty-kate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@kit-ty-kate</a>]</li>
<li><code>OpamSystem.remove_dir</code>: do not fail with an exception when directory is a symbolic link [<a href="https://github.com/ocaml/opam/pull/6276" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2621552180" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6276" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6276/hovercard">#6276</a> <a href="https://github.com/btjorge" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/btjorge/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@btjorge</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a> - fix <a href="https://github.com/ocaml/opam/issues/6275" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2621389220" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6275" data-hovercard-type="issue" data-hovercard-url="/ocaml/opam/issues/6275/hovercard">#6275</a>]</li>
<li><code>OpamSystem</code>, <code>OpamFilename</code>: add <code>with_tmp_file</code> and <code>with_tmp_file_job</code> function, that create a file name in temporary directory and removes it at the end of the call [<a href="https://github.com/ocaml/opam/pull/6036" class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2362883779" data-permission-text="Title is private" data-url="https://github.com/ocaml/opam/issues/6036" data-hovercard-type="pull_request" data-hovercard-url="/ocaml/opam/pull/6036/hovercard">#6036</a> <a href="https://github.com/rjbou" class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rjbou/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@rjbou</a>]</li>
</ul>
