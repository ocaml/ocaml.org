---
title: 3.18.0~alpha0
tags:
- dune
- platform
authors:
- maiste
contributors:
description:
changelog:
versions:
unstable: true
ignore: false
---
CHANGES:

### Fixed

*   Support HaikuOS: don't call `execve` since it's not allowed if other pthreads  
    have been created. The fact that Haiku can't call `execve` from other threads  
    than the principal thread of a process (a team in haiku jargon), is a  
    discrepancy to POSIX and hence there is a [bug about  
    it](https://dev.haiku-os.org/ticket/18665). ([@Sylvain78](https://github.com/Sylvain78), [#10953](https://github.com/ocaml/dune/pull/10953))
*   Fix flag ordering in generated Merlin configurations ([#11503](https://github.com/ocaml/dune/pull/11503), [@voodoos](https://github.com/voodoos), fixes  
    [ocaml/merlin#1900](https://github.com/ocaml/merlin/issues/1900), reported by [@vouillon](https://github.com/vouillon))

### Added

*   Add `(format-dune-file <src> <dst>)` action. It provides a replacement to  
    `dune format-dune-file` command. ([#11166](https://github.com/ocaml/dune/pull/11166), [@nojb](https://github.com/nojb))
*   Allow the `--prefix` flag when configuring dune with `ocaml configure.ml`.  
    This allows to set the prefix just like `$ dune install --prefix`. ([#11172](https://github.com/ocaml/dune/pull/11172),  
    [@rgrinberg](https://github.com/rgrinberg))
*   Allow arguments starting with `+` in preprocessing definitions (starting with  
    `(lang dune 3.18)`). ([@amonteiro](https://github.com/amonteiro), [#11234](https://github.com/ocaml/dune/pull/11234))
*   Support for opam `(maintenance_intent ...)` in dune-project ([#11274](https://github.com/ocaml/dune/pull/11274), [@art-w](https://github.com/art-w))
*   Validate opam `maintenance_intent` ([#11308](https://github.com/ocaml/dune/pull/11308), [@art-w](https://github.com/art-w))
*   Support `not` in package dependencies constraints ([#11404](https://github.com/ocaml/dune/pull/11404), [@art-w](https://github.com/art-w), reported  
    by [@hannesm](https://github.com/hannesm))

### Changed

*   Warn when failing to discover root due to reads failing. The previous  
    behavior was to abort. ([@KoviRobi](https://github.com/KoviRobi), [#11173](https://github.com/ocaml/dune/pull/11173))
*   Use shorter path for inline-tests artifacts. ([@hhugo](https://github.com/hhugo), [#11307](https://github.com/ocaml/dune/pull/11307))
*   Allow dash in `dune init` project name ([#11402](https://github.com/ocaml/dune/pull/11402), [@art-w](https://github.com/art-w), reported by [@saroupille](https://github.com/saroupille))
*   On Windows, under heavy load, file delete operations can sometimes fail due to  
    AV programs, etc. Guard against it by retrying the operation up to 30x with a  
    1s waiting gap ([#11437](https://github.com/ocaml/dune/pull/11437), fixes [#11425](https://github.com/ocaml/dune/issues/11425), [@MSoegtropIMC](https://github.com/MSoegtropIMC))
*   Cache: we now only store the executable permission bit for files ([#11541](https://github.com/ocaml/dune/pull/11541),  
    fixes [#11533](https://github.com/ocaml/dune/issues/11533), [@ElectreAAS](https://github.com/ElectreAAS))
*   Display negative error codes on Windows in hex which is the more customary  
    way to display `NTSTATUS` codes ([#11504](https://github.com/ocaml/dune/pull/11504), [@MisterDA](https://github.com/MisterDA))