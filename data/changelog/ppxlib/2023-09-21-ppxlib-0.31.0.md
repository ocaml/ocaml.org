---
title: Ppxlib 0.31.0
date: "2023-09-21"
tags: [ppxlib, platform]
changelog: |
    - Fix support for OCaml 5.1: migrated code preserves generative
    functor warnings, without creating more. Locations are better
    preserved. (#432, @pitag-ha, @panglesd)

    - Driver: Add `-unused-code-warnings` command-line flag. (#444, @ceastlund)

    - Add `?warning` flag to `Deriving.Generator.make`. (#440, @jacksonzou123 via @ceastlund)

    - Restore the `path_arg` functionality in the V3 API. (#431, @ELLIOTTCABLE)

    - Expose migration/copying/etc. functions for all AST types needed by `Pprintast`. (#454, @antalsz)

    - Preserve quoted attributes on antiquotes in metaquot. (#441, @ncik-roberts)

    - Attribute namespaces: Fix semantics of reserving multi-component namespaces. (#443, @ncik-roberts)
---


We're happy to announce the release of `Ppxlib` 0.31.0. Shortly after OCaml 5.1.0 has been released,
this `Ppxlib` release fixes a bug in the support of OCaml 5.1.0. Before that bug fix, the warnings about a generative/applicative mismatch between a functor creation and its application introduced by OCaml 5.1.0 were also triggered when that mismatch didn't exist.

Furthermore, the release contains a couple of bug fixes in the context of attributes.

We're also excited about two main enhancements. One allows authors of extension node rewriters to add a
path argument to the extension node. That's excellent for hygiene since it allows the PPX to be explicit
about modules rather than depending on its scope.

The other main enhancement allows an opt-in for compiler warnings about unused code generated by
derivers (warnings w32 and w60). That opting in needs to happen on both sides of the deriver,
the writer side and the user side. Opting in to those code warnings will help to clean up unused code,
leading to performance improvements in compilation and editor support.
