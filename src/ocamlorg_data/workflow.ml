
type t =
  { title : string
  ; body_md : string
  ; body_html : string
  }

let all = 
[
  { title = "Bootstrap a project"
  ; body_md = "\n[Dune](https://dune.readthedocs.io/en/stable/overview.html) is recommended for bootstrapping projects using `dune init`. If `opam` or `dune` are not installed, please see [Up and Running with OCaml](/up-and-running-with-ocaml).\n\n> dune init --help\n>\n> **dune init {library,executable,test,project} NAME [PATH]** initialize a\n> new dune component of the specified kind, named NAME, with fields\n> determined by the supplied options.\n\nAs shown above, `dune init` accepts a _kind_, `NAME`, and optional `PATH` to scaffold new code. Let's try it out:\n\n```sh\ndune init project hello ~/src/ocaml-projects\n\nSuccess: initialized project component named hello\n```\n\nIn the above example, we use:\n\n- \"project\" as the _kind_\n- \"hello\" as the _name_, and\n- \"~/src/ocaml-projects\" as the _path_ to generate the content in\n\nThe `project` _kind_ creates a `library` in `./lib`, an `executable` in `./bin`, and links them together in `bin/dune`. Additionally, the command creates a test executable and an opam file.\n\n```sh\ntree ~/src/ocaml-projects/hello/\n\n/home/user/src/ocaml-projects/hello/\n\226\148\156\226\148\128\226\148\128 bin\n\226\148\130\194\160\194\160 \226\148\156\226\148\128\226\148\128 dune\n\226\148\130\194\160\194\160 \226\148\148\226\148\128\226\148\128 main.ml\n\226\148\156\226\148\128\226\148\128 hello.opam\n\226\148\156\226\148\128\226\148\128 lib\n\226\148\130\194\160\194\160 \226\148\148\226\148\128\226\148\128 dune\n\226\148\148\226\148\128\226\148\128 test\n    \226\148\156\226\148\128\226\148\128 dune\n    \226\148\148\226\148\128\226\148\128 hello.ml\n```\n\nAt this point, you can build the project and run the binary:\n\n```sh\ncd /home/user/src/ocaml-projects/hello/\ndune exec bin/main.exe\n\nHello, world!\n```\n\nThus, `dune init` can rapidly scaffold new projects, with minimal content. It can also be used to add components (kinds) incrementally to existing projects.\n\nVarious community projects offer more comprehensive project scaffolding than `dune` as well.\nThe following projects are not formally supported by the OCaml Platform, but may be of interest to the reader:\n\n- [spin](https://github.com/tmattio/spin)\n- [drom](https://ocamlpro.github.io/drom/sphinx/about.html)\n- [carcass](https://github.com/dbuenzli/carcass)\n"
  ; body_html = "<p><a href=\"https://dune.readthedocs.io/en/stable/overview.html\">Dune</a> is recommended for bootstrapping projects using <code>dune init</code>. If <code>opam</code> or <code>dune</code> are not installed, please see <a href=\"/up-and-running-with-ocaml\">Up and Running with OCaml</a>.</p>\n<blockquote>\n<p>dune init --help</p>\n<p><strong>dune init {library,executable,test,project} NAME [PATH]</strong> initialize a\nnew dune component of the specified kind, named NAME, with fields\ndetermined by the supplied options.</p>\n</blockquote>\n<p>As shown above, <code>dune init</code> accepts a <em>kind</em>, <code>NAME</code>, and optional <code>PATH</code> to scaffold new code. Let's try it out:</p>\n<pre><code class=\"language-sh\">dune init project hello ~/src/ocaml-projects\n\nSuccess: initialized project component named hello\n</code></pre>\n<p>In the above example, we use:</p>\n<ul>\n<li>&quot;project&quot; as the <em>kind</em>\n</li>\n<li>&quot;hello&quot; as the <em>name</em>, and\n</li>\n<li>&quot;~/src/ocaml-projects&quot; as the <em>path</em> to generate the content in\n</li>\n</ul>\n<p>The <code>project</code> <em>kind</em> creates a <code>library</code> in <code>./lib</code>, an <code>executable</code> in <code>./bin</code>, and links them together in <code>bin/dune</code>. Additionally, the command creates a test executable and an opam file.</p>\n<pre><code class=\"language-sh\">tree ~/src/ocaml-projects/hello/\n\n/home/user/src/ocaml-projects/hello/\n\226\148\156\226\148\128\226\148\128 bin\n\226\148\130\194\160\194\160 \226\148\156\226\148\128\226\148\128 dune\n\226\148\130\194\160\194\160 \226\148\148\226\148\128\226\148\128 main.ml\n\226\148\156\226\148\128\226\148\128 hello.opam\n\226\148\156\226\148\128\226\148\128 lib\n\226\148\130\194\160\194\160 \226\148\148\226\148\128\226\148\128 dune\n\226\148\148\226\148\128\226\148\128 test\n    \226\148\156\226\148\128\226\148\128 dune\n    \226\148\148\226\148\128\226\148\128 hello.ml\n</code></pre>\n<p>At this point, you can build the project and run the binary:</p>\n<pre><code class=\"language-sh\">cd /home/user/src/ocaml-projects/hello/\ndune exec bin/main.exe\n\nHello, world!\n</code></pre>\n<p>Thus, <code>dune init</code> can rapidly scaffold new projects, with minimal content. It can also be used to add components (kinds) incrementally to existing projects.</p>\n<p>Various community projects offer more comprehensive project scaffolding than <code>dune</code> as well.\nThe following projects are not formally supported by the OCaml Platform, but may be of interest to the reader:</p>\n<ul>\n<li><a href=\"https://github.com/tmattio/spin\">spin</a>\n</li>\n<li><a href=\"https://ocamlpro.github.io/drom/sphinx/about.html\">drom</a>\n</li>\n<li><a href=\"https://github.com/dbuenzli/carcass\">carcass</a>\n</li>\n</ul>\n"
  };
 
  { title = "Installing dependencies"
  ; body_md = "\n> **TL;DR**\n> \n> ```\n> opam switch create . --deps-only --with-test --with-doc\n> ```\nIt is recommended to install the dependencies of a project in a local opam switch to sandbox your development environment.\n\nIf you're using opam `2.0.X`, you can do this with:\n\n```\n# if you need external dependencies\nopam pin add -n .\nopam depext -i <packages>\nopam install . --deps-only --with-test --with-doc\n```\n\nIf you use opam `2.1.X`, it will install the system dependencies automatically, so you can run:\n\n```\nopam install . --deps-only --with-test --with-doc\n```\n\nNow, if for some reason you prefer to install your dependencies in a global switch, you can run:\n\n```\nopam switch set <switch_name>\nopam install . --deps-only --with-test --with-doc\n```\n\nOnce the dependencies have been installed successfully, and assuming the project uses `dune` as the build system, you can compile it with:\n\n```\nopam exec -- dune build\n```\n\nOr if you set your environment with `eval $(opam env)`:\n\n```\ndune build\n```\n"
  ; body_html = "<blockquote>\n<p><strong>TL;DR</strong></p>\n<pre><code>opam switch create . --deps-only --with-test --with-doc\n</code></pre>\n</blockquote>\n<p>It is recommended to install the dependencies of a project in a local opam switch to sandbox your development environment.</p>\n<p>If you're using opam <code>2.0.X</code>, you can do this with:</p>\n<pre><code># if you need external dependencies\nopam pin add -n .\nopam depext -i &lt;packages&gt;\nopam install . --deps-only --with-test --with-doc\n</code></pre>\n<p>If you use opam <code>2.1.X</code>, it will install the system dependencies automatically, so you can run:</p>\n<pre><code>opam install . --deps-only --with-test --with-doc\n</code></pre>\n<p>Now, if for some reason you prefer to install your dependencies in a global switch, you can run:</p>\n<pre><code>opam switch set &lt;switch_name&gt;\nopam install . --deps-only --with-test --with-doc\n</code></pre>\n<p>Once the dependencies have been installed successfully, and assuming the project uses <code>dune</code> as the build system, you can compile it with:</p>\n<pre><code>opam exec -- dune build\n</code></pre>\n<p>Or if you set your environment with <code>eval $(opam env)</code>:</p>\n<pre><code>dune build\n</code></pre>\n"
  };
 
  { title = "Updating dependencies"
  ; body_md = "\n> **TL;DR**\n> \n> If the project generates the `*.opam` file from the `dune-project`, add the dependency in the `package` stanza and run `opam install . --deps-only`.\n> If the project does not generate the `*.opam` file, add the dependency in the `*.opam` file and run `opam install . --deps-only`.\nTo avoid duplicating the project configuration into multiple files, Dune allows to generate the `*.opam` file of the project from the \npackage definitions in `dune-project` when adding the `(generate_opam_files true)` stanza.\n\nHowever, opam remains a central piece of the ecosystem and it's very likely that you will have to work with `*.opam` files at some point,\nso we don't take a stance on wether you should specify your dependencies in the `*.opam` file or in `dune-project`.\n\nIf the project generates the opam file from the `dune-project` (you can tell by the line `# This file is generated by dune, edit dune-project instead` at the top of the `*.opam` file), you can add your dependencies in the `dune-project` in the appropriate `package` stanza. It should look like this:\n\n```dune\n(package\n (name demo)\n (synopsis \"A short, but powerful statement about your project\")\n (description \"An complete and exhaustive description everything your project does.\")\n (depends\n  (ocaml\n   (>= 4.08.0))\n  dune\n  (alcotest :with-test)\n  (odoc :with-doc)))\n```\n\nOnce you have added your dependency, you can build your project with `dune build` which will re-generate the `*.opam` files.\n\nIf the `*.opam` files are not generated, you can add the dependencies in them directly, in the `depends` field. If should look like this:\n\n\n```opam\nopam-version: \"2.0\"\nsynopsis: \"A short, but powerful statement about your project\"\ndescription: \"An complete and exhaustive description everything your project does.\"\ndepends: [\n  \"ocaml\" {>= \"4.08.0\"}\n  \"dune\"\n  \"alcotest\" {with-test}\n  \"odoc\" {with-doc}\n]\nbuild: [\n  [\"dune\" \"subst\"] {pinned}\n  [\n    \"dune\"\n    \"build\"\n    \"-p\"\n    name\n    \"-j\"\n    jobs\n    \"@install\"\n    \"@runtest\" {with-test}\n    \"@doc\" {with-doc}\n  ]\n]\n```\n\nEither way, once you have added your dependency in the appropriate file, you can run `opam install . --deps-only` to update your current switch dependencies.\n"
  ; body_html = "<blockquote>\n<p><strong>TL;DR</strong></p>\n<p>If the project generates the <code>*.opam</code> file from the <code>dune-project</code>, add the dependency in the <code>package</code> stanza and run <code>opam install . --deps-only</code>.\nIf the project does not generate the <code>*.opam</code> file, add the dependency in the <code>*.opam</code> file and run <code>opam install . --deps-only</code>.\nTo avoid duplicating the project configuration into multiple files, Dune allows to generate the <code>*.opam</code> file of the project from the\npackage definitions in <code>dune-project</code> when adding the <code>(generate_opam_files true)</code> stanza.</p>\n</blockquote>\n<p>However, opam remains a central piece of the ecosystem and it's very likely that you will have to work with <code>*.opam</code> files at some point,\nso we don't take a stance on wether you should specify your dependencies in the <code>*.opam</code> file or in <code>dune-project</code>.</p>\n<p>If the project generates the opam file from the <code>dune-project</code> (you can tell by the line <code># This file is generated by dune, edit dune-project instead</code> at the top of the <code>*.opam</code> file), you can add your dependencies in the <code>dune-project</code> in the appropriate <code>package</code> stanza. It should look like this:</p>\n<pre><code><span class='dune-entity-tag-list-parenthesis'>(</span><span class='dune-meta-atom'>package</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'> </span><span class='dune-meta-stanza-library-field'>(</span><span class='dune-keyword-other'>name</span><span class='dune-meta-stanza-library-field'> </span><span class='dune-meta-atom'>demo</span><span class='dune-meta-stanza-library-field'>)</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'> </span><span class='dune-meta-stanza-library-field'>(</span><span class='dune-keyword-other'>synopsis</span><span class='dune-meta-stanza-library-field'> </span><span class='dune-punctuation-definition-string-begin'>\"</span><span class='dune-string-quoted-double'>A short, but powerful statement about your project</span><span class='dune-punctuation-definition-string-end'>\"</span><span class='dune-meta-stanza-library-field'>)</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'> </span><span class='dune-entity-tag-list-parenthesis'>(</span><span class='dune-meta-atom'>description</span><span class='dune-meta-list'> </span><span class='dune-punctuation-definition-string-begin'>\"</span><span class='dune-string-quoted-double'>An complete and exhaustive description everything your project does.</span><span class='dune-punctuation-definition-string-end'>\"</span><span class='dune-entity-tag-list-parenthesis'>)</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'> </span><span class='dune-entity-tag-list-parenthesis'>(</span><span class='dune-meta-atom'>depends</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'>  </span><span class='dune-entity-tag-list-parenthesis'>(</span><span class='dune-meta-atom'>ocaml</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'>   </span><span class='dune-entity-tag-list-parenthesis'>(</span><span class='dune-meta-list'>>= </span><span class='dune-constant-numeric'>4</span><span class='dune-meta-atom'>.08.0</span><span class='dune-entity-tag-list-parenthesis'>)</span><span class='dune-entity-tag-list-parenthesis'>)</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'>  </span><span class='dune-meta-atom'>dune</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'>  </span><span class='dune-entity-tag-list-parenthesis'>(</span><span class='dune-meta-atom'>alcotest</span><span class='dune-meta-list'> </span><span class='dune-constant-language-flag'>:with</span><span class='dune-meta-atom'>-test</span><span class='dune-entity-tag-list-parenthesis'>)</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'>  </span><span class='dune-entity-tag-list-parenthesis'>(</span><span class='dune-meta-atom'>odoc</span><span class='dune-meta-list'> </span><span class='dune-constant-language-flag'>:with</span><span class='dune-meta-atom'>-doc</span><span class='dune-entity-tag-list-parenthesis'>)</span><span class='dune-entity-tag-list-parenthesis'>)</span><span class='dune-entity-tag-list-parenthesis'>)</span><span class='dune-source'>\n</span></code></pre><p>Once you have added your dependency, you can build your project with <code>dune build</code> which will re-generate the <code>*.opam</code> files.</p>\n<p>If the <code>*.opam</code> files are not generated, you can add the dependencies in them directly, in the <code>depends</code> field. If should look like this:</p>\n<pre><code><span class='opam-entity-name-tag'>opam-version</span><span class='opam-keyword-operator'>:</span><span class='opam-source-ocaml'> </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>2.0</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'>\n</span><span class='opam-entity-name-tag'>synopsis</span><span class='opam-keyword-operator'>:</span><span class='opam-source-ocaml'> </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>A short, but powerful statement about your project</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'>\n</span><span class='opam-entity-name-tag'>description</span><span class='opam-keyword-operator'>:</span><span class='opam-source-ocaml'> </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>An complete and exhaustive description everything your project does.</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'>\n</span><span class='opam-entity-name-tag'>depends</span><span class='opam-keyword-operator'>:</span><span class='opam-source-ocaml'> [\n</span><span class='opam-source-ocaml'>  </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>ocaml</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'> {</span><span class='opam-keyword-operator'>>=</span><span class='opam-source-ocaml'> </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>4.08.0</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'>}\n</span><span class='opam-source-ocaml'>  </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>dune</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'>\n</span><span class='opam-source-ocaml'>  </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>alcotest</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'> {</span><span class='opam-variable-parameter'>with-test</span><span class='opam-source-ocaml'>}\n</span><span class='opam-source-ocaml'>  </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>odoc</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'> {</span><span class='opam-variable-parameter'>with-doc</span><span class='opam-source-ocaml'>}\n</span><span class='opam-source-ocaml'>]\n</span><span class='opam-entity-name-tag'>build</span><span class='opam-keyword-operator'>:</span><span class='opam-source-ocaml'> [\n</span><span class='opam-source-ocaml'>  [</span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>dune</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'> </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>subst</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'>] {</span><span class='opam-variable-parameter'>pinned</span><span class='opam-source-ocaml'>}\n</span><span class='opam-source-ocaml'>  [\n</span><span class='opam-source-ocaml'>    </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>dune</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'>\n</span><span class='opam-source-ocaml'>    </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>build</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'>\n</span><span class='opam-source-ocaml'>    </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>-p</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'>\n</span><span class='opam-source-ocaml'>    </span><span class='opam-variable-parameter'>name</span><span class='opam-source-ocaml'>\n</span><span class='opam-source-ocaml'>    </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>-j</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'>\n</span><span class='opam-source-ocaml'>    </span><span class='opam-variable-parameter'>jobs</span><span class='opam-source-ocaml'>\n</span><span class='opam-source-ocaml'>    </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>@install</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'>\n</span><span class='opam-source-ocaml'>    </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>@runtest</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'> {</span><span class='opam-variable-parameter'>with-test</span><span class='opam-source-ocaml'>}\n</span><span class='opam-source-ocaml'>    </span><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>@doc</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'> {</span><span class='opam-variable-parameter'>with-doc</span><span class='opam-source-ocaml'>}\n</span><span class='opam-source-ocaml'>  ]\n</span><span class='opam-source-ocaml'>]\n</span></code></pre><p>Either way, once you have added your dependency in the appropriate file, you can run <code>opam install . --deps-only</code> to update your current switch dependencies.</p>\n"
  };
 
  { title = "Updating development dependencies"
  ; body_md = "\n> **TL;DR**\n> \n> Follow the workflow \"Update dependencies\" and add a flag `:with-test` or `with-doc` to your dependency.\nOpam does not have a notion of development dependencies. Instead, each dependency can be either:\n\n- A normal dependency (used at runtime)\n- A build dependency (used to build the project)\n- A test dependency (used to test the project)\n- A documentation dependency (used to generate the documentation)\n\nWhen adding a new dependency, as seen in the \"Update dependencies\" workflow, you can add a flag to your dependency.\n\nFor `dune-project`, it looks like this:\n\n```dune\n(alcotest :with-test)\n```\n\nAnd for the `*.opam` file, it looks like:\n\n```opam\n\"alcotest\" {with-test}\n```\n\nThe available flags for each dependencies are:\n\n- Normal: no flag\n- Build: `build`\n- Test: `with-test`\n- Documentation: `with-doc`\n\nSee [opam documentation](https://opam.ocaml.org/doc/Manual.html#Package-variables) for more details on the opam syntax.\n"
  ; body_html = "<blockquote>\n<p><strong>TL;DR</strong></p>\n<p>Follow the workflow &quot;Update dependencies&quot; and add a flag <code>:with-test</code> or <code>with-doc</code> to your dependency.\nOpam does not have a notion of development dependencies. Instead, each dependency can be either:</p>\n</blockquote>\n<ul>\n<li>A normal dependency (used at runtime)\n</li>\n<li>A build dependency (used to build the project)\n</li>\n<li>A test dependency (used to test the project)\n</li>\n<li>A documentation dependency (used to generate the documentation)\n</li>\n</ul>\n<p>When adding a new dependency, as seen in the &quot;Update dependencies&quot; workflow, you can add a flag to your dependency.</p>\n<p>For <code>dune-project</code>, it looks like this:</p>\n<pre><code><span class='dune-entity-tag-list-parenthesis'>(</span><span class='dune-meta-atom'>alcotest</span><span class='dune-meta-list'> </span><span class='dune-constant-language-flag'>:with</span><span class='dune-meta-atom'>-test</span><span class='dune-entity-tag-list-parenthesis'>)</span><span class='dune-source'>\n</span></code></pre><p>And for the <code>*.opam</code> file, it looks like:</p>\n<pre><code><span class='opam-string-quoted-double'>\"</span><span class='opam-string-quoted-double'>alcotest</span><span class='opam-string-quoted-double'>\"</span><span class='opam-source-ocaml'> {</span><span class='opam-variable-parameter'>with-test</span><span class='opam-source-ocaml'>}\n</span></code></pre><p>The available flags for each dependencies are:</p>\n<ul>\n<li>Normal: no flag\n</li>\n<li>Build: <code>build</code>\n</li>\n<li>Test: <code>with-test</code>\n</li>\n<li>Documentation: <code>with-doc</code>\n</li>\n</ul>\n<p>See <a href=\"https://opam.ocaml.org/doc/Manual.html#Package-variables\">opam documentation</a> for more details on the opam syntax.</p>\n"
  };
 
  { title = "Selecting a compiler"
  ; body_md = "\n> **TL;DR**\n> \n> Use `opam switch set` to manually select the switch to use and use `dune-workspace` to automatically run commands in different environment.\n\nCompilation environments are managed with opam switches. The typical workflow is to have a local opam switch for the project, but you may need to select a different compilation environment (i.e. a different compiler version) sometimes. For instance, to run unit tests on an older/newer version of OCaml.\n\nTo do this, you'll need to create global opam switches. To create an opam switch with a given version of the compiler, you can use:\n\n```\nopam switch create 4.13.0 ocaml-base-compiler.4.13.0\n```\n\nThis will create a new switch called `4.13.0` with the compiler version `4.13.0`.\n\nThe list of available compiler version can be retrieved with:\n\n```\nopam switch list-available\n```\n\nThis will list the available compiler version for all of the configured Opam repositories.\n\nOnce you've created a switch (or you already have a switch you'd like to use), you can run:\n\n```\nopam switch set <switch_name>\neval $(opam env)\n```\n\nto configure the current environment with this switch.\n\nIf it is a new switch, you will need to reinstall your dependencies (see \"Installing dependencies\") with `opam install . --deps-only`.\n\nAlternatively, you may want to automatically run commands in a given set of compilation environments. To do this, you can create a file `dune-workspace` at the root of your project and list the opam switches you'd like to use there:\n\n\n```\n(lang dune 2.0)\n(context (opam (switch 4.11.0)))\n(context (opam (switch 4.12.0)))\n(context (opam (switch 4.13.0)))\n```\n\nAll the Dune commands you will run, will be run on all of the switches listed. For instance with the definition above:\n\n```\ndune runtest --workspace dune-workspace\n```\n\nDune will run the tests for OCaml `4.11.0`, `4.12.0` and `4.13.0`.\n"
  ; body_html = "<blockquote>\n<p><strong>TL;DR</strong></p>\n<p>Use <code>opam switch set</code> to manually select the switch to use and use <code>dune-workspace</code> to automatically run commands in different environment.</p>\n</blockquote>\n<p>Compilation environments are managed with opam switches. The typical workflow is to have a local opam switch for the project, but you may need to select a different compilation environment (i.e. a different compiler version) sometimes. For instance, to run unit tests on an older/newer version of OCaml.</p>\n<p>To do this, you'll need to create global opam switches. To create an opam switch with a given version of the compiler, you can use:</p>\n<pre><code>opam switch create 4.13.0 ocaml-base-compiler.4.13.0\n</code></pre>\n<p>This will create a new switch called <code>4.13.0</code> with the compiler version <code>4.13.0</code>.</p>\n<p>The list of available compiler version can be retrieved with:</p>\n<pre><code>opam switch list-available\n</code></pre>\n<p>This will list the available compiler version for all of the configured Opam repositories.</p>\n<p>Once you've created a switch (or you already have a switch you'd like to use), you can run:</p>\n<pre><code>opam switch set &lt;switch_name&gt;\neval $(opam env)\n</code></pre>\n<p>to configure the current environment with this switch.</p>\n<p>If it is a new switch, you will need to reinstall your dependencies (see &quot;Installing dependencies&quot;) with <code>opam install . --deps-only</code>.</p>\n<p>Alternatively, you may want to automatically run commands in a given set of compilation environments. To do this, you can create a file <code>dune-workspace</code> at the root of your project and list the opam switches you'd like to use there:</p>\n<pre><code>(lang dune 2.0)\n(context (opam (switch 4.11.0)))\n(context (opam (switch 4.12.0)))\n(context (opam (switch 4.13.0)))\n</code></pre>\n<p>All the Dune commands you will run, will be run on all of the switches listed. For instance with the definition above:</p>\n<pre><code>dune runtest --workspace dune-workspace\n</code></pre>\n<p>Dune will run the tests for OCaml <code>4.11.0</code>, <code>4.12.0</code> and <code>4.13.0</code>.</p>\n"
  };
 
  { title = "Running executables"
  ; body_md = "\n> **TL;DR**\n> \n> Add an `executable` stanza in your dune file and run the executable with `dune exec <executable_path>.exe` or `dune exec <public_name>`.\n\nTo tell dune to produce an executable, you can use the executable stanza:\n\n```dune\n(executable\n (name <executable_name>)\n (public_name <public_name>)\n (libraries <libraries...>))\n```\n\nThe `<executable_name>` is the name of the executable used internally in the project.\nThe `<public_name>` is the name of the installed binary when installing the package.\nFinally, `<libraries...>` is the list of libraries to link to the executable.\n\nOnce dune has produced the executable with `dune build`, you can execute it with `dune exec <executable_path>.exe` or `dune exec <public_name>`.\n\nFor instance, if you've put your dune file in `bin/dune` with the following content:\n\n```dune\n(executable\n (name main)\n (public_name my-app)\n (libraries))\n```\n\nYou can run it with `dune exec bin/main.exe` or `dune exec my-app`.\n"
  ; body_html = "<blockquote>\n<p><strong>TL;DR</strong></p>\n<p>Add an <code>executable</code> stanza in your dune file and run the executable with <code>dune exec &lt;executable_path&gt;.exe</code> or <code>dune exec &lt;public_name&gt;</code>.</p>\n</blockquote>\n<p>To tell dune to produce an executable, you can use the executable stanza:</p>\n<pre><code><span class='dune-meta-stanza'>(</span><span class='dune-meta-class-stanza'>executable</span><span class='dune-meta-stanza'>\n</span><span class='dune-meta-stanza'> </span><span class='dune-meta-stanza-library-field'>(</span><span class='dune-keyword-other'>name</span><span class='dune-meta-stanza-library-field'> </span><span class='dune-meta-stanza-library-field'><</span><span class='dune-meta-atom'>executable_name</span><span class='dune-meta-stanza-library-field'>></span><span class='dune-meta-stanza-library-field'>)</span><span class='dune-meta-stanza'>\n</span><span class='dune-meta-stanza'> </span><span class='dune-meta-stanza-library-field'>(</span><span class='dune-keyword-other'>public_name</span><span class='dune-meta-stanza-library-field'> </span><span class='dune-meta-stanza-library-field'><</span><span class='dune-meta-atom'>public_name</span><span class='dune-meta-stanza-library-field'>></span><span class='dune-meta-stanza-library-field'>)</span><span class='dune-meta-stanza'>\n</span><span class='dune-meta-stanza'> </span><span class='dune-meta-stanza-lib-or-exec-buildable'>(</span><span class='dune-keyword-other'>libraries</span><span class='dune-meta-stanza-lib-or-exec-buildable'> </span><span class='dune-meta-stanza-lib-or-exec-buildable'><</span><span class='dune-meta-atom'>libraries</span><span class='dune-meta-stanza-lib-or-exec-buildable'>...></span><span class='dune-meta-stanza-lib-or-exec-buildable'>)</span><span class='dune-meta-stanza'>)</span><span class='dune-source'>\n</span></code></pre><p>The <code>&lt;executable_name&gt;</code> is the name of the executable used internally in the project.\nThe <code>&lt;public_name&gt;</code> is the name of the installed binary when installing the package.\nFinally, <code>&lt;libraries...&gt;</code> is the list of libraries to link to the executable.</p>\n<p>Once dune has produced the executable with <code>dune build</code>, you can execute it with <code>dune exec &lt;executable_path&gt;.exe</code> or <code>dune exec &lt;public_name&gt;</code>.</p>\n<p>For instance, if you've put your dune file in <code>bin/dune</code> with the following content:</p>\n<pre><code><span class='dune-meta-stanza'>(</span><span class='dune-meta-class-stanza'>executable</span><span class='dune-meta-stanza'>\n</span><span class='dune-meta-stanza'> </span><span class='dune-meta-stanza-library-field'>(</span><span class='dune-keyword-other'>name</span><span class='dune-meta-stanza-library-field'> </span><span class='dune-meta-atom'>main</span><span class='dune-meta-stanza-library-field'>)</span><span class='dune-meta-stanza'>\n</span><span class='dune-meta-stanza'> </span><span class='dune-meta-stanza-library-field'>(</span><span class='dune-keyword-other'>public_name</span><span class='dune-meta-stanza-library-field'> </span><span class='dune-meta-atom'>my-app</span><span class='dune-meta-stanza-library-field'>)</span><span class='dune-meta-stanza'>\n</span><span class='dune-meta-stanza'> </span><span class='dune-entity-tag-list-parenthesis'>(</span><span class='dune-meta-atom'>libraries</span><span class='dune-entity-tag-list-parenthesis'>)</span><span class='dune-meta-stanza'>)</span><span class='dune-source'>\n</span></code></pre><p>You can run it with <code>dune exec bin/main.exe</code> or <code>dune exec my-app</code>.</p>\n"
  };
 
  { title = "Running tests"
  ; body_md = "\n> **TL;DR**\n> \n> Add a `test` stanza in your dune file and run the tests with `dune build @runtest`.\n\nTests are created using Dune's `test` stanza. The `test` stanza is a simple convenience wrapper that will create an executable and add it to the list of tests of the `@runtest` target.\n\nFor instance, if you add a test in your dune file:\n\n```dune\n(test\n (name dummy_test)\n (modules dummy_test))\n```\n\nwith a module `dummy_test.ml`:\n\n```ocaml\nlet () = exit 1\n```\n\nRunning `dune build @runtest` will fail with the following output:\n\n```\n  dummy_test alias src/ocamlorg_web/test/runtest (exit 1)\n```\n\nThis means that the test failed because the executable exited with the status code `1`.\n\nThe output is not very descriptive. If we want to create suites of unit tests, with several tests per files, and different kind of assertions, we will want to use a test framework such as Alcotest.\n\nLet's modify our dummy test to link to Alcotest:\n\n```dune\n(test\n (name dummy_test)\n (modules dummy_test)\n (libraries alcotest))\n```\n\nWith the following module:\n\n```ocaml\nopen Alcotest\n\nlet test_hello_with_name name () =\n  let greeting = \"Hello \" ^ name ^ \"!\" in\n  let expected = Printf.sprintf \"Hello %s!\" name in\n  check string \"same string\" greeting expected\n\nlet suite =\n  [ \"can greet Tom\", `Quick, test_hello_with_name \"Tom\"\n  ; \"can greet John\", `Quick, test_hello_with_name \"John\"\n  ]\n\nlet () =\n  Alcotest.run \"Dummy\" [ \"Greeting\", suite ]\n```\n\nIf we run `dune build @runtest` again, the test should be successful and output the following:\n\n\n```\nTesting `Dummy'.\nThis run has ID `B5926D16-0DD4-4C97-8C7A-5AFE1F5DF31B'.\n\n  [OK]          Greeting          0   can greet Tom.\n  [OK]          Greeting          1   can greet John.\n\nFull test results in `_build/default/_build/_tests/Dummy'.\nTest Successful in 0.000s. 2 tests run.\n```\n"
  ; body_html = "<blockquote>\n<p><strong>TL;DR</strong></p>\n<p>Add a <code>test</code> stanza in your dune file and run the tests with <code>dune build @runtest</code>.</p>\n</blockquote>\n<p>Tests are created using Dune's <code>test</code> stanza. The <code>test</code> stanza is a simple convenience wrapper that will create an executable and add it to the list of tests of the <code>@runtest</code> target.</p>\n<p>For instance, if you add a test in your dune file:</p>\n<pre><code><span class='dune-entity-tag-list-parenthesis'>(</span><span class='dune-meta-atom'>test</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'> </span><span class='dune-meta-stanza-library-field'>(</span><span class='dune-keyword-other'>name</span><span class='dune-meta-stanza-library-field'> </span><span class='dune-meta-atom'>dummy_test</span><span class='dune-meta-stanza-library-field'>)</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'> </span><span class='dune-meta-stanza-lib-or-exec-buildable'>(</span><span class='dune-keyword-other'>modules</span><span class='dune-meta-stanza-lib-or-exec-buildable'> </span><span class='dune-meta-atom'>dummy_test</span><span class='dune-meta-stanza-lib-or-exec-buildable'>)</span><span class='dune-entity-tag-list-parenthesis'>)</span><span class='dune-source'>\n</span></code></pre><p>with a module <code>dummy_test.ml</code>:</p>\n<pre><code><span class='ocaml-keyword-other'>let</span><span class='ocaml-source'> </span><span class='ocaml-constant-language'>()</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-source'>exit</span><span class='ocaml-source'> </span><span class='ocaml-constant-numeric-decimal-integer'>1</span><span class='ocaml-source'>\n</span></code></pre><p>Running <code>dune build @runtest</code> will fail with the following output:</p>\n<pre><code>  dummy_test alias src/ocamlorg_web/test/runtest (exit 1)\n</code></pre>\n<p>This means that the test failed because the executable exited with the status code <code>1</code>.</p>\n<p>The output is not very descriptive. If we want to create suites of unit tests, with several tests per files, and different kind of assertions, we will want to use a test framework such as Alcotest.</p>\n<p>Let's modify our dummy test to link to Alcotest:</p>\n<pre><code><span class='dune-entity-tag-list-parenthesis'>(</span><span class='dune-meta-atom'>test</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'> </span><span class='dune-meta-stanza-library-field'>(</span><span class='dune-keyword-other'>name</span><span class='dune-meta-stanza-library-field'> </span><span class='dune-meta-atom'>dummy_test</span><span class='dune-meta-stanza-library-field'>)</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'> </span><span class='dune-meta-stanza-lib-or-exec-buildable'>(</span><span class='dune-keyword-other'>modules</span><span class='dune-meta-stanza-lib-or-exec-buildable'> </span><span class='dune-meta-atom'>dummy_test</span><span class='dune-meta-stanza-lib-or-exec-buildable'>)</span><span class='dune-meta-list'>\n</span><span class='dune-meta-list'> </span><span class='dune-meta-stanza-lib-or-exec-buildable'>(</span><span class='dune-keyword-other'>libraries</span><span class='dune-meta-stanza-lib-or-exec-buildable'> </span><span class='dune-meta-atom'>alcotest</span><span class='dune-meta-stanza-lib-or-exec-buildable'>)</span><span class='dune-entity-tag-list-parenthesis'>)</span><span class='dune-source'>\n</span></code></pre><p>With the following module:</p>\n<pre><code><span class='ocaml-keyword-other'>open</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Alcotest</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword'>let </span><span class='ocaml-entity-name-function-binding'>test_hello_with_name</span><span class='ocaml-source'> </span><span class='ocaml-source'>name</span><span class='ocaml-source'> </span><span class='ocaml-constant-language'>()</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword'>let </span><span class='ocaml-entity-name-function-binding'>greeting</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-string-quoted-double'>Hello </span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>^</span><span class='ocaml-source'> </span><span class='ocaml-source'>name</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>^</span><span class='ocaml-source'> </span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-string-quoted-double'>!</span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>in</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword'>let </span><span class='ocaml-entity-name-function-binding'>expected</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-capital-identifier'>Printf</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>sprintf</span><span class='ocaml-source'> </span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-string-quoted-double'>Hello </span><span class='ocaml-constant-character-printf'>%s</span><span class='ocaml-string-quoted-double'>!</span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-source'> </span><span class='ocaml-source'>name</span><span class='ocaml-source'> </span><span class='ocaml-keyword-other'>in</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-source'>check</span><span class='ocaml-source'> </span><span class='ocaml-support-type'>string</span><span class='ocaml-source'> </span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-string-quoted-double'>same string</span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-source'> </span><span class='ocaml-source'>greeting</span><span class='ocaml-source'> </span><span class='ocaml-source'>expected</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword'>let </span><span class='ocaml-entity-name-function-binding'>suite</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-source'>[</span><span class='ocaml-source'> </span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-string-quoted-double'>can greet Tom</span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-keyword-other-ocaml punctuation-comma punctuation-separator'>,</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-polymorphic-variant'>`Quick</span><span class='ocaml-keyword-other-ocaml punctuation-comma punctuation-separator'>,</span><span class='ocaml-source'> </span><span class='ocaml-source'>test_hello_with_name</span><span class='ocaml-source'> </span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-string-quoted-double'>Tom</span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-keyword-other-ocaml punctuation-separator-terminator punctuation-separator'>;</span><span class='ocaml-source'> </span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-string-quoted-double'>can greet John</span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-keyword-other-ocaml punctuation-comma punctuation-separator'>,</span><span class='ocaml-source'> </span><span class='ocaml-constant-language-polymorphic-variant'>`Quick</span><span class='ocaml-keyword-other-ocaml punctuation-comma punctuation-separator'>,</span><span class='ocaml-source'> </span><span class='ocaml-source'>test_hello_with_name</span><span class='ocaml-source'> </span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-string-quoted-double'>John</span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-source'>]</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>\n</span><span class='ocaml-keyword-other'>let</span><span class='ocaml-source'> </span><span class='ocaml-constant-language'>()</span><span class='ocaml-source'> </span><span class='ocaml-keyword-operator'>=</span><span class='ocaml-source'>\n</span><span class='ocaml-source'>  </span><span class='ocaml-constant-language-capital-identifier'>Alcotest</span><span class='ocaml-keyword-other-ocaml punctuation-other-period punctuation-separator'>.</span><span class='ocaml-source'>run</span><span class='ocaml-source'> </span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-string-quoted-double'>Dummy</span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-source'> </span><span class='ocaml-source'>[</span><span class='ocaml-source'> </span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-string-quoted-double'>Greeting</span><span class='ocaml-string-quoted-double'>\"</span><span class='ocaml-keyword-other-ocaml punctuation-comma punctuation-separator'>,</span><span class='ocaml-source'> </span><span class='ocaml-source'>suite</span><span class='ocaml-source'> </span><span class='ocaml-source'>]</span><span class='ocaml-source'>\n</span></code></pre><p>If we run <code>dune build @runtest</code> again, the test should be successful and output the following:</p>\n<pre><code>Testing `Dummy'.\nThis run has ID `B5926D16-0DD4-4C97-8C7A-5AFE1F5DF31B'.\n\n  [OK]          Greeting          0   can greet Tom.\n  [OK]          Greeting          1   can greet John.\n\nFull test results in `_build/default/_build/_tests/Dummy'.\nTest Successful in 0.000s. 2 tests run.\n</code></pre>\n"
  };
 
  { title = "Creating libraries"
  ; body_md = "\n> **TL;DR**\n> \n> Add a `library` stanza in your dune file.\n\nCreating a library with dune is as simple as adding a `library` stanza in your dune file:\n\n```dune\n(library\n (name <name>)\n (public_name <public_name>)\n (libraries <libraries...>))\n```\n\nWhere `<name>` is the name of the library used inside internally, `<public_name>` is the name of the library used by users of the package and `<libaries...>` is the list of libraries to link to your library.\n\nNote that if the library does not have a `public_name`, it will not be installed when installing the package through opam. As a consequence, you cannot use an internal library that does not have a `public_name` in a library or executable that has one.\n"
  ; body_html = "<blockquote>\n<p><strong>TL;DR</strong></p>\n<p>Add a <code>library</code> stanza in your dune file.</p>\n</blockquote>\n<p>Creating a library with dune is as simple as adding a <code>library</code> stanza in your dune file:</p>\n<pre><code><span class='dune-meta-stanza'>(</span><span class='dune-meta-class-stanza'>library</span><span class='dune-meta-stanza'>\n</span><span class='dune-meta-stanza'> </span><span class='dune-meta-stanza-library-field'>(</span><span class='dune-keyword-other'>name</span><span class='dune-meta-stanza-library-field'> </span><span class='dune-meta-stanza-library-field'><</span><span class='dune-meta-atom'>name</span><span class='dune-meta-stanza-library-field'>></span><span class='dune-meta-stanza-library-field'>)</span><span class='dune-meta-stanza'>\n</span><span class='dune-meta-stanza'> </span><span class='dune-meta-stanza-library-field'>(</span><span class='dune-keyword-other'>public_name</span><span class='dune-meta-stanza-library-field'> </span><span class='dune-meta-stanza-library-field'><</span><span class='dune-meta-atom'>public_name</span><span class='dune-meta-stanza-library-field'>></span><span class='dune-meta-stanza-library-field'>)</span><span class='dune-meta-stanza'>\n</span><span class='dune-meta-stanza'> </span><span class='dune-meta-stanza-lib-or-exec-buildable'>(</span><span class='dune-keyword-other'>libraries</span><span class='dune-meta-stanza-lib-or-exec-buildable'> </span><span class='dune-meta-stanza-lib-or-exec-buildable'><</span><span class='dune-meta-atom'>libraries</span><span class='dune-meta-stanza-lib-or-exec-buildable'>...></span><span class='dune-meta-stanza-lib-or-exec-buildable'>)</span><span class='dune-meta-stanza'>)</span><span class='dune-source'>\n</span></code></pre><p>Where <code>&lt;name&gt;</code> is the name of the library used inside internally, <code>&lt;public_name&gt;</code> is the name of the library used by users of the package and <code>&lt;libaries...&gt;</code> is the list of libraries to link to your library.</p>\n<p>Note that if the library does not have a <code>public_name</code>, it will not be installed when installing the package through opam. As a consequence, you cannot use an internal library that does not have a <code>public_name</code> in a library or executable that has one.</p>\n"
  };
 
  { title = "Publishing packages"
  ; body_md = "\n> **TL;DR**\n> \n> Create a `CHANGES.md` file and run `dune-release bistro`.\n\nThe opam package manager may differ from the package manager you're used to. In order to ensure the highest stability of the ecosystem, each package publication goes through two processes:\n\n- An automated CI pipeline which tests if your package installs using multiple distributions and multiple OCaml compiler versions. It will also check that your new release does not break your reverse dependencies (those packages that require your package). A lower-bound check also ensures that your package installs with the lowest version of your package's dependencies.\n- A manual review of the package metadata by an opam-repository maintainer.\n\nThis process starts with a PR to the opam-repository, with the addition of a file for the version of the package to publish. The file contains information such as the package name, description, VCS repository, and most importantly, the URL the sources can be downloaded from.\n\nIf everything looks good and the CI build passes, the PR is merged and the package becomes available in opam after an `opam update` to update the opam-repository.\n\nIf there is anything to change, an opam-repository maintainer will comment on the PR with some recommendations.\n\nThis is a heavy process, but hopefully, all of it is completely automated on the user side. The recommended way to publish a package is `dune-release`.\n\nOnce you're ready to publish your package on opam, simply create a `CHANGES.md` file with the following format:\n\n```\n# <version>\n\n<release note>\n\n# <older version>\n\n<release note>\n```\n\nand run `dune-release bistro`.\n\nDune Release will run some verification (such as running the tests, linting the opam file, etc.) and will open a PR for you on `opam-repository`. From there, all you have to do is wait for the PR to be merged, or for a maintainer to review your package publication.\n"
  ; body_html = "<blockquote>\n<p><strong>TL;DR</strong></p>\n<p>Create a <code>CHANGES.md</code> file and run <code>dune-release bistro</code>.</p>\n</blockquote>\n<p>The opam package manager may differ from the package manager you're used to. In order to ensure the highest stability of the ecosystem, each package publication goes through two processes:</p>\n<ul>\n<li>An automated CI pipeline which tests if your package installs using multiple distributions and multiple OCaml compiler versions. It will also check that your new release does not break your reverse dependencies (those packages that require your package). A lower-bound check also ensures that your package installs with the lowest version of your package's dependencies.\n</li>\n<li>A manual review of the package metadata by an opam-repository maintainer.\n</li>\n</ul>\n<p>This process starts with a PR to the opam-repository, with the addition of a file for the version of the package to publish. The file contains information such as the package name, description, VCS repository, and most importantly, the URL the sources can be downloaded from.</p>\n<p>If everything looks good and the CI build passes, the PR is merged and the package becomes available in opam after an <code>opam update</code> to update the opam-repository.</p>\n<p>If there is anything to change, an opam-repository maintainer will comment on the PR with some recommendations.</p>\n<p>This is a heavy process, but hopefully, all of it is completely automated on the user side. The recommended way to publish a package is <code>dune-release</code>.</p>\n<p>Once you're ready to publish your package on opam, simply create a <code>CHANGES.md</code> file with the following format:</p>\n<pre><code># &lt;version&gt;\n\n&lt;release note&gt;\n\n# &lt;older version&gt;\n\n&lt;release note&gt;\n</code></pre>\n<p>and run <code>dune-release bistro</code>.</p>\n<p>Dune Release will run some verification (such as running the tests, linting the opam file, etc.) and will open a PR for you on <code>opam-repository</code>. From there, all you have to do is wait for the PR to be merged, or for a maintainer to review your package publication.</p>\n"
  };
 
  { title = "Setting up VSCode"
  ; body_md = "\n> **TL;DR**\n> \n> Install the VSCode extension `ocamllabs.ocaml-platform` and the packages `ocaml-lsp-server ocamlformat` in your opam switch.\n\nThe official OCaml extension for VSCode is https://marketplace.visualstudio.com/items?itemName=ocamllabs.ocaml-platform.\n\nTo get started, you can install it with the following command:\n\n```\next install ocamllabs.ocaml-platform\n```\n\nThe extension depends on OCaml LSP and ocamlformat. To install them in your switch, you can run:\n\n```\nopam install ocaml-lsp-server ocamlformat\n```\n\nWhen running `vscode` from the terminal, the extension should pick up your current opam switch. If you need to change it, you can click on the package icon in the status bar to select your switch.\n"
  ; body_html = "<blockquote>\n<p><strong>TL;DR</strong></p>\n<p>Install the VSCode extension <code>ocamllabs.ocaml-platform</code> and the packages <code>ocaml-lsp-server ocamlformat</code> in your opam switch.</p>\n</blockquote>\n<p>The official OCaml extension for VSCode is https://marketplace.visualstudio.com/items?itemName=ocamllabs.ocaml-platform.</p>\n<p>To get started, you can install it with the following command:</p>\n<pre><code>ext install ocamllabs.ocaml-platform\n</code></pre>\n<p>The extension depends on OCaml LSP and ocamlformat. To install them in your switch, you can run:</p>\n<pre><code>opam install ocaml-lsp-server ocamlformat\n</code></pre>\n<p>When running <code>vscode</code> from the terminal, the extension should pick up your current opam switch. If you need to change it, you can click on the package icon in the status bar to select your switch.</p>\n"
  }]

