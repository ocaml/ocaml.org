<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/59c64e8e0cd4b887f80a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/59c64e8e0cd4b887f80a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-43375c3d74aa814440ba.js" defer=""></script><script src="/_next/static/chunks/framework-56721e7fe9e004cd9e49.js" defer=""></script><script src="/_next/static/chunks/main-ff11dfa7b9d2932d51f3.js" defer=""></script><script src="/_next/static/chunks/pages/_app-07487d06e9f25472007b.js" defer=""></script><script src="/_next/static/chunks/940-69f823f49742ab32bc63.js" defer=""></script><script src="/_next/static/chunks/908-08eeb7bba98263e14afe.js" defer=""></script><script src="/_next/static/chunks/891-1bbf9c7984e84793c141.js" defer=""></script><script src="/_next/static/chunks/pages/%5Blang%5D/resources/%5Btutorial%5D-d60f5912d8379c3f4f23.js" defer=""></script><script src="/_next/static/5vwEGiEdVvGQoOBpMUVkF/_buildManifest.js" defer=""></script><script src="/_next/static/5vwEGiEdVvGQoOBpMUVkF/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="bg-white"><div class="pb-0  bg-yellowdark"><div class="max-w-7xl mx-auto"><div class="flex flex-col md:flex-row items-center text-center text-white"><div class="w-full md:w-3/12 font-bold text-2xl">OCaml.org v3</div><div class="w-full md:w-8/12"><div class="h-4 relative rounded-full overflow-hidden ring-8 ring-white m-8"><div class="w-full h-full bg-white absolute"></div><div class="h-full rounded-full bg-yellowdark absolute" style="width:30%"></div></div></div><div class="w-full md:w-1/12 font-bold text-2xl">30%</div></div><div class="flex flex-col items-center"><button class="inline-flex items-center pt-0 pb-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-yellowdark focus:outline-none" type="button">See more v</button></div><div class="hidden"><div class="flex flex-col"><div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"><div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"><div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"><table class="table-auto min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" scope="col">version</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" scope="col">description</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" scope="col">period</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" scope="col">completion</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" scope="col">results</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">v3.1</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Select technologies</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Nov - Jan 2020</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">100%</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Selected NextJS as static site generator, ReScript as implementation language, FlowMapp as sitemap tool, Figma for design, Tailwind for CSS.</td></tr><tr><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">v3.2</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Implement most important layouts</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Feb - Apr 2021</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">100%</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">The 10 most important pages have been designed and implemented.</td></tr><tr><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Design information architecture</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Aug 2020 - Jun 2021</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">60%</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500"> Sitemap is complete, 8 user personas and some journeys have been defined.</td></tr><tr><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">v3.3</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Implement all 40 distinct layouts</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Jun 30, 2021</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">25%</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">A quarter of the 40 distinct pages have been implemented.</td></tr><tr><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Port 40 most important pages</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Aug 2021</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10%</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Some work started.</td></tr><tr><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">v3.4</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Implement OCaml Manual</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Jul - Aug 2021</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">0%</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Not started.</td></tr><tr><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">v3.5</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Integrate docs.ocaml.org</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Jul 2021</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">0%</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Pending completion of the separate docs.ocaml.org project.</td></tr><tr><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Implement multilingual site framework</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Aug 2021</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10%</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Some work started.</td></tr><tr><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Finalize site design</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Jan - Aug 2021</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">50%</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">Half of the 40 pages needing a distinct design have been designed.</td></tr><tr><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">v3.6</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Go live on ocaml.org, replacing old site</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Aug 1, 2021</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">30%</td><td class="px-6 py-4 whitespace-normal text-sm text-gray-500">One-third of the work has been done.</td></tr></tbody></table></div></div></div></div></div></div></div><div class="relative shadow"><div class="relative font-roboto"><div class="max-w-7xl mx-auto px-4 sm:px-6 "><div class="flex justify-between items-center md:justify-start py-6 md:space-x-10 "><div class="flex justify-start "><a class="" href="/"><img class="h-8 w-auto sm:h-10" alt="" src="/static/logo1.jpeg"/></a></div><nav class="hidden md:flex space-x-10 "><div class="relative"><button aria-expanded="false" class="text-gray-500  pl-2 group bg-white rounded-md inline-flex items-center text-base font-medium hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orangedark" type="button"><span>Principles</span><svg aria-hidden="true" class="text-gray-400 ml-2 h-5 w-5 group-hover:text-gray-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" fill-rule="evenodd"></path></svg></button><div class="absolute z-10 left-1/2 transform -translate-x-1/4 mt-3 px-2 w-screen max-w-sm sm:px-0  hidden "><div class="rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden"><div class="relative grid gap-6 bg-white px-5 py-6 sm:gap-6 sm:p-8"><a class="-m-3 p-3 block rounded-md hover:bg-gray-50 transition ease-in-out duration-150" href="/en/principles/whatisocaml/"><div class="h-7 w-7 float-left fill-current stroke-current text-orangedark"><svg version="1.1" viewBox="0 0 12.7 15.9" xmlns="http://www.w3.org/2000/svg"><path d="m9.01 1.23a0.676 0.676 0 0 0-0.658 0.52 7.02 7.02 0 0 0-0.185 1.41 0.338 0.338 0 0 1-0.674 0.0292 6.26 6.26 0 0 0-0.304-1.33 0.81 0.81 0 0 0-1.56 0.118 3.15 3.15 0 0 1-1.26 1.98 0.495 0.495 0 0 1-0.564 9e-3 1.49 1.49 0 0 1-0.459-0.492 0.495 0.495 0 0 1 0.023-0.531 1.22 1.22 0 0 0 0.141-0.266 0.295 0.295 0 0 0-0.374-0.383 0.987 0.987 0 0 0-0.183 0.0867 0.819 0.819 0 0 0-1.21-0.24 1.36 1.36 0 0 1-0.767 0.395 0.516 0.516 0 0 0 0.0788 1.03h0.42a0.789 0.789 0 0 0 0.507 0.259 2.67 2.67 0 0 0 2.32 2.59 0.471 0.471 0 0 0 0.328-0.0783 1.81 1.81 0 0 0 0.438 1.11 3.97 3.97 0 0 1 1.15 2.78 0.202 0.202 0 0 1-0.11 0.18 2.56 2.56 0 0 0-0.682 0.506 0.325 0.325 0 0 0 0.234 0.55h1.43a0.468 0.468 0 0 0 0.0934-0.784 0.202 0.202 0 0 1-0.0744-0.156v-1.43a1.5 1.5 0 0 0-0.15-1.08v-0.591a2.43 2.43 0 0 0 1.68 0.0748 3.43 3.43 0 0 0 1.4-0.668 1.78 1.78 0 0 0 0.228 0.465 2.84 2.84 0 0 1 0.408 2.9 0.202 0.202 0 0 1-0.115 0.11 2.56 2.56 0 0 0-0.934 0.617 0.325 0.325 0 0 0 0.234 0.55h1.43a0.468 0.468 0 0 0 0.122-0.759 0.202 0.202 0 0 1-0.0558-0.197 4.7 4.7 0 0 1 0.706-1.51 0.383 0.383 0 0 0 0.0598-0.309 6.18 6.18 0 0 1 0.035-2.97 1.06 1.06 0 0 0-0.45-1.16l-0.486-0.315a1.08 1.08 0 0 1-0.453-0.618 5.11 5.11 0 0 0-1.26-2.19 0.676 0.676 0 0 0-0.485-0.205zm-0.00227 0.181a0.495 0.495 0 0 1 0.355 0.15 4.93 4.93 0 0 1 1.21 2.11 1.26 1.26 0 0 0 0.529 0.721l0.486 0.315a0.882 0.882 0 0 1 0.374 0.962 6.36 6.36 0 0 0-0.0358 3.06 0.202 0.202 0 0 1-0.0319 0.163 4.88 4.88 0 0 0-0.733 1.57 0.383 0.383 0 0 0 0.105 0.374 0.287 0.287 0 0 1-0.0429 0.447h-1.38a0.143 0.143 0 0 1-0.103-0.243 2.38 2.38 0 0 1 0.868-0.574 0.383 0.383 0 0 0 0.216-0.208 3.02 3.02 0 0 0-0.429-3.08 1.6 1.6 0 0 1-0.218-1.33 0.0906 0.0906 0 0 0-0.174-0.0491 1.78 1.78 0 0 0-0.0319 0.83 3.25 3.25 0 0 1-1.39 0.686 2.25 2.25 0 0 1-1.63-0.0978v-0.624a0.0906 0.0906 0 0 0-0.181 0v1.46a1.32 1.32 0 0 1 0.15 1.01v1.46a0.383 0.383 0 0 0 0.14 0.297 0.287 0.287 0 0 1-0.0248 0.462h-1.38a0.143 0.143 0 0 1-0.103-0.243 2.38 2.38 0 0 1 0.634-0.47 0.383 0.383 0 0 0 0.209-0.343 4.15 4.15 0 0 0-1.19-2.9 1.62 1.62 0 0 1-0.308-1.57 0.0907 0.0907 0 1 0-0.172-0.058 1.81 1.81 0 0 0-0.073 0.298 0.29 0.29 0 0 1-0.324 0.243 2.48 2.48 0 0 1-2.16-2.42 0.789 0.789 0 0 0 0.404-0.176 0.0907 0.0907 0 0 0-0.116-0.139 0.608 0.608 0 0 1-0.888-0.123h-0.508a0.335 0.335 0 0 1-0.0505-0.667 1.54 1.54 0 0 0 0.86-0.438 0.638 0.638 0 0 1 0.942 0.212 0.987 0.987 0 0 0-0.0894 0.0907 0.0909 0.0909 0 1 0 0.138 0.119 0.805 0.805 0 0 1 0.342-0.234 0.114 0.114 0 0 1 0.144 0.148 1.04 1.04 0 0 1-0.119 0.227 0.676 0.676 0 0 0-0.031 0.725 1.68 1.68 0 0 0 0.515 0.551 0.676 0.676 0 0 0 0.772-0.0116 3.33 3.33 0 0 0 1.33-2.1 0.629 0.629 0 0 1 1.21-0.0912 6.08 6.08 0 0 1 0.295 1.29 0.52 0.52 0 0 0 1.04-0.0451 6.84 6.84 0 0 1 0.18-1.37 0.495 0.495 0 0 1 0.482-0.381z" stroke-width=".289"></path><path d="m2.16 2.76a0.128 0.128 0 1 0-0.256 0 0.128 0.128 0 1 0 0.256 0z" stroke-width=".2"></path></svg></div><dt><p class="ml-10 text-sm font-semibold text-gray-900">Why OCaml</p></dt><dd class="ml-10 text-sm text-gray-500">Find out about OCaml&#x27;s history and how it became what it is today.</dd></a><a class="-m-3 p-3 block rounded-md hover:bg-gray-50 transition ease-in-out duration-150" href="/en/principles/users/"><div class="h-7 w-7 float-left fill-current stroke-current text-orangedark"><svg class="stroke-0" version="1.1" viewBox="0 0 60 75" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M6,55h48c0.6,0,1-0.4,1-1V33c0-0.3-0.1-0.5-0.3-0.7l-9-8.4L44,5.9c0-0.1,0-0.1,0-0.2c0-0.1,0-0.1,0-0.2  c0-0.1-0.1-0.1-0.1-0.2c0,0-0.1-0.1-0.1-0.1c-0.1-0.1-0.1-0.1-0.2-0.1c0,0-0.1-0.1-0.1-0.1C43.3,5,43.1,5,43,5h-6  c-0.1,0-0.3,0-0.4,0.1c0,0-0.1,0-0.1,0.1c-0.1,0-0.1,0.1-0.2,0.1c0,0-0.1,0.1-0.1,0.1c0,0.1-0.1,0.1-0.1,0.2c0,0.1,0,0.1,0,0.2  c0,0.1,0,0.1,0,0.2l-1.3,20.8l-8-7.4c-0.3-0.3-0.7-0.3-1.1-0.2C25.2,19.2,25,19.6,25,20v10.7L12.7,19.3c-0.3-0.3-0.7-0.3-1.1-0.2  C11.2,19.2,11,19.6,11,20v12H6c-0.6,0-1,0.4-1,1v21C5,54.6,5.4,55,6,55z M42,7v1h-4V7H42z M37.8,10h4.6l1.1,11.9l-2.8-2.6  c-0.3-0.3-0.7-0.3-1.1-0.2C39.2,19.2,39,19.6,39,20v10.7l-2.4-2.2L37.8,10z M7,34h5c0.6,0,1-0.4,1-1V22.3l12.3,11.4  c0.3,0.3,0.7,0.3,1.1,0.2c0.4-0.2,0.6-0.5,0.6-0.9V22.3l12.3,11.4c0.3,0.3,0.7,0.3,1.1,0.2c0.4-0.2,0.6-0.5,0.6-0.9V22.3l3.1,2.9  c0,0,0,0,0,0l8.9,8.3V53H7V34z"></path><path d="M16,38h-4c-0.6,0-1,0.4-1,1v4c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1v-4C17,38.4,16.6,38,16,38z M15,42h-2v-2h2V42z"></path><path d="M24,38h-4c-0.6,0-1,0.4-1,1v4c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1v-4C25,38.4,24.6,38,24,38z M23,42h-2v-2h2V42z"></path><path d="M32,38h-4c-0.6,0-1,0.4-1,1v4c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1v-4C33,38.4,32.6,38,32,38z M31,42h-2v-2h2V42z"></path><path d="M40,38h-4c-0.6,0-1,0.4-1,1v4c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1v-4C41,38.4,40.6,38,40,38z M39,42h-2v-2h2V42z"></path><path d="M48,38h-4c-0.6,0-1,0.4-1,1v4c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1v-4C49,38.4,48.6,38,48,38z M47,42h-2v-2h2V42z"></path></svg></div><dt><p class="ml-10 text-sm font-semibold text-gray-900">Industrial Users</p></dt><dd class="ml-10 text-sm text-gray-500">Discover the organisations that use OCaml to accomplish their goals.</dd></a><a class="-m-3 p-3 block rounded-md hover:bg-gray-50 transition ease-in-out duration-150" href="/en/principles/academic/"><div class="h-7 w-7 float-left fill-current stroke-current text-orangedark"><svg class="stroke-2" version="1.1" viewBox="0 0 100 125" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><g transform="translate(0,-952.36218)"><path d="M 47.25 23 A 1.0001 1.0001 0 0 0 47.125 23.0625 L 5.625 39.0625 A 1.0001 1.0001 0 0 0 5.625 40.90625 L 21.1875 46.90625 A 1.0001 1.0001 0 0 0 21.1875 47 L 21.1875 63.4375 A 1.0001 1.0001 0 0 0 21.8125 64.34375 L 47.09375 74.90625 A 1.0001 1.0001 0 0 0 47.84375 74.90625 L 73.15625 64.34375 A 1.0001 1.0001 0 0 0 73.75 63.4375 L 73.75 47 A 1.0001 1.0001 0 0 0 73.75 46.9375 L 80.875 44.1875 A 1.0040202 1.0040202 0 0 0 80.15625 42.3125 L 47.46875 54.9375 L 8.75 40 L 47.5 25.03125 L 87.9375 40.65625 L 87.9375 65.09375 C 85.072141 65.568778 82.875 68.037767 82.875 71 C 82.875 74.2988 85.600803 77 88.9375 77 C 92.274197 77 95 74.2988 95 71 C 95 68.037767 92.802859 65.568778 89.9375 65.09375 L 89.9375 40 A 1.0001 1.0001 0 0 0 89.3125 39.0625 L 47.84375 23.0625 A 1.0001 1.0001 0 0 0 47.25 23 z M 23.1875 47.6875 L 47.125 56.90625 A 1.0001 1.0001 0 0 0 47.84375 56.90625 L 71.75 47.6875 L 71.75 62.75 L 47.46875 72.90625 L 23.1875 62.75 L 23.1875 47.6875 z M 88.9375 66.96875 C 91.187128 66.96875 92.96875 68.7759 92.96875 71 C 92.96875 73.2241 91.187128 75 88.9375 75 C 86.687872 75 84.875 73.2241 84.875 71 C 84.875 68.7759 86.687872 66.96875 88.9375 66.96875 z " transform="translate(0,952.36218)"></path></g></svg></div><dt><p class="ml-10 text-sm font-semibold text-gray-900">Academic Excellence</p></dt><dd class="ml-10 text-sm text-gray-500">Learn about the academics that research programming language technology.</dd></a><a class="-m-3 p-3 block rounded-md hover:bg-gray-50 transition ease-in-out duration-150" href="/en/principles/successes/"><div class="h-7 w-7 float-left fill-current stroke-current text-orangedark"><svg version="1.1" viewBox="0 0 160 200" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M151.305,149.32l-35.11-68.89c-0.6-1.17-1.8-1.91-3.12-1.91s-2.52,0.74-3.12,1.91l-11.98,23.5l3.93,7.71l11.17-21.92  l29.4,57.69h-22.34h-2.801L66.999,48.66v-8.949h42.25c1.933,0,3.5-1.567,3.5-3.5V9.09c0-1.933-1.567-3.5-3.5-3.5h-45.75  c-1.933,0-3.5,1.567-3.5,3.5v13.824v13.297V48.66L8.69,149.321c-0.553,1.085-0.502,2.38,0.134,3.418  c0.636,1.039,1.767,1.672,2.984,1.672h103.381c0.001,0,0.002,0,0.003,0h4.863h28.14c1.21,0,2.34-0.63,2.98-1.67  C151.815,151.7,151.865,150.41,151.305,149.32z M66.999,22.914V12.59h38.75v20.122h-38.75V22.914z M63.499,57.207l10.873,21.332  c-5.251-0.709-10.46,2.09-12.683,7.08c-0.751,1.687-2.234,2.781-4.067,3.003c-1.829,0.221-3.533-0.488-4.665-1.947l-2.703-3.484  L63.499,57.207z M17.52,147.41l29.221-57.328l0.685,0.883c2.329,3.002,5.817,4.696,9.543,4.695c0.494,0,0.993-0.029,1.493-0.09  c4.273-0.517,7.87-3.172,9.622-7.104c1.063-2.386,3.744-3.588,6.231-2.8l4.402,1.396l30.76,60.347H17.52z"></path><path d="M90.023,15.97l-5.161,5.71l-2.427-1.948c-1.075-0.864-2.649-0.692-3.514,0.384c-0.865,1.077-0.692,2.65,0.384,3.514  l4.265,3.424c0.461,0.37,1.014,0.551,1.564,0.551c0.684,0,1.364-0.279,1.855-0.824l6.742-7.46c0.926-1.024,0.846-2.605-0.178-3.531  C92.529,14.866,90.948,14.947,90.023,15.97z"></path></svg></div><dt><p class="ml-10 text-sm font-semibold text-gray-900">Success Stories</p></dt><dd class="ml-10 text-sm text-gray-500">Read about the things that have been achieved using OCaml.</dd></a></div></div></div></div><div class="relative"><button aria-expanded="false" class="text-gray-500 pl-2 group bg-white rounded-md inline-flex items-center text-base font-medium hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orangedark" type="button"><span>Resources</span><svg aria-hidden="true" class="text-gray-400 ml-2 h-5 w-5 group-hover:text-gray-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" fill-rule="evenodd"></path></svg></button><div class="absolute z-10 left-1/2 transform -translate-x-1/3 mt-3 px-2 w-screen max-w-sm sm:px-0  hidden "><div class="rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden"><div class="relative grid gap-6 bg-white px-5 py-6 sm:gap-6 sm:p-8"><a class="-m-3 p-3 block rounded-md hover:bg-gray-50 transition ease-in-out duration-150" href="/en/resources/language/"><div class="h-7 w-7 float-left fill-current stroke-current text-orangedark"><svg version="1.1" viewBox="0 0 100 125" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M10.7,22.2c0.4,0.2,0.9,0.2,1.4,0c13.2-5.4,28.6,1.2,28.7,1.2c0.2,0.1,0.5,0.1,0.7,0.1  c0.7,0,1.3-0.4,1.6-1.1c0.4-0.9,0-1.9-0.9-2.3c-0.7-0.3-16.9-7.2-31.5-1.3c-0.9,0.4-1.3,1.4-1,2.3C10,21.7,10.3,22,10.7,22.2z"></path><path d="M57.2,20.2c-0.4,0.2-0.8,0.5-0.9,1s-0.2,0.9,0,1.4c0.3,0.6,0.9,1.1,1.6,1.1c0.2,0,0.5,0,0.7-0.1  c0.2-0.1,15.6-6.6,28.7-1.2c0.4,0.2,0.9,0.2,1.4,0c0.4-0.2,0.8-0.5,1-1c0.4-0.9-0.1-1.9-1-2.3C74.1,13,57.9,19.9,57.2,20.2z"></path><path d="M42.6,31.4c-0.7-0.3-16.9-7.2-31.5-1.3c-0.9,0.4-1.3,1.4-1,2.3c0.2,0.4,0.5,0.8,1,1c0.4,0.2,0.9,0.2,1.4,0  C25.7,28,41,34.6,41.2,34.6c0.2,0.1,0.5,0.1,0.7,0.1c0.7,0,1.3-0.4,1.6-1.1C43.9,32.8,43.5,31.8,42.6,31.4z"></path><path d="M89,30.1c-14.6-5.9-30.8,1-31.5,1.3c-0.9,0.4-1.3,1.4-0.9,2.3c0.3,0.6,0.9,1.1,1.6,1.1c0.2,0,0.5,0,0.7-0.1  c0.2-0.1,15.5-6.6,28.7-1.2c0.9,0.4,1.9-0.1,2.3-1C90.4,31.5,89.9,30.5,89,30.1z"></path><path d="M42.6,42.9c-0.7-0.3-16.9-7.2-31.5-1.3c-0.9,0.4-1.3,1.4-1,2.3c0.4,0.9,1.4,1.3,2.3,1  c13.2-5.4,28.6,1.2,28.7,1.2c0.2,0.1,0.5,0.1,0.7,0.1c0.7,0,1.3-0.4,1.6-1.1C43.9,44.3,43.5,43.3,42.6,42.9z"></path><path d="M89,41.6c-14.6-5.9-30.8,1-31.5,1.3c-0.4,0.2-0.8,0.5-0.9,1c-0.2,0.4-0.2,0.9,0,1.4  c0.3,0.6,0.9,1.1,1.6,1.1c0.2,0,0.5,0,0.7-0.1c0.2-0.1,15.5-6.6,28.7-1.2c0.9,0.4,1.9-0.1,2.3-1C90.4,43,89.9,42,89,41.6z"></path><path d="M42.5,54.4c-0.7-0.3-16.9-7.2-31.5-1.3c-0.9,0.4-1.3,1.4-1,2.3c0.2,0.4,0.5,0.8,1,1c0.4,0.2,0.9,0.2,1.4,0  c13.2-5.4,28.6,1.2,28.7,1.2c0.2,0.1,0.5,0.1,0.7,0.1c0.7,0,1.3-0.4,1.6-1.1C43.8,55.8,43.4,54.8,42.5,54.4z"></path><path d="M88.9,53.1c-14.6-6-30.8,1-31.5,1.3c-0.9,0.4-1.3,1.4-0.9,2.3c0.3,0.6,0.9,1.1,1.6,1.1c0.2,0,0.5,0,0.7-0.1  c0.2-0.1,15.5-6.6,28.7-1.2c0.4,0.2,0.9,0.2,1.4,0c0.4-0.2,0.8-0.5,1-1C90.2,54.5,89.8,53.5,88.9,53.1z"></path><path d="M41.8,69.1c0.7,0,1.3-0.4,1.6-1.1c0.4-0.9,0-1.9-0.9-2.3c-0.7-0.3-16.9-7.2-31.5-1.3  c-0.9,0.4-1.3,1.4-1,2.3c0.2,0.4,0.5,0.8,1,1c0.4,0.2,0.9,0.2,1.4,0c13.2-5.4,28.6,1.2,28.7,1.2C41.3,69,41.5,69.1,41.8,69.1z"></path><path d="M88.9,64.4c-14.6-6-30.8,1-31.5,1.3c-0.9,0.4-1.3,1.4-0.9,2.3c0.3,0.6,0.9,1.1,1.6,1.1c0.2,0,0.5,0,0.7-0.1  c0.2-0.1,15.5-6.6,28.7-1.2c0.4,0.2,0.9,0.2,1.4,0c0.4-0.2,0.8-0.5,1-1C90.2,65.8,89.8,64.7,88.9,64.4z"></path><path d="M97.9,12.1c0-0.8-0.5-1.6-1.3-1.9C72-0.3,54.9,10.1,50,13.8C45,10.1,27.9-0.3,3.3,10.2  c-0.8,0.3-1.3,1.1-1.3,1.9v78.6c0,0.7,0.4,1.4,1,1.8c0.3,0.2,0.7,0.3,1.1,0.3c0.3,0,0.6-0.1,0.9-0.2c0.2-0.1,17.1-7.8,43.5-0.2l0,0  l3,0l0.1,0c17.3-7,39.3-0.9,43.6,0.4c0.6,0.2,1.3,0.1,1.8-0.3c0.5-0.4,0.8-1,0.8-1.7L97.9,12.1z M93.8,87.8V88  c-7.7-2.1-15.2-3.1-22.4-3.1c-1.2,0-2.4,0-3.6,0.1C76.2,83.3,84.9,84.3,93.8,87.8z M93.8,83.4c-20.6-7.6-35.7-0.5-41.7,3.3l0-69.3  c3.2-2.5,19-13,41.7-3.9L93.8,83.4z M34.5,85.4C22.3,84,13.2,85.6,7.9,87.2c6.1-2.2,11.7-3.1,16.5-3.1  C28.3,84.1,31.7,84.6,34.5,85.4z M6.2,13.4c23.1-9.2,38.6,1.5,41.7,4l0,69.3C43.9,84.1,35.7,80,24.3,80c-5.4,0-11.4,0.9-18.1,3.4  L6.2,13.4z"></path></svg></div><dt><p class="ml-10 text-sm font-semibold text-gray-900">Language</p></dt><dd class="ml-10 text-sm text-gray-500">Read through the OCaml tutorial, official manual and books.</dd></a><a class="-m-3 p-3 block rounded-md hover:bg-gray-50 transition ease-in-out duration-150" href="/packages/"><div class="h-7 w-7 float-left fill-current stroke-current text-orangedark"><svg version="1.1" viewBox="0 0 100 125" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><g><path d="M85.8,35.6l11.2-13c0.5-0.5,0.6-1.3,0.4-2c-0.2-0.7-0.7-1.2-1.4-1.5L63.1,8.3c-0.8-0.3-1.7,0-2.3,0.6L50,21.5L39.2,9    c-0.6-0.7-1.5-0.9-2.3-0.6L4,19.1c-0.7,0.2-1.2,0.8-1.4,1.5c-0.2,0.7,0,1.4,0.4,2l11.2,13L3,48.6c-0.5,0.5-0.6,1.3-0.4,2    c0.2,0.7,0.7,1.2,1.4,1.5l10.9,3.6v23.2c0,0.9,0.6,1.8,1.5,2.1l32.9,10.8c0.2,0.1,0.5,0.1,0.7,0.1c0.2,0,0.5,0,0.7-0.1l32.9-10.8    c0.9-0.3,1.5-1.1,1.5-2.1V55.7l11-3.6c0.7-0.2,1.2-0.8,1.4-1.5c0.2-0.7,0-1.4-0.4-2L85.8,35.6z M24,35.6l26-8.5l26,8.5l-26,8.5    L24,35.6z M63.1,12.9l28.5,9.3l-9.4,10.9l-28.5-9.3L63.1,12.9z M36.9,12.9l9.4,10.9l-28.5,9.3L8.4,22.2L36.9,12.9z M17.8,38.1    l28.5,9.3l-9.4,10.9L8.4,49L17.8,38.1z M19.2,77.2V57.1l17.6,5.8c0.2,0.1,0.4,0.1,0.7,0.1c0.6,0,1.2-0.3,1.6-0.7l8.6-10v34.4    L19.2,77.2z M80.7,77.2l-28.6,9.4V52.2l8.6,10c0.4,0.5,1,0.7,1.6,0.7c0.2,0,0.5,0,0.7-0.1l17.6-5.8V77.2z M63.1,58.3l-9.4-10.9    l28.5-9.3L91.6,49L63.1,58.3z"></path></g></svg></div><dt><p class="ml-10 text-sm font-semibold text-gray-900">Packages</p></dt><dd class="ml-10 text-sm text-gray-500">Browse the third-party packages published in the OCaml ecosystem.</dd></a><a class="-m-3 p-3 block rounded-md hover:bg-gray-50 transition ease-in-out duration-150" href="/en/resources/applications/"><div class="h-7 w-7 float-left fill-current stroke-current text-orangedark"><svg version="1.1" viewBox="0 0 100 125" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M85.32,15.63H78.65a1.5,1.5,0,0,0-1.5,1.5v3.53H73.36a5.5,5.5,0,0,0-10.57,0h-7.9a5.5,5.5,0,0,0-10.57,0H36.11a5.5,5.5,0,0,0-10.57,0H22.85V17.13a1.5,1.5,0,0,0-1.5-1.5H14.68a1.5,1.5,0,0,0-1.5,1.5V82.87a1.5,1.5,0,0,0,1.5,1.5h6.67a1.5,1.5,0,0,0,1.5-1.5V74.63h2.69a5.49,5.49,0,0,0,9.28,2.27,5.49,5.49,0,0,0,9.29-2.27H54.79a5.49,5.49,0,0,0,9.29,2.27,5.49,5.49,0,0,0,9.28-2.27h3.79v8.24a1.5,1.5,0,0,0,1.5,1.5h6.67a1.5,1.5,0,0,0,1.5-1.5V17.13A1.5,1.5,0,0,0,85.32,15.63Zm-25.22,39a5.5,5.5,0,0,0-9.29-2.26,5.48,5.48,0,0,0-8,0,5.49,5.49,0,0,0-8,0,5.49,5.49,0,0,0-9.28,2.26H22.85v-14h2.69a5.49,5.49,0,0,0,9.28,2.27,5.49,5.49,0,0,0,8,0,5.49,5.49,0,0,0,9.28-2.27H62.79a5.49,5.49,0,0,0,10.57,0h3.79v14Zm-2.79,1.5a2.5,2.5,0,1,1-2.5-2.49A2.5,2.5,0,0,1,57.31,56.14Zm-8,0a2.5,2.5,0,1,1-2.49-2.49A2.5,2.5,0,0,1,49.31,56.14Zm-8,0a2.5,2.5,0,1,1-2.5-2.49A2.5,2.5,0,0,1,41.32,56.14Zm-8,0a2.5,2.5,0,1,1-2.49-2.49A2.5,2.5,0,0,1,33.32,56.14Zm-5-17a2.5,2.5,0,1,1,2.5,2.5A2.5,2.5,0,0,1,28.33,39.15Zm8,0a2.5,2.5,0,1,1,2.5,2.5A2.5,2.5,0,0,1,36.32,39.15Zm8,0a2.5,2.5,0,1,1,2.5,2.5A2.5,2.5,0,0,1,44.32,39.15Zm21.26,0a2.5,2.5,0,1,1,2.49,2.5A2.5,2.5,0,0,1,65.58,39.15Zm2.49-19.48a2.5,2.5,0,1,1-2.49,2.49A2.5,2.5,0,0,1,68.07,19.67Zm-18.47,0a2.5,2.5,0,1,1-2.5,2.49A2.5,2.5,0,0,1,49.6,19.67Zm-18.77,0a2.5,2.5,0,1,1-2.5,2.49A2.5,2.5,0,0,1,30.83,19.67Zm-5.29,4a5.49,5.49,0,0,0,10.57,0h8.21a5.49,5.49,0,0,0,10.57,0h7.9a5.49,5.49,0,0,0,10.57,0h3.79v14H73.36a5.5,5.5,0,0,0-10.57,0H52.1a5.49,5.49,0,0,0-9.28-2.26,5.49,5.49,0,0,0-8,0,5.49,5.49,0,0,0-9.28,2.26H22.85v-14ZM19.85,81.37H16.18V18.63h3.67Zm11-5.74a2.5,2.5,0,1,1,2.49-2.5A2.5,2.5,0,0,1,30.83,75.63Zm8,0a2.5,2.5,0,1,1,2.5-2.5A2.5,2.5,0,0,1,38.82,75.63Zm21.26,0a2.5,2.5,0,1,1,2.5-2.5A2.5,2.5,0,0,1,60.08,75.63Zm8,0a2.5,2.5,0,1,1,2.5-2.5A2.5,2.5,0,0,1,68.07,75.63Zm5.29-4a5.49,5.49,0,0,0-9.28-2.26,5.5,5.5,0,0,0-9.29,2.26H44.11a5.5,5.5,0,0,0-9.29-2.26,5.49,5.49,0,0,0-9.28,2.26H22.85v-14h2.69a5.49,5.49,0,0,0,9.28,2.27,5.49,5.49,0,0,0,8,0,5.48,5.48,0,0,0,8,0,5.49,5.49,0,0,0,9.29-2.27H77.15v14Zm10.46,9.74H80.15V18.63h3.67Z"></path></svg></div><dt><p class="ml-10 text-sm font-semibold text-gray-900">Applications</p></dt><dd class="ml-10 text-sm text-gray-500">Learn techniques for building tools and applications in OCaml.</dd></a><a class="-m-3 p-3 block rounded-md hover:bg-gray-50 transition ease-in-out duration-150" href="/en/resources/bestpractices/"><div class="h-7 w-7 float-left fill-current stroke-current text-orangedark"><svg version="1.1" viewBox="0 0 100 125" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M7,51h28.7c3.3,0,6.6-1.4,8.8-3.9L61.2,29H76c6.6,0,9-3.8,9-7c0-1.1-0.2-2.1-0.7-3H88c3.9,0,7-3.1,7-7s-3.1-7-7-7H45  c-0.1,0-0.1,0-0.2,0c0,0-0.1,0-0.2,0s-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0.1c0,0-0.1,0-0.2,0.1c-0.1,0-0.1,0.1-0.2,0.1c0,0,0,0,0,0  L22.3,21H7c-1.1,0-2,0.9-2,2v26C5,50.1,5.9,51,7,51z M76,25H64.5c0.5-1.1,0.8-2.4,0.7-3.7c-0.1-0.8-0.3-1.6-0.6-2.3H78  c1.7,0,3,1.3,3,3C81,24.7,77.5,25,76,25z M19,25h4c0.2,0,0.4,0,0.5-0.1c0,0,0.1,0,0.1,0c0.2-0.1,0.3-0.1,0.5-0.2c0,0,0,0,0,0L45.7,9  H88c1.7,0,3,1.3,3,3c0,1.6-1.3,3-3,3H58c-0.1,0-0.3,0-0.4,0c-1.8,0.2-3.5,1-4.7,2.3L34.9,36.9c-0.7,0.8-0.7,2.1,0.1,2.8  s2.1,0.7,2.8-0.1l18-19.5c1.1-1.2,2.9-1.4,4.2-0.5c0.7,0.5,1.1,1.3,1.2,2.1c0.1,0.8-0.2,1.7-0.8,2.3L41.6,44.4  c-1.5,1.6-3.7,2.6-5.9,2.6H19V25z M9,25h6v22H9V25z M93,49H64.3c-3.3,0-6.6,1.4-8.8,3.9L38.8,71H24c-6.6,0-9,3.8-9,7  c0,1.1,0.2,2.1,0.7,3H12c-3.9,0-7,3.1-7,7s3.1,7,7,7h43c0,0,0,0,0,0c0.2,0,0.4,0,0.5-0.1c0,0,0.1,0,0.1,0c0.2-0.1,0.3-0.1,0.5-0.2  c0,0,0,0,0,0L77.7,79H93c1.1,0,2-0.9,2-2V51C95,49.9,94.1,49,93,49z M24,75h11.5c-0.5,1.1-0.8,2.4-0.7,3.7c0.1,0.8,0.3,1.6,0.6,2.3  H22c-1.7,0-3-1.4-3-3C19,75.3,22.5,75,24,75z M81,75h-4c-0.1,0-0.2,0-0.3,0c0,0-0.1,0-0.1,0c-0.1,0-0.2,0-0.2,0.1c0,0-0.1,0-0.2,0.1  s-0.1,0-0.2,0.1c-0.1,0-0.1,0.1-0.2,0.1c0,0,0,0,0,0L54.3,91H12c-1.7,0-3-1.4-3-3c0-1.7,1.3-3,3-3h30c0.1,0,0.3,0,0.4,0  c1.8-0.2,3.5-0.9,4.7-2.3l17.9-19.5c0.7-0.8,0.7-2.1-0.1-2.8c-0.8-0.7-2.1-0.7-2.8,0.1l-18,19.5c-1.1,1.2-2.9,1.5-4.2,0.5  c-0.7-0.5-1.1-1.3-1.2-2.1c-0.1-0.9,0.2-1.7,0.8-2.3l18.8-20.4c1.5-1.6,3.7-2.6,5.9-2.6H81V75z M91,75h-6V53h6V75z"></path></svg></div><dt><p class="ml-10 text-sm font-semibold text-gray-900">Best Practices</p></dt><dd class="ml-10 text-sm text-gray-500">Adopt the best known methods for development from the OCaml community.</dd></a></div></div></div></div><div class="relative"><button aria-expanded="false" class="text-gray-500  pl-2 group bg-white rounded-md inline-flex items-center text-base font-medium hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orangedark" type="button"><span>Community</span><svg aria-hidden="true" class="text-gray-400 ml-2 h-5 w-5 group-hover:text-gray-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" fill-rule="evenodd"></path></svg></button><div class="absolute z-10 left-1/2 transform -translate-x-1/2 mt-3 px-2 w-screen max-w-sm sm:px-0  hidden "><div class="rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden"><div class="relative grid gap-6 bg-white px-5 py-6 sm:gap-6 sm:p-8"><a class="-m-3 p-3 block rounded-md hover:bg-gray-50 transition ease-in-out duration-150" href="/en/community/opportunities/"><div class="h-7 w-7 float-left fill-current stroke-current text-orangedark"><svg version="1.1" viewBox="0 0 1024 1280" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><g><path d="M512,300.4c-31,0-60-14.7-81.7-41.3c-20.6-25.2-32-58-32-92.1c0-34.5,11.8-63.3,34.1-83.4c20.1-18.2,48.4-28.2,79.6-28.2   c31.2,0,59.5,10,79.6,28.2c22.3,20.1,34.1,49,34.1,83.4c0,34.2-11.4,66.9-32,92.1C572,285.7,543,300.4,512,300.4z M512,95.4   c-17.3,0-73.7,5.2-73.7,71.6c0,24.6,8.4,49,23,66.8c14,17.1,32,26.6,50.7,26.6c18.7,0,36.7-9.4,50.7-26.6   c14.6-17.9,23-42.2,23-66.8C585.7,100.6,529.3,95.4,512,95.4z"></path><rect height="44.4" width="40" x="383.9" y="470.9"></rect><path d="M338.4,515.4h-40v-83.6c0-35,20.6-66.7,52.6-80.9l100-44.4c10.4-4.6,22.4-1.5,29.2,7.5l31.9,41.7l32.4-41.7   c6.8-9,18.8-12,29.2-7.4l99.4,44.3c31.9,14.2,52.5,45.9,52.5,80.9v83.6h-40v-83.6c0-19.2-11.3-36.6-28.7-44.3l-88.2-39.3   l-56.8,73.1l-55.9-73.1l-88.7,39.4c-17.5,7.8-28.8,25.2-28.8,44.3V515.4z"></path><rect height="44.4" width="40" x="600.1" y="470.9"></rect><rect height="126.9" width="40" x="492" y="388.4"></rect><path d="M819.5,784.5c-3.3,0-6.7-0.6-9.9-2c-9.6-4-15.9-13.3-15.9-23.7v-51.2h-75.1c-13,0-23.6-10.6-23.6-23.6V583.8   c0-13,10.6-23.6,23.6-23.6h75.1V509c0-10.5,6.2-19.8,15.9-23.8c9.7-4,20.7-1.8,28.1,5.6l124.9,124.9c10,10,10,26.4,0,36.4   L837.6,776.9C832.7,781.9,826.1,784.5,819.5,784.5z M735,667.6h98.7v56.7l90.5-90.5l-90.5-90.5v56.8H735V667.6z"></path><path d="M512,968.6c-6.6,0-13.2-2.5-18.2-7.5l-125-124.9c-7.3-7.3-9.5-18.2-5.7-27.7c3.9-9.6,13.1-16,23.5-16.2l0.4,0h51.2v-75.1   c0-13,10.6-23.6,23.6-23.6h100.3c13,0,23.6,10.6,23.6,23.6v75.1H637c10.4,0,19.7,6.2,23.7,15.9c4,9.7,1.8,20.7-5.6,28.1L530.2,961   C525.2,966.1,518.6,968.6,512,968.6z M421.5,832.2l90.5,90.5l90.5-90.5h-56.7v-98.7h-67.5v98.7H421.5z"></path><path d="M204.5,784.5c-6.7,0-13.3-2.6-18.2-7.6L61.5,652c-10-10-10-26.4,0-36.4l124.9-124.9c7.4-7.4,18.4-9.6,28.1-5.6   c9.7,4,15.9,13.3,15.9,23.8v51.2h75.1c13,0,23.6,10.6,23.6,23.6V684c0,13-10.6,23.6-23.6,23.6h-75.1v51.2   c0,10.4-6.2,19.7-15.9,23.7C211.2,783.9,207.9,784.5,204.5,784.5z M99.8,633.8l90.5,90.5v-56.7H289v-67.4h-98.7v-56.8L99.8,633.8z"></path></g></svg></div><dt><p class="ml-10 text-sm font-semibold text-gray-900">Opportunities</p></dt><dd class="ml-10 text-sm text-gray-500">Explore vacancies in projects and companies and see where you could fit in.</dd></a><a class="-m-3 p-3 block rounded-md hover:bg-gray-50 transition ease-in-out duration-150" href="/en/community/blog/"><div class="h-7 w-7 float-left fill-current stroke-current text-orangedark"><svg version="1.1" viewBox="0 0 100 125" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><g transform="translate(0,-952.36218)"><path d="M 17.78125 15 A 2.0002 2.0002 0 0 0 15.96875 17 L 15.96875 25.3125 L 8 25.3125 A 2.0002 2.0002 0 0 0 6 27.3125 L 6 83 A 2.0002 2.0002 0 0 0 8 85 L 92 85 A 2.0002 2.0002 0 1 0 92 81 L 10 81 L 10 29.3125 L 15.96875 29.3125 L 15.96875 74.75 A 2.0002 2.0002 0 1 0 19.96875 74.75 L 19.96875 19 L 89.84375 19 L 89.84375 73.96875 A 2.0002 2.0002 0 1 0 93.84375 73.96875 L 93.84375 17 A 2.0002 2.0002 0 0 0 91.84375 15 L 17.96875 15 A 2.0002 2.0002 0 0 0 17.78125 15 z M 28.75 26.34375 A 2.0002 2.0002 0 0 0 26.96875 28.34375 L 26.96875 51.03125 A 2.0002 2.0002 0 0 0 28.96875 53.03125 L 52.90625 53.03125 A 2.0002 2.0002 0 0 0 54.90625 51.03125 L 54.90625 28.34375 A 2.0002 2.0002 0 0 0 52.90625 26.34375 L 28.96875 26.34375 A 2.0002 2.0002 0 0 0 28.75 26.34375 z M 63.6875 26.34375 A 2.0029885 2.0029885 0 1 0 63.90625 30.34375 L 81.84375 30.34375 A 2.0002 2.0002 0 1 0 81.84375 26.34375 L 63.90625 26.34375 A 2.0002 2.0002 0 0 0 63.6875 26.34375 z M 30.96875 30.34375 L 50.90625 30.34375 L 50.90625 49.03125 L 30.96875 49.03125 L 30.96875 30.34375 z M 63.6875 37.6875 A 2.0029885 2.0029885 0 1 0 63.90625 41.6875 L 81.84375 41.6875 A 2.0002 2.0002 0 1 0 81.84375 37.6875 L 63.90625 37.6875 A 2.0002 2.0002 0 0 0 63.6875 37.6875 z M 63.6875 49.03125 A 2.0029885 2.0029885 0 1 0 63.90625 53.03125 L 81.84375 53.03125 A 2.0002 2.0002 0 1 0 81.84375 49.03125 L 63.90625 49.03125 A 2.0002 2.0002 0 0 0 63.6875 49.03125 z M 27.75 60.375 A 2.0029885 2.0029885 0 1 0 27.96875 64.375 L 81.84375 64.375 A 2.0002 2.0002 0 1 0 81.84375 60.375 L 27.96875 60.375 A 2.0002 2.0002 0 0 0 27.75 60.375 z M 27.75 71.71875 A 2.0029885 2.0029885 0 1 0 27.96875 75.71875 L 81.6875 75.71875 A 2.0002 2.0002 0 1 0 81.6875 71.71875 L 27.96875 71.71875 A 2.0002 2.0002 0 0 0 27.75 71.71875 z " transform="translate(0,952.36218)"></path></g></svg></div><dt><p class="ml-10 text-sm font-semibold text-gray-900">News</p></dt><dd class="ml-10 text-sm text-gray-500">Catch up on the latest news from the OCaml sphere!</dd></a><a class="-m-3 p-3 block rounded-md hover:bg-gray-50 transition ease-in-out duration-150" href="/en/community/aroundweb/"><div class="h-7 w-7 float-left fill-current stroke-current text-orangedark"><svg viewBox="0 0 64 80" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><g><path d="M32,9A23,23,0,1,0,55,32,23.0259,23.0259,0,0,0,32,9Zm0,44A21,21,0,1,1,53,32,21.0239,21.0239,0,0,1,32,53ZM63,32A30.99,30.99,0,0,1,10.3,54.124,29.6168,29.6168,0,0,1,8,51.6027V55a1,1,0,0,1-2,0V49a1,1,0,0,1,1-1h6a1,1,0,0,1,0,2H9.2789a27.8374,27.8374,0,0,0,2.4174,2.6929A28.99,28.99,0,0,0,61,32a28.617,28.617,0,0,0-2.86-12.5645,1,1,0,1,1,1.8008-.871A30.6112,30.6112,0,0,1,63,32ZM5.86,44.5645a1,1,0,0,1-1.8008.871A30.6112,30.6112,0,0,1,1,32,30.99,30.99,0,0,1,53.7,9.876,29.6168,29.6168,0,0,1,56,12.3973V9a1,1,0,0,1,2,0v6a1,1,0,0,1-1,1H51a1,1,0,0,1,0-2h3.7211a27.8374,27.8374,0,0,0-2.4174-2.6929A28.99,28.99,0,0,0,3,32,28.617,28.617,0,0,0,5.86,44.5645ZM43.1411,20.1112a23.1406,23.1406,0,0,0,2.1978-1.3661,1,1,0,0,0-1.1582-1.63c-.5694.4049-1.16.7679-1.76,1.1113A22.1893,22.1893,0,0,0,40.02,13.8438,1,1,0,1,0,38.4,15.0166,20.1638,20.1638,0,0,1,40.6245,19.14,20.8665,20.8665,0,0,1,33,20.9617V13a1,1,0,0,0-2,0v7.9617A20.866,20.866,0,0,1,23.3755,19.14,20.1638,20.1638,0,0,1,25.6,15.0166a1,1,0,1,0-1.6191-1.1728,22.1893,22.1893,0,0,0-2.4013,4.3827c-.6-.3434-1.19-.7064-1.76-1.1113a1,1,0,0,0-1.1582,1.63,23.1406,23.1406,0,0,0,2.1978,1.3661A36.8955,36.8955,0,0,0,19.0317,31H13a1,1,0,0,0,0,2h6.0317a36.8955,36.8955,0,0,0,1.8272,10.8888,23.1406,23.1406,0,0,0-2.1978,1.3661,1,1,0,0,0,1.1582,1.63c.5694-.4049,1.16-.7679,1.76-1.1113a22.193,22.193,0,0,0,2.4013,4.3828A1,1,0,1,0,25.6,48.9834a20.1636,20.1636,0,0,1-2.224-4.1233A20.866,20.866,0,0,1,31,43.0383V51a1,1,0,0,0,2,0V43.0383A20.8665,20.8665,0,0,1,40.6245,44.86,20.1638,20.1638,0,0,1,38.4,48.9834,1,1,0,1,0,40.02,50.1563a22.193,22.193,0,0,0,2.4013-4.3828c.6.3434,1.1905.7064,1.76,1.1113a1,1,0,0,0,1.1582-1.63,23.1406,23.1406,0,0,0-2.1978-1.3661A36.8955,36.8955,0,0,0,44.9683,33H51a1,1,0,0,0,0-2H44.9683A36.8955,36.8955,0,0,0,43.1411,20.1112Zm-1.8222.9086A35.3906,35.3906,0,0,1,42.9679,31H33V22.9617A22.855,22.855,0,0,0,41.3189,21.02Zm-18.6378,0A22.855,22.855,0,0,0,31,22.9617V31H21.0321A35.3906,35.3906,0,0,1,22.6811,21.02Zm0,21.96A35.3906,35.3906,0,0,1,21.0321,33H31v8.0383A22.855,22.855,0,0,0,22.6811,42.98Zm18.6378,0A22.855,22.855,0,0,0,33,41.0383V33h9.9679A35.3906,35.3906,0,0,1,41.3189,42.98Z"></path></g></svg></div><dt><p class="ml-10 text-sm font-semibold text-gray-900">Around the Web</p></dt><dd class="ml-10 text-sm text-gray-500">A bit of everything, this page encapsulates OCaml&#x27;s presence online, blogposts, videos, and mailing lists all live here.</dd></a><a class="-m-3 p-3 block rounded-md hover:bg-gray-50 transition ease-in-out duration-150" href="/en/resources/archive/"><div class="h-7 w-7 float-left fill-current stroke-current text-orangedark"><svg viewBox="0 0 32 40" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M28,3H4A3,3,0,0,0,1,6V8a3,3,0,0,0,2,2.816V26a3,3,0,0,0,3,3H26a3,3,0,0,0,3-3V10.816A3,3,0,0,0,31,8V6A3,3,0,0,0,28,3ZM27,26a1,1,0,0,1-1,1H6a1,1,0,0,1-1-1V11H27ZM29,8a1,1,0,0,1-1,1H4A1,1,0,0,1,3,8V6A1,1,0,0,1,4,5H28a1,1,0,0,1,1,1Z"></path><path d="M13,17h6a1,1,0,0,0,0-2H13a1,1,0,0,0,0,2Z"></path></svg></div><dt><p class="ml-10 text-sm font-semibold text-gray-900">Archive</p></dt><dd class="ml-10 text-sm text-gray-500">Can&#x27;t find what you&#x27;re looking for? Try searching the Archive.</dd></a></div></div></div></div></nav><div class="flex-1 flex items-center justify-center px-2 md:justify-end "><div class="max-w-lg w-full md:max-w-xs"><label class="sr-only" for="search">Search ocaml.org</label><form id="searchform" action="https://duckduckgo.com/" method="get"><input type="hidden" name="sites" value="ocaml.org"/><div class="relative"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg aria-hidden="true" class="h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" fill-rule="evenodd"></path></svg></div><input type="search" class="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-orangedark focus:border-orangedarker sm:text-sm" id="search" name="q" placeholder="Search ocaml.org"/></div></form></div></div><div class="-mr-2 -my-2 md:hidden "><button class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" type="button"><span class="sr-only">Open menu</span><svg aria-hidden="true" class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></button></div></div></div><div class="absolute top-0 inset-x-0 p-2 transition transform origin-top-right md:hidden z-10  hidden "><div class="rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y-2 divide-gray-50"><div class="pt-5 pb-6 px-5"><div class="flex items-center justify-between"><div><img class="h-8 w-auto sm:h-10" alt="" src="/static/logo1.jpeg"/></div><div class="-mr-2"><button class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" type="button"><span class="sr-only"> Close menu </span><svg aria-hidden="true" class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></button></div></div><div class="mt-6"><nav class="grid gap-y-2"><h3 class="ml-6 mt-2 px-3 font-semibold text-gray-400 uppercase">Principles</h3><a class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md" href="/en/principles/whatisocaml/"><span class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-5 w-5 stroke-current fill-current stroke-2"><svg version="1.1" viewBox="0 0 12.7 15.9" xmlns="http://www.w3.org/2000/svg"><path d="m9.01 1.23a0.676 0.676 0 0 0-0.658 0.52 7.02 7.02 0 0 0-0.185 1.41 0.338 0.338 0 0 1-0.674 0.0292 6.26 6.26 0 0 0-0.304-1.33 0.81 0.81 0 0 0-1.56 0.118 3.15 3.15 0 0 1-1.26 1.98 0.495 0.495 0 0 1-0.564 9e-3 1.49 1.49 0 0 1-0.459-0.492 0.495 0.495 0 0 1 0.023-0.531 1.22 1.22 0 0 0 0.141-0.266 0.295 0.295 0 0 0-0.374-0.383 0.987 0.987 0 0 0-0.183 0.0867 0.819 0.819 0 0 0-1.21-0.24 1.36 1.36 0 0 1-0.767 0.395 0.516 0.516 0 0 0 0.0788 1.03h0.42a0.789 0.789 0 0 0 0.507 0.259 2.67 2.67 0 0 0 2.32 2.59 0.471 0.471 0 0 0 0.328-0.0783 1.81 1.81 0 0 0 0.438 1.11 3.97 3.97 0 0 1 1.15 2.78 0.202 0.202 0 0 1-0.11 0.18 2.56 2.56 0 0 0-0.682 0.506 0.325 0.325 0 0 0 0.234 0.55h1.43a0.468 0.468 0 0 0 0.0934-0.784 0.202 0.202 0 0 1-0.0744-0.156v-1.43a1.5 1.5 0 0 0-0.15-1.08v-0.591a2.43 2.43 0 0 0 1.68 0.0748 3.43 3.43 0 0 0 1.4-0.668 1.78 1.78 0 0 0 0.228 0.465 2.84 2.84 0 0 1 0.408 2.9 0.202 0.202 0 0 1-0.115 0.11 2.56 2.56 0 0 0-0.934 0.617 0.325 0.325 0 0 0 0.234 0.55h1.43a0.468 0.468 0 0 0 0.122-0.759 0.202 0.202 0 0 1-0.0558-0.197 4.7 4.7 0 0 1 0.706-1.51 0.383 0.383 0 0 0 0.0598-0.309 6.18 6.18 0 0 1 0.035-2.97 1.06 1.06 0 0 0-0.45-1.16l-0.486-0.315a1.08 1.08 0 0 1-0.453-0.618 5.11 5.11 0 0 0-1.26-2.19 0.676 0.676 0 0 0-0.485-0.205zm-0.00227 0.181a0.495 0.495 0 0 1 0.355 0.15 4.93 4.93 0 0 1 1.21 2.11 1.26 1.26 0 0 0 0.529 0.721l0.486 0.315a0.882 0.882 0 0 1 0.374 0.962 6.36 6.36 0 0 0-0.0358 3.06 0.202 0.202 0 0 1-0.0319 0.163 4.88 4.88 0 0 0-0.733 1.57 0.383 0.383 0 0 0 0.105 0.374 0.287 0.287 0 0 1-0.0429 0.447h-1.38a0.143 0.143 0 0 1-0.103-0.243 2.38 2.38 0 0 1 0.868-0.574 0.383 0.383 0 0 0 0.216-0.208 3.02 3.02 0 0 0-0.429-3.08 1.6 1.6 0 0 1-0.218-1.33 0.0906 0.0906 0 0 0-0.174-0.0491 1.78 1.78 0 0 0-0.0319 0.83 3.25 3.25 0 0 1-1.39 0.686 2.25 2.25 0 0 1-1.63-0.0978v-0.624a0.0906 0.0906 0 0 0-0.181 0v1.46a1.32 1.32 0 0 1 0.15 1.01v1.46a0.383 0.383 0 0 0 0.14 0.297 0.287 0.287 0 0 1-0.0248 0.462h-1.38a0.143 0.143 0 0 1-0.103-0.243 2.38 2.38 0 0 1 0.634-0.47 0.383 0.383 0 0 0 0.209-0.343 4.15 4.15 0 0 0-1.19-2.9 1.62 1.62 0 0 1-0.308-1.57 0.0907 0.0907 0 1 0-0.172-0.058 1.81 1.81 0 0 0-0.073 0.298 0.29 0.29 0 0 1-0.324 0.243 2.48 2.48 0 0 1-2.16-2.42 0.789 0.789 0 0 0 0.404-0.176 0.0907 0.0907 0 0 0-0.116-0.139 0.608 0.608 0 0 1-0.888-0.123h-0.508a0.335 0.335 0 0 1-0.0505-0.667 1.54 1.54 0 0 0 0.86-0.438 0.638 0.638 0 0 1 0.942 0.212 0.987 0.987 0 0 0-0.0894 0.0907 0.0909 0.0909 0 1 0 0.138 0.119 0.805 0.805 0 0 1 0.342-0.234 0.114 0.114 0 0 1 0.144 0.148 1.04 1.04 0 0 1-0.119 0.227 0.676 0.676 0 0 0-0.031 0.725 1.68 1.68 0 0 0 0.515 0.551 0.676 0.676 0 0 0 0.772-0.0116 3.33 3.33 0 0 0 1.33-2.1 0.629 0.629 0 0 1 1.21-0.0912 6.08 6.08 0 0 1 0.295 1.29 0.52 0.52 0 0 0 1.04-0.0451 6.84 6.84 0 0 1 0.18-1.37 0.495 0.495 0 0 1 0.482-0.381z" stroke-width=".289"></path><path d="m2.16 2.76a0.128 0.128 0 1 0-0.256 0 0.128 0.128 0 1 0 0.256 0z" stroke-width=".2"></path></svg></span><span class="font-bold">Why OCaml</span></a><a class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md" href="/en/principles/users/"><span class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-5 w-5 stroke-current fill-current stroke-2"><svg class="stroke-0" version="1.1" viewBox="0 0 60 75" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M6,55h48c0.6,0,1-0.4,1-1V33c0-0.3-0.1-0.5-0.3-0.7l-9-8.4L44,5.9c0-0.1,0-0.1,0-0.2c0-0.1,0-0.1,0-0.2  c0-0.1-0.1-0.1-0.1-0.2c0,0-0.1-0.1-0.1-0.1c-0.1-0.1-0.1-0.1-0.2-0.1c0,0-0.1-0.1-0.1-0.1C43.3,5,43.1,5,43,5h-6  c-0.1,0-0.3,0-0.4,0.1c0,0-0.1,0-0.1,0.1c-0.1,0-0.1,0.1-0.2,0.1c0,0-0.1,0.1-0.1,0.1c0,0.1-0.1,0.1-0.1,0.2c0,0.1,0,0.1,0,0.2  c0,0.1,0,0.1,0,0.2l-1.3,20.8l-8-7.4c-0.3-0.3-0.7-0.3-1.1-0.2C25.2,19.2,25,19.6,25,20v10.7L12.7,19.3c-0.3-0.3-0.7-0.3-1.1-0.2  C11.2,19.2,11,19.6,11,20v12H6c-0.6,0-1,0.4-1,1v21C5,54.6,5.4,55,6,55z M42,7v1h-4V7H42z M37.8,10h4.6l1.1,11.9l-2.8-2.6  c-0.3-0.3-0.7-0.3-1.1-0.2C39.2,19.2,39,19.6,39,20v10.7l-2.4-2.2L37.8,10z M7,34h5c0.6,0,1-0.4,1-1V22.3l12.3,11.4  c0.3,0.3,0.7,0.3,1.1,0.2c0.4-0.2,0.6-0.5,0.6-0.9V22.3l12.3,11.4c0.3,0.3,0.7,0.3,1.1,0.2c0.4-0.2,0.6-0.5,0.6-0.9V22.3l3.1,2.9  c0,0,0,0,0,0l8.9,8.3V53H7V34z"></path><path d="M16,38h-4c-0.6,0-1,0.4-1,1v4c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1v-4C17,38.4,16.6,38,16,38z M15,42h-2v-2h2V42z"></path><path d="M24,38h-4c-0.6,0-1,0.4-1,1v4c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1v-4C25,38.4,24.6,38,24,38z M23,42h-2v-2h2V42z"></path><path d="M32,38h-4c-0.6,0-1,0.4-1,1v4c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1v-4C33,38.4,32.6,38,32,38z M31,42h-2v-2h2V42z"></path><path d="M40,38h-4c-0.6,0-1,0.4-1,1v4c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1v-4C41,38.4,40.6,38,40,38z M39,42h-2v-2h2V42z"></path><path d="M48,38h-4c-0.6,0-1,0.4-1,1v4c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1v-4C49,38.4,48.6,38,48,38z M47,42h-2v-2h2V42z"></path></svg></span><span class="font-bold">Industrial Users</span></a><a class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md" href="/en/principles/academic/"><span class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-5 w-5 stroke-current fill-current stroke-2"><svg class="stroke-2" version="1.1" viewBox="0 0 100 125" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><g transform="translate(0,-952.36218)"><path d="M 47.25 23 A 1.0001 1.0001 0 0 0 47.125 23.0625 L 5.625 39.0625 A 1.0001 1.0001 0 0 0 5.625 40.90625 L 21.1875 46.90625 A 1.0001 1.0001 0 0 0 21.1875 47 L 21.1875 63.4375 A 1.0001 1.0001 0 0 0 21.8125 64.34375 L 47.09375 74.90625 A 1.0001 1.0001 0 0 0 47.84375 74.90625 L 73.15625 64.34375 A 1.0001 1.0001 0 0 0 73.75 63.4375 L 73.75 47 A 1.0001 1.0001 0 0 0 73.75 46.9375 L 80.875 44.1875 A 1.0040202 1.0040202 0 0 0 80.15625 42.3125 L 47.46875 54.9375 L 8.75 40 L 47.5 25.03125 L 87.9375 40.65625 L 87.9375 65.09375 C 85.072141 65.568778 82.875 68.037767 82.875 71 C 82.875 74.2988 85.600803 77 88.9375 77 C 92.274197 77 95 74.2988 95 71 C 95 68.037767 92.802859 65.568778 89.9375 65.09375 L 89.9375 40 A 1.0001 1.0001 0 0 0 89.3125 39.0625 L 47.84375 23.0625 A 1.0001 1.0001 0 0 0 47.25 23 z M 23.1875 47.6875 L 47.125 56.90625 A 1.0001 1.0001 0 0 0 47.84375 56.90625 L 71.75 47.6875 L 71.75 62.75 L 47.46875 72.90625 L 23.1875 62.75 L 23.1875 47.6875 z M 88.9375 66.96875 C 91.187128 66.96875 92.96875 68.7759 92.96875 71 C 92.96875 73.2241 91.187128 75 88.9375 75 C 86.687872 75 84.875 73.2241 84.875 71 C 84.875 68.7759 86.687872 66.96875 88.9375 66.96875 z " transform="translate(0,952.36218)"></path></g></svg></span><span class="font-bold">Academic Excellence</span></a><a class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md" href="/en/principles/successes/"><span class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-5 w-5 stroke-current fill-current stroke-2"><svg version="1.1" viewBox="0 0 160 200" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M151.305,149.32l-35.11-68.89c-0.6-1.17-1.8-1.91-3.12-1.91s-2.52,0.74-3.12,1.91l-11.98,23.5l3.93,7.71l11.17-21.92  l29.4,57.69h-22.34h-2.801L66.999,48.66v-8.949h42.25c1.933,0,3.5-1.567,3.5-3.5V9.09c0-1.933-1.567-3.5-3.5-3.5h-45.75  c-1.933,0-3.5,1.567-3.5,3.5v13.824v13.297V48.66L8.69,149.321c-0.553,1.085-0.502,2.38,0.134,3.418  c0.636,1.039,1.767,1.672,2.984,1.672h103.381c0.001,0,0.002,0,0.003,0h4.863h28.14c1.21,0,2.34-0.63,2.98-1.67  C151.815,151.7,151.865,150.41,151.305,149.32z M66.999,22.914V12.59h38.75v20.122h-38.75V22.914z M63.499,57.207l10.873,21.332  c-5.251-0.709-10.46,2.09-12.683,7.08c-0.751,1.687-2.234,2.781-4.067,3.003c-1.829,0.221-3.533-0.488-4.665-1.947l-2.703-3.484  L63.499,57.207z M17.52,147.41l29.221-57.328l0.685,0.883c2.329,3.002,5.817,4.696,9.543,4.695c0.494,0,0.993-0.029,1.493-0.09  c4.273-0.517,7.87-3.172,9.622-7.104c1.063-2.386,3.744-3.588,6.231-2.8l4.402,1.396l30.76,60.347H17.52z"></path><path d="M90.023,15.97l-5.161,5.71l-2.427-1.948c-1.075-0.864-2.649-0.692-3.514,0.384c-0.865,1.077-0.692,2.65,0.384,3.514  l4.265,3.424c0.461,0.37,1.014,0.551,1.564,0.551c0.684,0,1.364-0.279,1.855-0.824l6.742-7.46c0.926-1.024,0.846-2.605-0.178-3.531  C92.529,14.866,90.948,14.947,90.023,15.97z"></path></svg></span><span class="font-bold">Success Stories</span></a><h3 class="ml-6 mt-2 px-3 font-semibold text-gray-400 uppercase">Resources</h3><a class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md" href="/en/resources/language/"><span class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-5 w-5 stroke-current fill-current stroke-2"><svg version="1.1" viewBox="0 0 100 125" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M10.7,22.2c0.4,0.2,0.9,0.2,1.4,0c13.2-5.4,28.6,1.2,28.7,1.2c0.2,0.1,0.5,0.1,0.7,0.1  c0.7,0,1.3-0.4,1.6-1.1c0.4-0.9,0-1.9-0.9-2.3c-0.7-0.3-16.9-7.2-31.5-1.3c-0.9,0.4-1.3,1.4-1,2.3C10,21.7,10.3,22,10.7,22.2z"></path><path d="M57.2,20.2c-0.4,0.2-0.8,0.5-0.9,1s-0.2,0.9,0,1.4c0.3,0.6,0.9,1.1,1.6,1.1c0.2,0,0.5,0,0.7-0.1  c0.2-0.1,15.6-6.6,28.7-1.2c0.4,0.2,0.9,0.2,1.4,0c0.4-0.2,0.8-0.5,1-1c0.4-0.9-0.1-1.9-1-2.3C74.1,13,57.9,19.9,57.2,20.2z"></path><path d="M42.6,31.4c-0.7-0.3-16.9-7.2-31.5-1.3c-0.9,0.4-1.3,1.4-1,2.3c0.2,0.4,0.5,0.8,1,1c0.4,0.2,0.9,0.2,1.4,0  C25.7,28,41,34.6,41.2,34.6c0.2,0.1,0.5,0.1,0.7,0.1c0.7,0,1.3-0.4,1.6-1.1C43.9,32.8,43.5,31.8,42.6,31.4z"></path><path d="M89,30.1c-14.6-5.9-30.8,1-31.5,1.3c-0.9,0.4-1.3,1.4-0.9,2.3c0.3,0.6,0.9,1.1,1.6,1.1c0.2,0,0.5,0,0.7-0.1  c0.2-0.1,15.5-6.6,28.7-1.2c0.9,0.4,1.9-0.1,2.3-1C90.4,31.5,89.9,30.5,89,30.1z"></path><path d="M42.6,42.9c-0.7-0.3-16.9-7.2-31.5-1.3c-0.9,0.4-1.3,1.4-1,2.3c0.4,0.9,1.4,1.3,2.3,1  c13.2-5.4,28.6,1.2,28.7,1.2c0.2,0.1,0.5,0.1,0.7,0.1c0.7,0,1.3-0.4,1.6-1.1C43.9,44.3,43.5,43.3,42.6,42.9z"></path><path d="M89,41.6c-14.6-5.9-30.8,1-31.5,1.3c-0.4,0.2-0.8,0.5-0.9,1c-0.2,0.4-0.2,0.9,0,1.4  c0.3,0.6,0.9,1.1,1.6,1.1c0.2,0,0.5,0,0.7-0.1c0.2-0.1,15.5-6.6,28.7-1.2c0.9,0.4,1.9-0.1,2.3-1C90.4,43,89.9,42,89,41.6z"></path><path d="M42.5,54.4c-0.7-0.3-16.9-7.2-31.5-1.3c-0.9,0.4-1.3,1.4-1,2.3c0.2,0.4,0.5,0.8,1,1c0.4,0.2,0.9,0.2,1.4,0  c13.2-5.4,28.6,1.2,28.7,1.2c0.2,0.1,0.5,0.1,0.7,0.1c0.7,0,1.3-0.4,1.6-1.1C43.8,55.8,43.4,54.8,42.5,54.4z"></path><path d="M88.9,53.1c-14.6-6-30.8,1-31.5,1.3c-0.9,0.4-1.3,1.4-0.9,2.3c0.3,0.6,0.9,1.1,1.6,1.1c0.2,0,0.5,0,0.7-0.1  c0.2-0.1,15.5-6.6,28.7-1.2c0.4,0.2,0.9,0.2,1.4,0c0.4-0.2,0.8-0.5,1-1C90.2,54.5,89.8,53.5,88.9,53.1z"></path><path d="M41.8,69.1c0.7,0,1.3-0.4,1.6-1.1c0.4-0.9,0-1.9-0.9-2.3c-0.7-0.3-16.9-7.2-31.5-1.3  c-0.9,0.4-1.3,1.4-1,2.3c0.2,0.4,0.5,0.8,1,1c0.4,0.2,0.9,0.2,1.4,0c13.2-5.4,28.6,1.2,28.7,1.2C41.3,69,41.5,69.1,41.8,69.1z"></path><path d="M88.9,64.4c-14.6-6-30.8,1-31.5,1.3c-0.9,0.4-1.3,1.4-0.9,2.3c0.3,0.6,0.9,1.1,1.6,1.1c0.2,0,0.5,0,0.7-0.1  c0.2-0.1,15.5-6.6,28.7-1.2c0.4,0.2,0.9,0.2,1.4,0c0.4-0.2,0.8-0.5,1-1C90.2,65.8,89.8,64.7,88.9,64.4z"></path><path d="M97.9,12.1c0-0.8-0.5-1.6-1.3-1.9C72-0.3,54.9,10.1,50,13.8C45,10.1,27.9-0.3,3.3,10.2  c-0.8,0.3-1.3,1.1-1.3,1.9v78.6c0,0.7,0.4,1.4,1,1.8c0.3,0.2,0.7,0.3,1.1,0.3c0.3,0,0.6-0.1,0.9-0.2c0.2-0.1,17.1-7.8,43.5-0.2l0,0  l3,0l0.1,0c17.3-7,39.3-0.9,43.6,0.4c0.6,0.2,1.3,0.1,1.8-0.3c0.5-0.4,0.8-1,0.8-1.7L97.9,12.1z M93.8,87.8V88  c-7.7-2.1-15.2-3.1-22.4-3.1c-1.2,0-2.4,0-3.6,0.1C76.2,83.3,84.9,84.3,93.8,87.8z M93.8,83.4c-20.6-7.6-35.7-0.5-41.7,3.3l0-69.3  c3.2-2.5,19-13,41.7-3.9L93.8,83.4z M34.5,85.4C22.3,84,13.2,85.6,7.9,87.2c6.1-2.2,11.7-3.1,16.5-3.1  C28.3,84.1,31.7,84.6,34.5,85.4z M6.2,13.4c23.1-9.2,38.6,1.5,41.7,4l0,69.3C43.9,84.1,35.7,80,24.3,80c-5.4,0-11.4,0.9-18.1,3.4  L6.2,13.4z"></path></svg></span><span class="font-bold">Language</span></a><a class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md" href="/packages/"><span class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-5 w-5 stroke-current fill-current stroke-2"><svg version="1.1" viewBox="0 0 100 125" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><g><path d="M85.8,35.6l11.2-13c0.5-0.5,0.6-1.3,0.4-2c-0.2-0.7-0.7-1.2-1.4-1.5L63.1,8.3c-0.8-0.3-1.7,0-2.3,0.6L50,21.5L39.2,9    c-0.6-0.7-1.5-0.9-2.3-0.6L4,19.1c-0.7,0.2-1.2,0.8-1.4,1.5c-0.2,0.7,0,1.4,0.4,2l11.2,13L3,48.6c-0.5,0.5-0.6,1.3-0.4,2    c0.2,0.7,0.7,1.2,1.4,1.5l10.9,3.6v23.2c0,0.9,0.6,1.8,1.5,2.1l32.9,10.8c0.2,0.1,0.5,0.1,0.7,0.1c0.2,0,0.5,0,0.7-0.1l32.9-10.8    c0.9-0.3,1.5-1.1,1.5-2.1V55.7l11-3.6c0.7-0.2,1.2-0.8,1.4-1.5c0.2-0.7,0-1.4-0.4-2L85.8,35.6z M24,35.6l26-8.5l26,8.5l-26,8.5    L24,35.6z M63.1,12.9l28.5,9.3l-9.4,10.9l-28.5-9.3L63.1,12.9z M36.9,12.9l9.4,10.9l-28.5,9.3L8.4,22.2L36.9,12.9z M17.8,38.1    l28.5,9.3l-9.4,10.9L8.4,49L17.8,38.1z M19.2,77.2V57.1l17.6,5.8c0.2,0.1,0.4,0.1,0.7,0.1c0.6,0,1.2-0.3,1.6-0.7l8.6-10v34.4    L19.2,77.2z M80.7,77.2l-28.6,9.4V52.2l8.6,10c0.4,0.5,1,0.7,1.6,0.7c0.2,0,0.5,0,0.7-0.1l17.6-5.8V77.2z M63.1,58.3l-9.4-10.9    l28.5-9.3L91.6,49L63.1,58.3z"></path></g></svg></span><span class="font-bold">Packages</span></a><a class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md" href="/en/resources/applications/"><span class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-5 w-5 stroke-current fill-current stroke-2"><svg version="1.1" viewBox="0 0 100 125" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M85.32,15.63H78.65a1.5,1.5,0,0,0-1.5,1.5v3.53H73.36a5.5,5.5,0,0,0-10.57,0h-7.9a5.5,5.5,0,0,0-10.57,0H36.11a5.5,5.5,0,0,0-10.57,0H22.85V17.13a1.5,1.5,0,0,0-1.5-1.5H14.68a1.5,1.5,0,0,0-1.5,1.5V82.87a1.5,1.5,0,0,0,1.5,1.5h6.67a1.5,1.5,0,0,0,1.5-1.5V74.63h2.69a5.49,5.49,0,0,0,9.28,2.27,5.49,5.49,0,0,0,9.29-2.27H54.79a5.49,5.49,0,0,0,9.29,2.27,5.49,5.49,0,0,0,9.28-2.27h3.79v8.24a1.5,1.5,0,0,0,1.5,1.5h6.67a1.5,1.5,0,0,0,1.5-1.5V17.13A1.5,1.5,0,0,0,85.32,15.63Zm-25.22,39a5.5,5.5,0,0,0-9.29-2.26,5.48,5.48,0,0,0-8,0,5.49,5.49,0,0,0-8,0,5.49,5.49,0,0,0-9.28,2.26H22.85v-14h2.69a5.49,5.49,0,0,0,9.28,2.27,5.49,5.49,0,0,0,8,0,5.49,5.49,0,0,0,9.28-2.27H62.79a5.49,5.49,0,0,0,10.57,0h3.79v14Zm-2.79,1.5a2.5,2.5,0,1,1-2.5-2.49A2.5,2.5,0,0,1,57.31,56.14Zm-8,0a2.5,2.5,0,1,1-2.49-2.49A2.5,2.5,0,0,1,49.31,56.14Zm-8,0a2.5,2.5,0,1,1-2.5-2.49A2.5,2.5,0,0,1,41.32,56.14Zm-8,0a2.5,2.5,0,1,1-2.49-2.49A2.5,2.5,0,0,1,33.32,56.14Zm-5-17a2.5,2.5,0,1,1,2.5,2.5A2.5,2.5,0,0,1,28.33,39.15Zm8,0a2.5,2.5,0,1,1,2.5,2.5A2.5,2.5,0,0,1,36.32,39.15Zm8,0a2.5,2.5,0,1,1,2.5,2.5A2.5,2.5,0,0,1,44.32,39.15Zm21.26,0a2.5,2.5,0,1,1,2.49,2.5A2.5,2.5,0,0,1,65.58,39.15Zm2.49-19.48a2.5,2.5,0,1,1-2.49,2.49A2.5,2.5,0,0,1,68.07,19.67Zm-18.47,0a2.5,2.5,0,1,1-2.5,2.49A2.5,2.5,0,0,1,49.6,19.67Zm-18.77,0a2.5,2.5,0,1,1-2.5,2.49A2.5,2.5,0,0,1,30.83,19.67Zm-5.29,4a5.49,5.49,0,0,0,10.57,0h8.21a5.49,5.49,0,0,0,10.57,0h7.9a5.49,5.49,0,0,0,10.57,0h3.79v14H73.36a5.5,5.5,0,0,0-10.57,0H52.1a5.49,5.49,0,0,0-9.28-2.26,5.49,5.49,0,0,0-8,0,5.49,5.49,0,0,0-9.28,2.26H22.85v-14ZM19.85,81.37H16.18V18.63h3.67Zm11-5.74a2.5,2.5,0,1,1,2.49-2.5A2.5,2.5,0,0,1,30.83,75.63Zm8,0a2.5,2.5,0,1,1,2.5-2.5A2.5,2.5,0,0,1,38.82,75.63Zm21.26,0a2.5,2.5,0,1,1,2.5-2.5A2.5,2.5,0,0,1,60.08,75.63Zm8,0a2.5,2.5,0,1,1,2.5-2.5A2.5,2.5,0,0,1,68.07,75.63Zm5.29-4a5.49,5.49,0,0,0-9.28-2.26,5.5,5.5,0,0,0-9.29,2.26H44.11a5.5,5.5,0,0,0-9.29-2.26,5.49,5.49,0,0,0-9.28,2.26H22.85v-14h2.69a5.49,5.49,0,0,0,9.28,2.27,5.49,5.49,0,0,0,8,0,5.48,5.48,0,0,0,8,0,5.49,5.49,0,0,0,9.29-2.27H77.15v14Zm10.46,9.74H80.15V18.63h3.67Z"></path></svg></span><span class="font-bold">Applications</span></a><a class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md" href="/en/resources/bestpractices/"><span class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-5 w-5 stroke-current fill-current stroke-2"><svg version="1.1" viewBox="0 0 100 125" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M7,51h28.7c3.3,0,6.6-1.4,8.8-3.9L61.2,29H76c6.6,0,9-3.8,9-7c0-1.1-0.2-2.1-0.7-3H88c3.9,0,7-3.1,7-7s-3.1-7-7-7H45  c-0.1,0-0.1,0-0.2,0c0,0-0.1,0-0.2,0s-0.1,0-0.2,0c-0.1,0-0.1,0-0.2,0.1c0,0-0.1,0-0.2,0.1c-0.1,0-0.1,0.1-0.2,0.1c0,0,0,0,0,0  L22.3,21H7c-1.1,0-2,0.9-2,2v26C5,50.1,5.9,51,7,51z M76,25H64.5c0.5-1.1,0.8-2.4,0.7-3.7c-0.1-0.8-0.3-1.6-0.6-2.3H78  c1.7,0,3,1.3,3,3C81,24.7,77.5,25,76,25z M19,25h4c0.2,0,0.4,0,0.5-0.1c0,0,0.1,0,0.1,0c0.2-0.1,0.3-0.1,0.5-0.2c0,0,0,0,0,0L45.7,9  H88c1.7,0,3,1.3,3,3c0,1.6-1.3,3-3,3H58c-0.1,0-0.3,0-0.4,0c-1.8,0.2-3.5,1-4.7,2.3L34.9,36.9c-0.7,0.8-0.7,2.1,0.1,2.8  s2.1,0.7,2.8-0.1l18-19.5c1.1-1.2,2.9-1.4,4.2-0.5c0.7,0.5,1.1,1.3,1.2,2.1c0.1,0.8-0.2,1.7-0.8,2.3L41.6,44.4  c-1.5,1.6-3.7,2.6-5.9,2.6H19V25z M9,25h6v22H9V25z M93,49H64.3c-3.3,0-6.6,1.4-8.8,3.9L38.8,71H24c-6.6,0-9,3.8-9,7  c0,1.1,0.2,2.1,0.7,3H12c-3.9,0-7,3.1-7,7s3.1,7,7,7h43c0,0,0,0,0,0c0.2,0,0.4,0,0.5-0.1c0,0,0.1,0,0.1,0c0.2-0.1,0.3-0.1,0.5-0.2  c0,0,0,0,0,0L77.7,79H93c1.1,0,2-0.9,2-2V51C95,49.9,94.1,49,93,49z M24,75h11.5c-0.5,1.1-0.8,2.4-0.7,3.7c0.1,0.8,0.3,1.6,0.6,2.3  H22c-1.7,0-3-1.4-3-3C19,75.3,22.5,75,24,75z M81,75h-4c-0.1,0-0.2,0-0.3,0c0,0-0.1,0-0.1,0c-0.1,0-0.2,0-0.2,0.1c0,0-0.1,0-0.2,0.1  s-0.1,0-0.2,0.1c-0.1,0-0.1,0.1-0.2,0.1c0,0,0,0,0,0L54.3,91H12c-1.7,0-3-1.4-3-3c0-1.7,1.3-3,3-3h30c0.1,0,0.3,0,0.4,0  c1.8-0.2,3.5-0.9,4.7-2.3l17.9-19.5c0.7-0.8,0.7-2.1-0.1-2.8c-0.8-0.7-2.1-0.7-2.8,0.1l-18,19.5c-1.1,1.2-2.9,1.5-4.2,0.5  c-0.7-0.5-1.1-1.3-1.2-2.1c-0.1-0.9,0.2-1.7,0.8-2.3l18.8-20.4c1.5-1.6,3.7-2.6,5.9-2.6H81V75z M91,75h-6V53h6V75z"></path></svg></span><span class="font-bold">Best Practices</span></a><h3 class="ml-6 mt-2 px-3 font-semibold text-gray-400 uppercase">Community</h3><a class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md" href="/en/community/opportunities/"><span class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-5 w-5 stroke-current fill-current stroke-2"><svg version="1.1" viewBox="0 0 1024 1280" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><g><path d="M512,300.4c-31,0-60-14.7-81.7-41.3c-20.6-25.2-32-58-32-92.1c0-34.5,11.8-63.3,34.1-83.4c20.1-18.2,48.4-28.2,79.6-28.2   c31.2,0,59.5,10,79.6,28.2c22.3,20.1,34.1,49,34.1,83.4c0,34.2-11.4,66.9-32,92.1C572,285.7,543,300.4,512,300.4z M512,95.4   c-17.3,0-73.7,5.2-73.7,71.6c0,24.6,8.4,49,23,66.8c14,17.1,32,26.6,50.7,26.6c18.7,0,36.7-9.4,50.7-26.6   c14.6-17.9,23-42.2,23-66.8C585.7,100.6,529.3,95.4,512,95.4z"></path><rect height="44.4" width="40" x="383.9" y="470.9"></rect><path d="M338.4,515.4h-40v-83.6c0-35,20.6-66.7,52.6-80.9l100-44.4c10.4-4.6,22.4-1.5,29.2,7.5l31.9,41.7l32.4-41.7   c6.8-9,18.8-12,29.2-7.4l99.4,44.3c31.9,14.2,52.5,45.9,52.5,80.9v83.6h-40v-83.6c0-19.2-11.3-36.6-28.7-44.3l-88.2-39.3   l-56.8,73.1l-55.9-73.1l-88.7,39.4c-17.5,7.8-28.8,25.2-28.8,44.3V515.4z"></path><rect height="44.4" width="40" x="600.1" y="470.9"></rect><rect height="126.9" width="40" x="492" y="388.4"></rect><path d="M819.5,784.5c-3.3,0-6.7-0.6-9.9-2c-9.6-4-15.9-13.3-15.9-23.7v-51.2h-75.1c-13,0-23.6-10.6-23.6-23.6V583.8   c0-13,10.6-23.6,23.6-23.6h75.1V509c0-10.5,6.2-19.8,15.9-23.8c9.7-4,20.7-1.8,28.1,5.6l124.9,124.9c10,10,10,26.4,0,36.4   L837.6,776.9C832.7,781.9,826.1,784.5,819.5,784.5z M735,667.6h98.7v56.7l90.5-90.5l-90.5-90.5v56.8H735V667.6z"></path><path d="M512,968.6c-6.6,0-13.2-2.5-18.2-7.5l-125-124.9c-7.3-7.3-9.5-18.2-5.7-27.7c3.9-9.6,13.1-16,23.5-16.2l0.4,0h51.2v-75.1   c0-13,10.6-23.6,23.6-23.6h100.3c13,0,23.6,10.6,23.6,23.6v75.1H637c10.4,0,19.7,6.2,23.7,15.9c4,9.7,1.8,20.7-5.6,28.1L530.2,961   C525.2,966.1,518.6,968.6,512,968.6z M421.5,832.2l90.5,90.5l90.5-90.5h-56.7v-98.7h-67.5v98.7H421.5z"></path><path d="M204.5,784.5c-6.7,0-13.3-2.6-18.2-7.6L61.5,652c-10-10-10-26.4,0-36.4l124.9-124.9c7.4-7.4,18.4-9.6,28.1-5.6   c9.7,4,15.9,13.3,15.9,23.8v51.2h75.1c13,0,23.6,10.6,23.6,23.6V684c0,13-10.6,23.6-23.6,23.6h-75.1v51.2   c0,10.4-6.2,19.7-15.9,23.7C211.2,783.9,207.9,784.5,204.5,784.5z M99.8,633.8l90.5,90.5v-56.7H289v-67.4h-98.7v-56.8L99.8,633.8z"></path></g></svg></span><span class="font-bold">Opportunities</span></a><a class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md" href="/en/community/blog/"><span class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-5 w-5 stroke-current fill-current stroke-2"><svg version="1.1" viewBox="0 0 100 125" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><g transform="translate(0,-952.36218)"><path d="M 17.78125 15 A 2.0002 2.0002 0 0 0 15.96875 17 L 15.96875 25.3125 L 8 25.3125 A 2.0002 2.0002 0 0 0 6 27.3125 L 6 83 A 2.0002 2.0002 0 0 0 8 85 L 92 85 A 2.0002 2.0002 0 1 0 92 81 L 10 81 L 10 29.3125 L 15.96875 29.3125 L 15.96875 74.75 A 2.0002 2.0002 0 1 0 19.96875 74.75 L 19.96875 19 L 89.84375 19 L 89.84375 73.96875 A 2.0002 2.0002 0 1 0 93.84375 73.96875 L 93.84375 17 A 2.0002 2.0002 0 0 0 91.84375 15 L 17.96875 15 A 2.0002 2.0002 0 0 0 17.78125 15 z M 28.75 26.34375 A 2.0002 2.0002 0 0 0 26.96875 28.34375 L 26.96875 51.03125 A 2.0002 2.0002 0 0 0 28.96875 53.03125 L 52.90625 53.03125 A 2.0002 2.0002 0 0 0 54.90625 51.03125 L 54.90625 28.34375 A 2.0002 2.0002 0 0 0 52.90625 26.34375 L 28.96875 26.34375 A 2.0002 2.0002 0 0 0 28.75 26.34375 z M 63.6875 26.34375 A 2.0029885 2.0029885 0 1 0 63.90625 30.34375 L 81.84375 30.34375 A 2.0002 2.0002 0 1 0 81.84375 26.34375 L 63.90625 26.34375 A 2.0002 2.0002 0 0 0 63.6875 26.34375 z M 30.96875 30.34375 L 50.90625 30.34375 L 50.90625 49.03125 L 30.96875 49.03125 L 30.96875 30.34375 z M 63.6875 37.6875 A 2.0029885 2.0029885 0 1 0 63.90625 41.6875 L 81.84375 41.6875 A 2.0002 2.0002 0 1 0 81.84375 37.6875 L 63.90625 37.6875 A 2.0002 2.0002 0 0 0 63.6875 37.6875 z M 63.6875 49.03125 A 2.0029885 2.0029885 0 1 0 63.90625 53.03125 L 81.84375 53.03125 A 2.0002 2.0002 0 1 0 81.84375 49.03125 L 63.90625 49.03125 A 2.0002 2.0002 0 0 0 63.6875 49.03125 z M 27.75 60.375 A 2.0029885 2.0029885 0 1 0 27.96875 64.375 L 81.84375 64.375 A 2.0002 2.0002 0 1 0 81.84375 60.375 L 27.96875 60.375 A 2.0002 2.0002 0 0 0 27.75 60.375 z M 27.75 71.71875 A 2.0029885 2.0029885 0 1 0 27.96875 75.71875 L 81.6875 75.71875 A 2.0002 2.0002 0 1 0 81.6875 71.71875 L 27.96875 71.71875 A 2.0002 2.0002 0 0 0 27.75 71.71875 z " transform="translate(0,952.36218)"></path></g></svg></span><span class="font-bold">News</span></a><a class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md" href="/en/community/aroundweb/"><span class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-5 w-5 stroke-current fill-current stroke-2"><svg viewBox="0 0 64 80" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><g><path d="M32,9A23,23,0,1,0,55,32,23.0259,23.0259,0,0,0,32,9Zm0,44A21,21,0,1,1,53,32,21.0239,21.0239,0,0,1,32,53ZM63,32A30.99,30.99,0,0,1,10.3,54.124,29.6168,29.6168,0,0,1,8,51.6027V55a1,1,0,0,1-2,0V49a1,1,0,0,1,1-1h6a1,1,0,0,1,0,2H9.2789a27.8374,27.8374,0,0,0,2.4174,2.6929A28.99,28.99,0,0,0,61,32a28.617,28.617,0,0,0-2.86-12.5645,1,1,0,1,1,1.8008-.871A30.6112,30.6112,0,0,1,63,32ZM5.86,44.5645a1,1,0,0,1-1.8008.871A30.6112,30.6112,0,0,1,1,32,30.99,30.99,0,0,1,53.7,9.876,29.6168,29.6168,0,0,1,56,12.3973V9a1,1,0,0,1,2,0v6a1,1,0,0,1-1,1H51a1,1,0,0,1,0-2h3.7211a27.8374,27.8374,0,0,0-2.4174-2.6929A28.99,28.99,0,0,0,3,32,28.617,28.617,0,0,0,5.86,44.5645ZM43.1411,20.1112a23.1406,23.1406,0,0,0,2.1978-1.3661,1,1,0,0,0-1.1582-1.63c-.5694.4049-1.16.7679-1.76,1.1113A22.1893,22.1893,0,0,0,40.02,13.8438,1,1,0,1,0,38.4,15.0166,20.1638,20.1638,0,0,1,40.6245,19.14,20.8665,20.8665,0,0,1,33,20.9617V13a1,1,0,0,0-2,0v7.9617A20.866,20.866,0,0,1,23.3755,19.14,20.1638,20.1638,0,0,1,25.6,15.0166a1,1,0,1,0-1.6191-1.1728,22.1893,22.1893,0,0,0-2.4013,4.3827c-.6-.3434-1.19-.7064-1.76-1.1113a1,1,0,0,0-1.1582,1.63,23.1406,23.1406,0,0,0,2.1978,1.3661A36.8955,36.8955,0,0,0,19.0317,31H13a1,1,0,0,0,0,2h6.0317a36.8955,36.8955,0,0,0,1.8272,10.8888,23.1406,23.1406,0,0,0-2.1978,1.3661,1,1,0,0,0,1.1582,1.63c.5694-.4049,1.16-.7679,1.76-1.1113a22.193,22.193,0,0,0,2.4013,4.3828A1,1,0,1,0,25.6,48.9834a20.1636,20.1636,0,0,1-2.224-4.1233A20.866,20.866,0,0,1,31,43.0383V51a1,1,0,0,0,2,0V43.0383A20.8665,20.8665,0,0,1,40.6245,44.86,20.1638,20.1638,0,0,1,38.4,48.9834,1,1,0,1,0,40.02,50.1563a22.193,22.193,0,0,0,2.4013-4.3828c.6.3434,1.1905.7064,1.76,1.1113a1,1,0,0,0,1.1582-1.63,23.1406,23.1406,0,0,0-2.1978-1.3661A36.8955,36.8955,0,0,0,44.9683,33H51a1,1,0,0,0,0-2H44.9683A36.8955,36.8955,0,0,0,43.1411,20.1112Zm-1.8222.9086A35.3906,35.3906,0,0,1,42.9679,31H33V22.9617A22.855,22.855,0,0,0,41.3189,21.02Zm-18.6378,0A22.855,22.855,0,0,0,31,22.9617V31H21.0321A35.3906,35.3906,0,0,1,22.6811,21.02Zm0,21.96A35.3906,35.3906,0,0,1,21.0321,33H31v8.0383A22.855,22.855,0,0,0,22.6811,42.98Zm18.6378,0A22.855,22.855,0,0,0,33,41.0383V33h9.9679A35.3906,35.3906,0,0,1,41.3189,42.98Z"></path></g></svg></span><span class="font-bold">Around the Web</span></a><a class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md" href="/en/resources/archive/"><span class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-5 w-5 stroke-current fill-current stroke-2"><svg viewBox="0 0 32 40" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M28,3H4A3,3,0,0,0,1,6V8a3,3,0,0,0,2,2.816V26a3,3,0,0,0,3,3H26a3,3,0,0,0,3-3V10.816A3,3,0,0,0,31,8V6A3,3,0,0,0,28,3ZM27,26a1,1,0,0,1-1,1H6a1,1,0,0,1-1-1V11H27ZM29,8a1,1,0,0,1-1,1H4A1,1,0,0,1,3,8V6A1,1,0,0,1,4,5H28a1,1,0,0,1,1,1Z"></path><path d="M13,17h6a1,1,0,0,0,0-2H13a1,1,0,0,0,0,2Z"></path></svg></span><span class="font-bold">Archive</span></a></nav></div></div></div></div></div></div><main class="relative bg-graylight pb-1"><div class="mx-auto"><div class="grid grid-cols-9 bg-white"><nav class="toc"><ul>
<li><ul>
<li><a href="#general-guidelines-to-write-programs">General guidelines to write programs</a>
</li>
<li><a href="#program-formatting-guidelines">Program formatting guidelines</a>
</li>
<li><a href="#indentation-of-programs">Indentation of programs</a>
</li>
<li><a href="#programming-guidelines">Programming guidelines</a>
</li>
<li><a href="#managing-program-development">Managing program development</a>
</li>
<li><a href="#notes">Notes</a>
</li>
</ul>
</li>
</ul>
</nav><div class="col-span-9 lg:col-span-7 bg-graylight relative py-16 overflow-hidden"><div class="relative px-4 sm:px-6 lg:px-8"><div class="text-lg max-w-prose mx-auto"><h1><span class="mt-2 block text-3xl text-center leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl">OCaml Programming Guidelines</span></h1><p class="mt-8 text-xl text-gray-500 leading-8">Opinionated guidelines for writing OCaml code
</p></div><div class="mt-6 prose prose-yellow prose-lg text-gray-500 mx-auto"><p>This is a set of reasonable guidelines for formatting OCaml
programs—guidelines which reflect the consensus among veteran OCaml
programmers. Nevertheless, all detailed notifications of possible errors
or omissions will be noted with pleasure. To send your comments using
<a href="https://github.com/ocaml/ocaml.org/issues?state=open">GitHub issues</a>.
<br />
Original translation from French: <a href="mailto:datta@math.berkeley.edu">Ruchira
Datta</a>.</p>
<p>Thanks to all those who have already participated in the critique of
this page: Daniel de Rauglaudre, Luc Maranget, Jacques Garrigue, Damien
Doligez, Xavier Leroy, Bruno Verlyck, Bruno Petazzoni, Francois Maltey,
Basile Starynkevitch, Toby Moth, Pierre Lescanne.</p>
<h2 id="general-guidelines-to-write-programs">General guidelines to write programs</h2>
<h3 id="be-simple-and-readable">Be simple and readable</h3>
<p>The time you spend typing the programs is negligible compared to the
time spent reading them. That's the reason why you save a lot of time if
you work hard to optimize readability.</p>
<p>All the time you are &quot;wasting&quot; to get a simpler program today, will
return a hundred times in the future during the uncountably many
modifications and readings of the program (starting with the first
debugging).</p>
<blockquote>
<p><strong>Writing programs law</strong>: A program is written once, modified ten
times, and read 100 times. So simplify its writing, always keep future
modifications in mind, and never jeopardize readability.</p>
</blockquote>
<h2 id="program-formatting-guidelines">Program formatting guidelines</h2>
<h3 id="lexical-conventions">Lexical conventions</h3>
<blockquote>
<p><strong>Pseudo spaces law</strong>: never hesitate to separate words of your
programs with spaces; the space bar is the easiest key to find on the
keyboard, press it as often as necessary!</p>
</blockquote>
<h4 id="delimiters">Delimiters</h4>
<p>A space should always follow a delimiter symbol, and spaces should
surround operator symbols. It has been a great step forward in
typography to separate words by spaces to make written texts easier to
read. Do the same in your programs if you want them to be readable.</p>
<h4 id="how-to-write-pairs">How to write pairs</h4>
<p>A tuple is parenthesized and the commas therein (delimiters) are each
followed by a space: <code>(1, 2)</code>, <code>let   triplet = (x, y, z)</code>...</p>
<ul>
<li><strong>Commonly accepted exceptions</strong>:
<ul>
<li><strong>Definition of the components of a pair</strong>: In place of
<code>let (x, y) =       ...</code>, you can write <code>let x, y = ...</code>.
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Justification</strong>: The point is to define several values
simultaneously, not to construct a tuple. Moreover, the
pattern is set off nicely between <code>let</code> and <code>=</code>.</p>
</blockquote>
<ul>
<li>
<p><strong>Matching several values simultaneously</strong>: It's okay to omit
parentheses around n-tuples when matching several values
simultaneously.</p>
<pre><code>  match x, y with
  | 1, _ -&gt; ...
  | x, 1 -&gt; ...
  | x, y -&gt; ...
</code></pre>
<blockquote>
<p><strong>Justification</strong>: The point is to match several values in
parallel, not to construct a tuple. Moreover, the expressions
being matched are set off by <code>match</code> and <code>with</code>, while the
patterns are set off nicely by <code>|</code> and <code>-&gt;</code>.</p>
</blockquote>
</li>
</ul>
<h4 id="how-to-write-lists">How to write lists</h4>
<p>Write <code>x :: l</code> with spaces around the <code>::</code> (since <code>::</code> is an infix
operator, hence surrounded by spaces) and <code>[1; 2; 3]</code> (since <code>;</code> is a
delimiter, hence followed by a space).</p>
<h4 id="how-to-write-operator-symbols">How to write operator symbols</h4>
<p>Be careful to keep operator symbols well separated by spaces: not only
will your formulas be more readable, but you will avoid confusion with
multi-character operators. (Obvious exceptions to this rule: the symbols
<code>!</code> and <code>.</code> are not separated from their arguments.)<br />
Example: write <code>x + 1</code> or <code>x + !y</code>.</p>
<blockquote>
<p><strong>Justification</strong>: If you left out the spaces then <code>x+1</code> would be
understood, but <code>x+!y</code> would change its meaning since <code>+!</code> would
be interpreted as a multi-character operator.</p>
<p><strong>Criticism</strong>: The absence of spaces around an operator improves the
readability of formulas when you use it to reflect the relative
precedences of operators. For example <code>x*y + 2*z</code> makes it very
obvious that multiplication takes precedence over addition.</p>
<p><strong>Response</strong>: This is a bad idea, a chimera, because nothing in the
language ensures that the spaces properly reflect the meaning of the
formula. For example <code>x * z-1</code> means <code>(x * z) - 1</code>, and not
<code>x * (z - 1)</code> as the proposed interpretation of spaces would seem to
suggest. Besides, the problem of multi-character symbols would keep
you from using this convention in a uniform way: you couldn't leave
out the spaces around the multiplication to write <code>x*!y + 2*!z</code>.
Finally, this playing with the spaces is a subtle and flimsy
convention, a subliminal message which is difficult to grasp on
reading. If you want to make the precedences obvious, use the
expressive means brought to you by the language: write parentheses.</p>
<p><strong>Additional justification</strong>: Systematically surrounding operators
with spaces simplify the treatment of infix operators which are no
more a complex particular case; in effect, whereas you can write <code>(+)</code>
without spaces, you evidently cannot write <code>(*)</code> since <code>(*</code> is read as
the beginning of a comment. You must write at least one space as in
“<code>( *)</code>”, although an extra space after <code>*</code> is definitively preferable
if you want to avoid that <code>*)</code> could be read, in some contexts, as the
end of a comment. All those difficulties are easily avoided if you
adopt the simple rule proposed here: keep operator symbols well
separated by spaces.<br />
In fact you will quickly feel that this rule is not so difficult to
follow: the space bar is the greatest and best situated key of the
keyboard, it is the easiest to enter and you cannot miss it!</p>
</blockquote>
<h4 id="how-to-write-long-character-strings">How to write long character strings</h4>
<p>Indent long character strings with the convention in force at that line
plus an indication of string continuation at the end of each line (a <code>\</code>
character at the end of the line that omits white spaces on the
beginning of next line):</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let universal_declaration =
  &quot;-1- Programs are born and remain free and equal under the law;\n\
   distinctions can only be based on the common good.&quot; in
  ...
</code></pre>
<h2 id="indentation-of-programs">Indentation of programs</h2>
<blockquote>
<p><strong>Landin's pseudo law</strong>: Treat the indentation of your programs as if
it determines the meaning of your programs.</p>
</blockquote>
<p>I would add to this law: carefully treat the indentation of programs
because in some cases it really gives the meaning of the program!</p>
<p>The indentation of programs is an art which excites many strong
opinions. Here several indentation styles are given which are drawn from
experience and which have not been severely criticized.</p>
<p>When a justification for the adopted style has seemed obvious to me, I
have indicated it. On the other hand, criticisms are also noted.</p>
<p>So each time, you have to choose between the different styles
suggested.<br />
The only absolute rule is the first below.</p>
<h3 id="consistency-of-indentation">Consistency of indentation</h3>
<p>Choose a generally accepted style of indentation, then use it
systematically throughout the whole application.</p>
<h3 id="width-of-the-page">Width of the page</h3>
<p>The page is 80 columns wide.</p>
<blockquote>
<p><strong>Justification</strong>: This width makes it possible to read the code on
all displays and to print it in a legible font on a standard sheet.</p>
</blockquote>
<h3 id="height-of-the-page">Height of the page</h3>
<p>A function should always fit within one screenful (of about 70 lines),
or in exceptional cases two, at the very most three. To go beyond this
is unreasonable.</p>
<blockquote>
<p><strong>Justification</strong>: When a function goes beyond one screenful, it's
time to divide it into subproblems and handle them independently.
Beyond a screenful, one gets lost in the code. The indentation is not
readable and is difficult to keep correct.</p>
</blockquote>
<h3 id="how-much-to-indent">How much to indent</h3>
<p>The change in indentation between successive lines of the program is
generally 1 or 2 spaces. Pick an amount to indent and stick with it
throughout the program.</p>
<h3 id="using-tab-stops">Using tab stops</h3>
<p>Using the tab character (ASCII character 9) is absolutely <em>not</em>
recommended.</p>
<blockquote>
<p><strong>Justification</strong>: Between one display and another, the indentation of
the program changes completely; it can also become completely wrong,
if the programmer used both tabulations and spaces to indent the
program.</p>
<p><strong>Criticism</strong>: The purpose of using tabulations is just to allow the
readers of the program to indent more or less by changing the tabs
stops. The overall indentation remains correct and the reader is glad
to easily customize the indentation amount.</p>
<p><strong>Answer</strong>: It seems almost impossible to use this method since you
should always use tabulations to indent, which is hard and unnatural.</p>
</blockquote>
<h3 id="how-to-indent-global-let---definitions">How to indent global <code>let ... ;;</code> definitions</h3>
<p>The body of a function defined globally in a module is generally
indented normally. However, it's okay to treat this case specially to
set off the definition better.</p>
<p>With a regular indentation of 1 or 2 spaces:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let f x = function
  | C -&gt;
  | D -&gt;
  ...

let g x =
  let tmp =
    match x with
    | C -&gt; 1
    | x -&gt; 0 in
  tmp + 1
</code></pre>
<blockquote>
<p><strong>Justification</strong>: No exception to the amount of indentation.</p>
</blockquote>
<p>Other conventions are acceptable, for example:</p>
<ul>
<li>The body is left-justified in the case of pattern-matching.
</li>
</ul>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let f x = function
| C -&gt;
| D -&gt;
...
</code></pre>
<blockquote>
<p><strong>Justification</strong>: The vertical bars separating the patterns stop
when the definition is done, so it's still easy to pass on to the
following definition.</p>
<p><strong>Criticism</strong>: An unpleasant exception to the normal indentation.</p>
</blockquote>
<ul>
<li>The body is justified just under the name of the defined function.
</li>
</ul>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let f x =
    let tmp = ... in
    try g x with
    | Not_found -&gt;
    ...
</code></pre>
<blockquote>
<p><strong>Justification</strong>: The first line of the definition is set off
nicely, so it's easier to pass from definition to definition.</p>
<p><strong>Criticism</strong>: You run into the right margin too quickly.</p>
</blockquote>
<h3 id="how-to-indent-let--in-constructs">How to indent <code>let ... in</code> constructs</h3>
<p>The expression following a definition introduced by <code>let</code> is indented to
the same level as the keyword <code>let</code>, and the keyword <code>in</code> which
introduces it is written at the end of the line:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let expr1 = ... in
expr1 + expr1
</code></pre>
<p>In the case of a series of <code>let</code> definitions, the preceding rule implies
that these definitions should be placed at the same indentation level:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let expr1 = ... in
let n = ... in
...
</code></pre>
<blockquote>
<p><strong>Justification</strong>: It is suggested that a series of “let ... in”
constructs is analogous to a set of assumptions in a mathematical
text, whence the same indentation level for all the assumptions.</p>
</blockquote>
<p>Variation: some write the keyword <code>in</code> alone on one line to set apart
the final expression of the computation:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let e1 = ... in
let e2 = ... in
let new_expr =
  let e1' = derive_expression e1
  and e2' = derive_expression e2 in
  Add_expression e1' e2'
in
Mult_expression (new_expr, new_expr)
</code></pre>
<blockquote>
<p><strong>Criticism</strong>: Lack of consistency.</p>
</blockquote>
<h3 id="how-to-indent-if--then----else--">How to indent <code>if ... then   ... else ... </code></h3>
<h4 id="multiple-branches">Multiple branches</h4>
<p>Write conditions with multiple branches at the same level of
indentation:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">if cond1 ...
if cond2 ...
if cond3 ...
</code></pre>
<blockquote>
<p><strong>Justification</strong>: Analogous treatment to pattern-matching clauses,
all aligned to the same tab stop.</p>
</blockquote>
<p>If the sizes of the conditions and the expressions allow, write for
example:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">if cond1 then e1 else
if cond2 then e2 else
if cond3 then e3 else
e4

</code></pre>
<p>If expressions in the branches of multiple conditions have to be
enclosed (when they include statements for instance), write:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">if cond then begin
    e1
  end else
if cond2 then begin
    e2
  end else
if cond3 then ...
</code></pre>
<p>Some suggest another method for multiple conditionals, starting each
line by the keyword <code>else</code>:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">if cond1 ...
else if cond2 ...
else if cond3 ...
</code></pre>
<blockquote>
<p><strong>Justification</strong>: <code>elsif</code> is a keyword in many languages, so use
indentation and <code>else if</code> to bring it to mind. Moreover, you do not
have to look to the end of line to know whether the condition is
continued or another test is performed.</p>
<p><strong>Criticism</strong>: Lack of consistency in the treatment of all the
conditions. Why a special case for the first condition?</p>
</blockquote>
<p>Yet again, choose your style and use it systematically.</p>
<h4 id="single-branches">Single branches</h4>
<p>Several styles are possible for single branches, according to the size
of the expressions in question and especially the presence of <code>begin</code>
<code>end</code> or <code>(</code> <code>)</code> delimiters for these expressions.</p>
<p>In the case of delimiting the branches of a conditional, several styles
are used:</p>
<blockquote>
<p><code>(</code> at end of line:</p>
<pre><code class="language-ocaml">if cond then (
  e1
) else (
  e2
)
</code></pre>
<p>Or alternatively first <code>begin</code> at beginning of line:</p>
<pre><code class="language-ocaml">if cond then
  begin
    e1
  end else begin
    e2
  end
</code></pre>
</blockquote>
<p>In fact the indentation of conditionals depends on the sizes of the
expressions which make them up.</p>
<blockquote>
<p>If <code>cond</code>, <code>e1</code> and <code>e2</code> are small, simply write them on one line:</p>
<pre><code class="language-ocaml">if cond then e1 else e2
</code></pre>
<p>If the expressions making up a conditional are purely functional
(without side effects), we advocate binding them within the
conditional with <code>let e = ... in</code> when they're too big to fit on a
line.</p>
<blockquote>
<p><strong>Justification</strong>: This way you get back the simple indentation on
one line which is the most readable. As a side benefit, the naming
acts as an aid to comprehension.</p>
</blockquote>
<p>So now we consider the case in which the expressions in question do
have side effects, which keeps us from simply binding them with a
<code>let e = ... in</code>.</p>
<blockquote>
<p>If <code>e1</code> and <code>cond</code> are small, but <code>e2</code> large:</p>
<pre><code class="language-ocaml">if cond then e1 else
  e2
</code></pre>
<p>If <code>e1</code> and <code>cond</code> are large and <code>e2</code> small:</p>
<pre><code class="language-ocaml">if cond then
  e1
else e2
</code></pre>
<p>If all the expressions are large:</p>
<pre><code class="language-ocaml">if cond then
  e1
else
  e2
</code></pre>
<p>If there are <code>( )</code> delimiters:</p>
<pre><code class="language-ocaml">if cond then (
  e1
) else (
  e2
)
</code></pre>
<p>A mixture where <code>e1</code> requires <code>( )</code> but <code>e2</code> is small:</p>
<pre><code class="language-ocaml">if cond then (
    e1
) else e2
</code></pre>
</blockquote>
</blockquote>
<h3 id="how-to-indent-pattern-matching-constructs">How to indent pattern-matching constructs</h3>
<h4 id="general-principles">General principles</h4>
<p>All the pattern-matching clauses are introduced by a vertical bar,
<em>including</em> the first one.</p>
<blockquote>
<p><strong>Criticism</strong>: The first vertical bar is not mandatory: hence, there
is no need to write it.</p>
<p><strong>Answer to criticism</strong>: If you omit the first bar the indentation
seems unnatural : the first case gets an indentation that is greater
than a normal new line would necessitate. It is thus a useless
exception to the correct indentation rule. It also insists not to use
the same syntax for the whole set of clauses, writing the first clause
as an exception with a slightly different syntax. Last, aesthetic
value is doubtful (some people would say “awful” instead of
“doubtful”).</p>
</blockquote>
<p>Align all the pattern-matching clauses at the level of the vertical bar
which begins each clause, <em>including</em> the first one.</p>
<p>If an expression in a clause is too large to fit on the line, you must
break the line immediately after the arrow of the corresponding clause.
Then indent normally, starting from the beginning of the pattern of the
clause.</p>
<p>Arrows of pattern matching clauses should not be aligned.</p>
<h4 id="match-or-try"><code>match</code> or <code>try</code></h4>
<p>For a <code>match</code> or a <code>try</code> align the clauses with the beginning of the
construct:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">match lam with
| Abs (x, body) -&gt; 1 + size_lambda body
| App (lam1, lam2) -&gt; size_lambda lam1 + size_lambda lam2
| Var v -&gt; 1

try f x with
| Not_found -&gt; ...
| Failure &quot;not yet implemented&quot; -&gt; ...
</code></pre>
<p>Put the keyword <code>with</code> at the end of the line. If the preceding
expression extends beyond one line, put <code>with</code> on a line by itself:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">try
  let y = f x in
  if ...
with
| Not_found -&gt; ...
| Failure &quot;not yet implemented&quot; -&gt; ...
</code></pre>
<blockquote>
<p><strong>Justification</strong>: The keyword <code>with</code>, on a line by itself shows that
the program enters the pattern matching part of the construct.</p>
</blockquote>
<h4 id="indenting-expressions-inside-clauses">Indenting expressions inside clauses</h4>
<p>If the expression on the right of the pattern matching arrow is too
large, cut the line after the arrow.</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">match lam with
| Abs (x, body) -&gt;
   1 + size_lambda body
| App (lam1, lam2) -&gt;
   size_lambda lam1 + size_lambda lam2
| Var v -&gt;
</code></pre>
<p>Some programmers generalize this rule to all clauses, as soon as one
expressions overflows. They will then indent the last clause like this:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">| Var v -&gt;
   1
</code></pre>
<p>Other programmers go one step further and apply this rule systematically
to any clause of any pattern matching.</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let rec fib = function
  | 0 -&gt;
     1
  | 1 -&gt;
     1
  | n -&gt;
     fib (n - 1) + fib ( n - 2)
</code></pre>
<blockquote>
<p><strong>Criticism</strong>: May be not compact enough; for simple pattern matchings
(or simple clauses in complex matchings), the rule does not add any
good to readability.</p>
<p><strong>Justification</strong>: I don't see any good reason for this rule, unless
you are paid proportionally to the number of lines of code: in this
case use this rule to get more money without adding more bugs in your
OCaml programs!</p>
</blockquote>
<h4 id="pattern-matching-in-anonymous-functions">Pattern matching in anonymous functions</h4>
<p>Similarly to <code>match</code> or <code>try</code>, pattern matching of anonymous functions,
starting by <code>function</code>, are indented with respect to the <code>function</code>
keyword:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">map
  (function
   | Abs (x, body) -&gt; 1 + size_lambda 0 body
   | App (lam1, lam2) -&gt; size_lambda (size_lambda 0 lam1) lam2
   | Var v -&gt; 1)
  lambda_list
</code></pre>
<h4 id="pattern-matching-in-named-functions">Pattern matching in named functions</h4>
<p>Pattern-matching in functions defined by <code>let</code> or <code>let rec</code> gives rise
to several reasonable styles which obey the preceding rules for pattern
matching (the one for anonymous functions being evidently excepted). See
above for recommended styles.</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let rec size_lambda accu = function
  | Abs (x, body) -&gt; size_lambda (succ accu) body
  | App (lam1, lam2) -&gt; size_lambda (size_lambda accu lam1) lam2
  | Var v -&gt; succ accu

let rec size_lambda accu = function
| Abs (x, body) -&gt; size_lambda (succ accu) body
| App (lam1, lam2) -&gt; size_lambda (size_lambda accu lam1) lam2
| Var v -&gt; succ accu
</code></pre>
<h3 id="bad-indentation-of-pattern-matching-constructs">Bad indentation of pattern-matching constructs</h3>
<h4 id="no-beastly-indentation-of-functions-and-case-analyses">No <em>beastly</em> indentation of functions and case analyses.</h4>
<p>This consists in indenting normally under the keyword <code>match</code> or
<code>function</code> which has previously been pushed to the right. Don't write:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let rec f x = function
              | [] -&gt; ...
              ...
</code></pre>
<p>but choose to indent the line under the <code>let</code> keyword:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let rec f x = function
  | [] -&gt; ...
  ...
</code></pre>
<blockquote>
<p><strong>Justification</strong>: You bump into the margin. The aesthetic value is
doubtful...</p>
</blockquote>
<h4 id="no-beastly-alignment-of-the---symbols-in-pattern-matching-clauses">No <em>beastly</em> alignment of the <code>-&gt;</code> symbols in pattern-matching clauses.</h4>
<p>Careful alignment of the arrows of a pattern matching is considered bad
practice, as exemplify in the following fragment:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let f = function
  | C1          -&gt; 1
  | Long_name _ -&gt; 2
  | _           -&gt; 3
</code></pre>
<blockquote>
<p><strong>Justification</strong>: This makes it harder to maintain the program (the
addition of a supplementary case can lead the indentations of all the
lines to change and so ... we often give up alignment at that time,
then it is better not to align the arrows in the first place!).</p>
</blockquote>
<h3 id="how-to-indent-function-calls">How to indent function calls</h3>
<h4 id="indentation-to-the-functions-name">Indentation to the function's name:</h4>
<p>No problem arises except for functions with many arguments—or very
complicated arguments as well—which can't fit on the same line. You
must indent the expressions with respect to the name of the function (1
or 2 spaces according to the chosen convention). Write small arguments
on the same line, and change lines at the start of an argument.</p>
<p>As far as possible, avoid arguments which consist of complex
expressions: in these cases define the “large” argument by a <code>let</code>
construction.</p>
<blockquote>
<p><strong>Justification</strong>: No indentation problem; if the name given to the
expressions is meaningful, the code is more readable as well.</p>
<p><strong>Additional justification</strong>: If the evaluation of the arguments
produces side effects, the <code>let</code> binding is in fact necessary to
explicitly define the order of evaluation.</p>
</blockquote>
<h4 id="naming-complex-arguments">Naming complex arguments:</h4>
<p>In place of</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let temp =
  f x y z
    “large
    expression”
    “other large
    expression” in
...
</code></pre>
<p>write</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let t =
  “large
  expression”
and u =
  “other large
  expression” in
let temp =
  f x y z t u in
...
</code></pre>
<h4 id="naming-anonymous-functions">Naming anonymous functions:</h4>
<p>In the case of an iterator whose argument is a complex function, define
the function by a <code>let</code> binding as well. In place of</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">List.map
  (function x -&gt;
    blabla
    blabla
    blabla)
  l
</code></pre>
<p>write</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let f x =
  blabla
  blabla
  blabla in
List.map f l
</code></pre>
<blockquote>
<p><strong>Justification</strong>: Much clearer, in particular if the name given to
the function is meaningful.</p>
</blockquote>
<h3 id="how-to-indent-operations">How to indent operations</h3>
<p>When an operator takes complex arguments, or in the presence of multiple
calls to the same operator, start the next the line with the operator,
and don't indent the rest of the operation. For example:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">x + y + z
+ t + u
</code></pre>
<blockquote>
<p><strong>Justification</strong>: When the operator starts the line, it is clear that
the operation continues on this line.</p>
</blockquote>
<p>In the case of a “large expression” in such an operation sequence,
to define the “large expression” with the help of a <code>let in</code>
construction is preferable to having to indent the line. In place of</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">x + y + z
+ “large
  expression”
</code></pre>
<p>write</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let t =
  “large
   expression” in
x + y + z + t
</code></pre>
<p>You most certainly must bind those expressions too large to be written
in one operation in the case of a combination of operators. In place of
the unreadable expression</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">(x + y + z * t)
/ (“large
    expression”)
</code></pre>
<p>write</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let u =
  “large
  expression” in
(x + y + z * t) / u
</code></pre>
<p>These guidelines extend to all operators. For example:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let u =
  “large
  expression” in
x :: y
:: z + 1 :: t :: u
</code></pre>
<h2 id="programming-guidelines">Programming guidelines</h2>
<h3 id="how-to-program">How to program</h3>
<blockquote>
<p><em>Always put your handiwork back on the bench,<br />
and then polish it and re-polish it.</em></p>
</blockquote>
<h4 id="write-simple-and-clear-programs">Write simple and clear programs</h4>
<p>When this is done, reread, simplify and clarify. At every stage of
creation, use your head!</p>
<h4 id="subdivide-your-programs-into-little-functions">Subdivide your programs into little functions</h4>
<p>Small functions are easier to master.</p>
<h4 id="factor-out-snippets-of-repeated-code-by-defining-them-in-separate-functions">Factor out snippets of repeated code by defining them in separate functions</h4>
<p>The sharing of code obtained in this way facilitates maintenance since
every correction or improvement automatically spreads throughout the
program. Besides, the simple act of isolating and naming a snippet of
code sometimes lets you identify an unsuspected feature.</p>
<h4 id="never-copy-paste-code-when-programming">Never copy-paste code when programming</h4>
<p>Pasting code almost surely indicates introducing a default of code
sharing and neglecting to identify and write a useful auxiliary
function; hence, it means that some code sharing is lost in the program.
Losing code sharing implies that you will have more problems afterwards
for maintenance: a bug in the pasted code has to be corrected at each
occurrence of the bug in each copy of the code!</p>
<p>Moreover, it is difficult to identify that the same set of 10 lines of
code is repeated 20 times throughout the program. By contrast, if an
auxiliary function defines those 10 lines, it is fairly easy to see and
find where those lines are used: that's simply where the function is
called. If code is copy-pasted all over the place then the program is
more difficult to understand.</p>
<p>In conclusion, copy-pasting code leads to programs that are more
difficult to read and more difficult to maintain: it has to be banished.</p>
<h3 id="how-to-comment-programs">How to comment programs</h3>
<h4 id="dont-hesitate-to-comment-when-theres-a-difficulty">Don't hesitate to comment when there's a difficulty</h4>
<h4 id="if-theres-no-difficulty-theres-no-point-in-commenting">If there's no difficulty, there's no point in commenting</h4>
<h4 id="avoid-comments-in-the-bodies-of-functions">Avoid comments in the bodies of functions</h4>
<h4 id="prefer-one-comment-at-the-beginning-of-the-function">Prefer one comment at the beginning of the function...</h4>
<p>...which explains how the algorithm that is used works. Once more, if
there is no difficulty, there is no point in commenting.</p>
<h4 id="avoid-nocuous-comments">Avoid nocuous comments</h4>
<p>A <em>nocuous</em> comment is a comment that does not add any value, i.e. no
non-trivial information. The nocuous comment is evidently not of
interest; it is a nuisance since it uselessly distracts the reader. It
is often used to fulfill some strange criteria related to the so-called
<em>software metrology</em>, for instance the ratio <em>number of comments</em> /
<em>number of lines of code</em> that perfectly measures a ratio that I don't
know the theoretical or practical interpretation. Absolutely avoid
nocuous comments.</p>
<p>An example of what to avoid: the following comment uses technical words
and is thus masquerade into a real comment when it has no additional
information of interest;</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">(*
  Function print_lambda:
  print a lambda-expression given as argument.

  Arguments: lam, any lambda-expression.
  Returns: nothing.

  Remark: print_lambda can only be used for its side effect.
*)
let rec print_lambda lam =
  match lam with
  | Var s -&gt; printf &quot;%s&quot; s
  | Abs l -&gt; printf &quot;\\ %a&quot; print_lambda l
  | App (l1, l2) -&gt;
     printf &quot;(%a %a)&quot; print_lambda l1 print_lambda l2
</code></pre>
<h4 id="usage-in-module-interface">Usage in module interface</h4>
<p>The function's usage must appear in the interface of the module which
exports it, not in the program which implements it. Choose comments as
in the OCaml system's interface modules, which will subsequently allow
the documentation of the interface module to be extracted automatically
if need be.</p>
<h4 id="use-assertions">Use assertions</h4>
<p>Use assertions as much as possible: they let you avoid verbose comments,
while allowing a useful verification upon execution.</p>
<p>For example, the conditions for the arguments of a function to be valid
are usefully verified by assertions.</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let f x =
  assert (x &gt;= 0);
  ...
</code></pre>
<p>Note as well that an assertion is often preferable to a comment because
it's more trustworthy: an assertion is forced to be pertinent because it
is verified upon each execution, while a comment can quickly become
obsolete and then becomes actually detrimental to the comprehension of
the program.</p>
<h4 id="comments-line-by-line-in-imperative-code">Comments line by line in imperative code</h4>
<p>When writing difficult code, and particularly in case of highly
imperative code with a lot of memory modifications (physical mutations
in data structures), it is sometime mandatory to comment inside the body
of functions to explain the implementation of the algorithm encoded
here, or to follow successive modifications of invariants that the
function must maintain. Once more, if there is some difficulty
commenting is mandatory, for each program line if necessary.</p>
<h3 id="how-to-choose-identifiers">How to choose identifiers</h3>
<p>It's hard to choose identifiers whose name evokes the meaning of the
corresponding portion of the program. This is why you must devote
particular care to this, emphasizing clarity and regularity of
nomenclature.</p>
<h4 id="dont-use-abbreviations-for-global-names">Don't use abbreviations for global names</h4>
<p>Global identifiers (including especially the names of functions) can be
long, because it's important to understand what purpose they serve far
from their definition.</p>
<h4 id="separate-words-by-underscores-intofstring-not-intofstring">Separate words by underscores: (<code>int_of_string</code>, not <code>intOfString</code>)</h4>
<p>Case modifications are meaningful in OCaml: in effect capitalized words
are reserved for constructors and module names in OCaml; in contrast
regular variables (functions or identifiers) must start by a lowercase
letter. Those rules prevent proper usage of case modification for words
separation in identifiers: the first word starts the identifier, hence
it must be lower case and it is forbidden to choose <code>IntOfString</code> as the
name of a function.</p>
<h4 id="always-give-the-same-name-to-function-arguments-which-have-the-same-meaning">Always give the same name to function arguments which have the same meaning</h4>
<p>If necessary, make this nomenclature explicit in a comment at the top of
the file); if there are several arguments with the same meaning then
attach numeral suffixes to them.</p>
<h4 id="local-identifiers-can-be-brief-and-should-be-reused-from-one-function-to-another">Local identifiers can be brief, and should be reused from one function to another</h4>
<p>This augments regularity of style. Avoid using identifiers whose
appearance can lead to confusion such as <code>l</code> or <code>O</code>, easy to confuse
with <code>1</code> and <code>0</code>.</p>
<p>Example:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let add_expression expr1 expr2 = ...
let print_expression expr = ...
</code></pre>
<p>An exception to the recommendation not to use capitalization to separate
words within identifiers is tolerated in the case of interfacing with
existing libraries which use this naming convention: this lets OCaml
users of the library to orient themselves in the original library
documentation more easily.</p>
<h3 id="when-to-use-parentheses-within-an-expression">When to use parentheses within an expression</h3>
<p>Parentheses are meaningful: they indicate the necessity of using an
unusual precedence. So they should be used wisely and not sprinkled
randomly throughout programs. To this end, you should know the usual
precedences, that is, the combinations of operations which do not
require parentheses. Quite fortunately this is not complicated if you
know a little mathematics or strive to follow the following rules:</p>
<h4 id="arithmetic-operators-the-same-rules-as-in-mathematics">Arithmetic operators: the same rules as in mathematics</h4>
<p>For example: <code>1 + 2 * x</code> means <code>1 + (2 * x)</code>.</p>
<h4 id="function-application-the-same-rules-as-those-in-mathematics-for-usage-of-trigonometric-functions">Function application: the same rules as those in mathematics for usage of <em>trigonometric functions</em></h4>
<p>In mathematics you write <code>sin x</code> to mean <code>sin (x)</code>. In the same way
<code>sin x + cos x</code> means <code>(sin x) + (cos x)</code> not <code>sin (x + (cos x))</code>. Use
the same conventions in OCaml: write <code>f x + g x</code> to mean
<code>(f x) + (g x)</code>.<br />
This convention generalizes <strong>to all (infix) operators</strong>: <code>f x :: g x</code>
means <code>(f x) :: (g x)</code>, <code>f x @ g x</code> means <code>(f x) @ (g x)</code>, and
<code>failwith s ^ s'</code> means <code>(failwith s) ^ s'</code>, <em>not</em> <code>failwith (s ^ s')</code>.</p>
<h4 id="comparisons-and-boolean-operators">Comparisons and boolean operators</h4>
<p>Comparisons are infix operators, so the preceding rules apply. This is
why <code>f x &lt; g x</code> means <code>(f x) &lt; (g x)</code>. For type reasons (no other
sensible interpretation) the expression <code>f x &lt; x + 2</code> means
<code>(f x) &lt; (x + 2)</code>. In the same way <code>f x &lt; x + 2 &amp;&amp; x &gt; 3</code> means
<code>((f x) &lt; (x + 2)) &amp;&amp; (x &gt; 3)</code>.</p>
<h4 id="the-relative-precedences-of-the-boolean-operators-are-those-of-mathematics">The relative precedences of the boolean operators are those of mathematics</h4>
<p>Although mathematicians have a tendency to overuse parens in this case,
the boolean “or” operator is analogous to addition and the “and”
to multiplication. So, just as <code>1 + 2 * x</code> means <code>1 + (2 * x)</code>,
<code>true || false &amp;&amp; x</code> means <code>true || (false &amp;&amp; x)</code>.</p>
<h3 id="how-to-delimit-constructs-in-programs">How to delimit constructs in programs</h3>
<p>When it is necessary to delimit syntactic constructs in programs, use as
delimiters the keywords <code>begin</code> and <code>end</code> rather than parentheses.
However using parentheses is acceptable if you do it in a consistent,
that is, systematic, way.</p>
<p>This explicit delimiting of constructs essentially concerns
pattern-matching constructs or sequences embedded within
<code>if then     else</code> constructs.</p>
<h4 id="match-construct-in-a-match-construct"><code>match</code> construct in a <code>match</code> construct</h4>
<p>When a <code>match ... with</code> or <code>try ... with</code> construct appears in a
pattern-matching clause, it is absolutely necessary to delimit this
embedded construct (otherwise subsequent clauses of the enclosing
pattern-matching construct will automatically be associated with the
enclosed pattern-matching construct). For example:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">match x with
| 1 -&gt;
  begin match y with
  | ...
  end
| 2 -&gt;
...
</code></pre>
<h4 id="sequences-inside-branches-of-if">Sequences inside branches of <code>if</code></h4>
<p>In the same way, a sequence which appears in the <code>then</code> or <code>else</code> part
of a conditional must be delimited:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">if cond then begin
  e1;
  e2
end else begin
  e3;
  e4
end
</code></pre>
<h3 id="how-to-use-modules">How to use modules</h3>
<h4 id="subdividing-into-modules">Subdividing into modules</h4>
<p>You must subdivide your programs into coherent modules.</p>
<p>For each module, you must explicitly write an interface.</p>
<p>For each interface, you must document the things defined by the module:
functions, types, exceptions, etc.</p>
<h4 id="opening-modules">Opening modules</h4>
<p>Avoid <code>open</code> directives, using instead the qualified identifier
notation. Thus you will prefer short but meaningful module names.</p>
<blockquote>
<p><strong>Justification</strong>: The use of unqualified identifiers is ambiguous and
gives rise to difficult-to-detect semantic errors.</p>
</blockquote>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let lim = String.length name - 1 in
...
let lim = Array.length v - 1 in
...
... List.map succ ...
... Array.map succ ...
</code></pre>
<h4 id="when-to-use-open-modules-rather-than-leaving-them-closed">When to use open modules rather than leaving them closed</h4>
<p>You can consider it normal to open a module which modifies the
environment, and brings other versions of an important set of functions.
For example, the <code>Format</code> module provides automatically indented
printing. This module redefines the usual printing functions
<code>print_string</code>, <code>print_int</code>, <code>print_float</code>, etc. So when you use
<code>Format</code>, open it systematically at the top of the file.<br />
If you don't open <code>Format</code> you could miss the qualification of a
printing function, and this could be perfectly silent, since many of
<code>Format</code>'s functions have a counterpart in the default environment
(<code>Pervasives</code>). Mixing printing functions from <code>Format</code> and <code>Pervasives</code>
leads to subtle bugs in the display, that are difficult to trace. For
instance:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let f () =
  Format.print_string &quot;Hello World!&quot;; print_newline ()
</code></pre>
<p>is bogus since it does not call <code>Format.print_newline</code> to flush the
pretty-printer queue and output <code>&quot;Hello World!&quot;</code>. Instead
<code>&quot;Hello World!&quot;</code> is stuck into the pretty-printer queue, while
<code>Pervasives.print_newline</code> outputs a carriage return on the standard
output ... If <code>Format</code> is printing on a file and standard output is the
terminal, the user will have a bad time finding that a carriage return
is missing in the file (and the display of material on the file is
strange, since boxes that should be closed by <code>Format.print_newline</code> are
still open), while a spurious carriage return appeared on the screen!</p>
<p>For the same reason, open large libraries such as the one with
arbitrary-precision integers so as not to burden the program which uses
them.</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">open Num

let rec fib n =
  if n &lt;= 2 then Int 1 else fib (n - 1) +/ fib (n - 2)
</code></pre>
<blockquote>
<p><strong>Justification</strong>: The program would be less readable if you had to
qualify all the identifiers.</p>
</blockquote>
<p>In a program where type definitions are shared, it is good to gather
these definitions into one or more module(s) without implementations
(containing only types). Then it's acceptable to systematically open the
module which exports the shared type definitions.</p>
<h3 id="pattern-matching">Pattern-matching</h3>
<h4 id="never-be-afraid-of-over-using-pattern-matching">Never be afraid of over-using pattern-matching!</h4>
<h4 id="on-the-other-hand-be-careful-to-avoid-non-exhaustive-pattern-matching-constructs">On the other hand, be careful to avoid non-exhaustive pattern-matching constructs</h4>
<p>Complete them with care, without using a “catch-all” clause such as
<code>| _ -&gt; ...</code> or <code>| x -&gt; ...</code> when it's possible to do without it (for
example when matching a concrete type defined within the program). See
also the next section: compiler warnings.</p>
<h3 id="compiler-warnings">Compiler warnings</h3>
<p>Compiler warnings are meant to prevent potential errors; this is why you
absolutely must heed them and correct your programs if compiling them
produces such warnings. Besides, programs whose compilation produces
warnings have an odor of amateurism which certainly doesn't suit your
own work!</p>
<h4 id="pattern-matching-warnings">Pattern-matching warnings</h4>
<p>Warnings about pattern-matching must be treated with the upmost care:</p>
<ul>
<li>
<p>Those concerning useless clauses should of course be eliminated.</p>
</li>
<li>
<p>For non-exhaustive pattern-matching you must complete the
corresponding pattern-matching construct, without adding a default
case “catch-all”, such as <code>| _ -&gt; ... </code>, but with an explicit
list of the constructors not examined by the rest of the construct,
for example <code>| Cn _ | Cn1 _ -&gt; ... </code>.</p>
</li>
</ul>
<blockquote>
<p><strong>Justification</strong>: It's not really any more complicated to write
it this way, and this allows the program to evolve more safely. In
effect the addition of a new constructor to the datatype being
matched will produce an alert anew, which will allow the
programmer to add a clause corresponding to the new constructor if
that is warranted. On the contrary, the “catch-all” clause
will make the function compile silently and it might be thought
that the function is correct as the new constructor will be
handled by the default case.</p>
</blockquote>
<ul>
<li>Non-exhaustive pattern-matches induced by clauses with guards must
also be corrected. A typical case consists in suppressing a
redundant guard.
</li>
</ul>
<h4 id="de-structuring-let-bindings">De-structuring <code>let</code> bindings</h4>
<p>[Translator's note: a “de-structuring <code>let</code> binding” is one which
binds several names to several expressions simultaneously. You pack all
the names you want bound into a collection such as a tuple or a list,
and you correspondingly pack all the expressions into a collective
expression. When the <code>let</code> binding is evaluated, it unpacks the
collections on both sides and binds each expression to its corresponding
name. For example, <code>let x, y = 1, 2</code> is a de-structuring <code>let</code> binding
which performs both the bindings <code>let x = 1</code> and <code>let y = 2</code>
simultaneously.]<br />
The <code>let</code> binding is not limited to simple identifier definitions: you
can use it with more complex or simpler patterns. For instance</p>
<ul>
<li><code>let</code> with complex patterns:<br />
<code>let [x; y] as l = ...</code><br />
simultaneously defines a list <code>l</code> and its two elements <code>x</code> and <code>y</code>.
</li>
<li><code>let</code> with simple pattern:<br />
<code>let _ = ...</code> does not define anything, it just evaluate the
expression on the right hand side of the <code>=</code> symbol.
</li>
</ul>
<h4 id="the-de-structuring-let-must-be-exhaustive">The de-structuring <code>let</code> must be exhaustive</h4>
<p>Only use de-structuring <code>let</code> bindings in the case where the
pattern-matching is exhaustive (the pattern can never fail to match).
Typically, you will thus be limited to definitions of product types
(tuples or records) or definitions of variant type with a single case.
In any other case, you should use an explicit <code>match   ... with</code>
construct.</p>
<ul>
<li><code>let ... in</code>: de-structuring <code>let</code> that give a warning must be
replaced by an explicit pattern matching. For instance, instead of
<code>let [x; y] as l = List.map succ     (l1 @ l2) in expression</code> write:
</li>
</ul>
<!-- $MDX skip -->
<pre><code class="language-ocaml">match List.map succ (l1 @ l2) with
| [x; y] as l -&gt; expression
| _ -&gt; assert false
</code></pre>
<ul>
<li>Global definition with de-structuring lets should be rewritten with
explicit pattern matching and tuples:
</li>
</ul>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let x, y, l =
  match List.map succ (l1 @ l2) with
  | [x; y] as l -&gt; x, y, l
  | _ -&gt; assert false
</code></pre>
<blockquote>
<p><strong>Justification</strong>: There is no way to make the pattern-matching
exhaustive if you use general de-structuring <code>let</code> bindings.</p>
</blockquote>
<h4 id="sequence-warnings-and-let---">Sequence warnings and <code>let _ = ...</code></h4>
<p>When the compiler emits a warning about the type of an expression in a
sequence, you have to explicitly indicate that you want to ignore the
result of this expression. To this end:</p>
<ul>
<li>use a vacuous binding and suppress the sequence warning of
</li>
</ul>
<!-- $MDX skip -->
<pre><code class="language-ocaml">List.map f l;
print_newline ()
</code></pre>
<p>write</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let _ = List.map f l in
print_newline ()
</code></pre>
<ul>
<li>you can also use the predefined function <code>ignore : 'a     -&gt; unit</code>
that ignores its argument to return <code>unit</code>.
</li>
</ul>
<!-- $MDX skip -->
<pre><code class="language-ocaml">ignore (List.map f l);
print_newline ()
</code></pre>
<ul>
<li>In any case, the best way to suppress this warning is to understand
why it is emitted by the compiler: the compiler warns you because
your code computes a result that is useless since this result is
just deleted after computation. Hence, if useful at all, this
computation is performed only for its side-effects; hence it should
return unit.<br />
Most of the time, the warning indicates the use of the wrong
function, a probable confusion between the side-effect only version
of a function (which is a procedure whose result is irrelevant) with
its functional counterpart (whose result is meaningful).<br />
In the example mentioned above, the first situation prevailed, and
the programmer should have called <code>iter</code> instead of <code>map</code>, and
simply write
</li>
</ul>
<!-- $MDX skip -->
<pre><code class="language-ocaml">List.iter f l;
print_newline ()
</code></pre>
<p>In actual programs, the suitable (side-effect only) function may not
exist and has to be written: very often, a careful separation of the
procedural part from the functional part of the function at hand
elegantly solves the problem, and the resulting program just looks
better afterwards! For instance, you would turn the problematic
definition:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let add x y =
  if x &gt; 1 then print_int x;
  print_newline ();
  x + y;;
</code></pre>
<p>into the clearer separate definitions and change old calls to <code>add</code>
accordingly.</p>
<p>In any case, use the <code>let _ = ...</code> construction exactly in those cases
where you want to ignore a result. Don't systematically replace
sequences with this construction.</p>
<blockquote>
<p><strong>Justification</strong>: Sequences are much clearer! Compare <code>e1; e2; e3</code> to</p>
<pre><code class="language-ocaml">let _ = e1 in
let _ = e2 in
e3
</code></pre>
</blockquote>
<h3 id="the-hd-and-tl-functions">The <code>hd</code> and <code>tl</code> functions</h3>
<p>Don't use the <code>hd</code> and <code>tl</code> functions, but pattern-match the list
argument explicitly.</p>
<blockquote>
<p><strong>Justification</strong>: This is just as brief as and much clearer than
using <code>hd</code> and <code>tl</code> which must of necessity be protected by
<code>try... with...</code> to catch the exception which might be raised by these
functions.</p>
</blockquote>
<h3 id="loops">Loops</h3>
<h4 id="for-loops"><code>for</code> loops</h4>
<p>To simply traverse an array or a string, use a <code>for</code> loop.</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">for i = 0 to Array.length v - 1 do
  ...
done
</code></pre>
<p>If the loop is complex or returns a result, use a recursive function.</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let find_index e v =
  let rec loop i =
    if i &gt;= Array.length v then raise Not_found else
    if v.(i) = e then i else loop (i + 1) in
  loop 0;;
</code></pre>
<blockquote>
<p><strong>Justification</strong>: The recursive function lets you code any loop
whatsoever simply, even a complex one, for example with multiple exit
points or with strange index steps (steps depending on a data value
for example).</p>
<p>Besides, the recursive loop avoids the use of mutables whose value can
be modified in any part of the body of the loop whatsoever (or even
outside): on the contrary the recursive loop explicitly takes as
arguments the values susceptible to change during the recursive calls.</p>
</blockquote>
<h4 id="while-loops"><code>while</code> loops</h4>
<blockquote>
<p><strong>While loops law</strong>: Beware: usually a while loop is wrong, unless its
loop invariant has been explicitly written.</p>
</blockquote>
<p>The main use of the <code>while</code> loop is the infinite loop
<code>while true do     ...</code>. You get out of it through an exception,
generally on termination of the program.</p>
<p>Other <code>while</code> loops are hard to use, unless they come from canned
programs from algorithms courses where they were proved.</p>
<blockquote>
<p><strong>Justification</strong>: <code>while</code> loops require one or more mutables in order
that the loop condition change value and the loop finally terminate.
To prove their correctness, you must therefore discover the loop
invariants, an interesting but difficult sport.</p>
</blockquote>
<h3 id="exceptions">Exceptions</h3>
<p>Don't be afraid to define your own exceptions in your programs, but on
the other hand use as much as possible the exceptions predefined by the
system. For example, every search function which fails should raise the
predefined exception <code>Not_found</code>. Be careful to handle the exceptions
which may be raised by a function call with the help of a
<code>try ... with</code>.</p>
<p>Handling all exceptions by <code>try     ... with _ -&gt;</code> is usually reserved
for the main function of the program. If you need to catch all
exceptions to maintain an invariant of an algorithm, be careful to name
the exception and re-raise it, after having reset the invariant.
Typically:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let ic = open_in ...
and oc = open_out ... in
try
  treatment ic oc;
  close_in ic; close_out oc
with x -&gt; close_in ic; close_out oc; raise x
</code></pre>
<blockquote>
<p><strong>Justification</strong>: <code>try ... with _     -&gt;</code> silently catches all
exceptions, even those which have nothing to do with the computation
at hand (for example an interruption will be captured and the
computation will continue anyway!).</p>
</blockquote>
<h3 id="data-structures">Data structures</h3>
<p>One of the great strengths of OCaml is the power of the data structures
which can be defined and the simplicity of manipulating them. So you
must take advantage of this to the fullest extent; don't hesitate to
define your own data structures. In particular, don't systematically
represent enumerations by whole numbers, nor enumerations with two cases
by booleans. Examples:</p>
<pre><code class="language-ocaml">type figure =
   | Triangle | Square | Circle | Parallelogram
type convexity =
   | Convex | Concave | Other
type type_of_definition =
   | Recursive | Non_recursive
</code></pre>
<blockquote>
<p><strong>Justification</strong>: A boolean value often prevents intuitive
understanding of the corresponding code. For example, if
<code>type_of_definition</code> is coded by a boolean, what does <code>true</code> signify?
A “normal” definition (that is, non-recursive) or a recursive
definition?</p>
<p>In the case of an enumerated type encode by an integer, it is very
difficult to limit the range of acceptable integers: one must define
construction functions that will ensure the mandatory invariants of
the program (and verify afterwards that no values has been built
directly), or add assertions in the program and guards in pattern
matchings. This is not good practice, when the definition of a sum
type elegantly solves this problem, with the additional benefit of
firing the full power of pattern matching and compiler's verifications
of exhaustiveness.</p>
<p><strong>Criticism</strong>: For binary enumerations, one can systematically define
predicates whose names carry the semantics of the boolean that
implements the type. For instance, we can adopt the convention that a
predicate ends by the letter <code>p</code>. Then, in place of defining a new sum
type for <code>type_of_definition</code>, we will use a predicate function
<code>recursivep</code> that returns true if the definition is recursive.</p>
<p><strong>Answer</strong>: This method is specific to binary enumeration and cannot
be easily extended; moreover it is not well suited to pattern
matching. For instance, for definitions encoded by
<code>| Let of bool * string * expression</code> a typical pattern matching would
look like:</p>
<pre><code class="language-ocaml">| Let (_, v, e) as def -&gt;
   if recursivep def then code_for_recursive_case
   else code_for_non_recursive_case
</code></pre>
<p>or, if <code>recursivep</code> can be applied to booleans:</p>
<pre><code class="language-ocaml">| Let (b, v, e) -&gt;
   if recursivep b then code_for_recursive_case
   else code_for_non_recursive_case
</code></pre>
<p>contrast with an explicit encoding:</p>
<pre><code class="language-ocaml">| Let (Recursive, v, e) -&gt; code_for_recursive_case
| Let (Non_recursive, v, e) -&gt; code_for_non_recursive_case
</code></pre>
<p>The difference between the two programs is subtle and you may think
that this is just a matter of taste; however the explicit encoding is
definitively more robust to modifications and fits better with the
language.</p>
</blockquote>
<p><em>A contrario</em>, it is not necessary to systematically define new types
for boolean flags, when the interpretation of constructors <code>true</code> and
<code>false</code> is clear. The usefulness of the definition of the following
types is then questionable:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">type switch = On | Off
type bit = One | Zero
</code></pre>
<p>The same objection is admissible for enumerated types represented as
integers, when those integers have an evident interpretation with
respect to the data to be represented.</p>
<h3 id="when-to-use-mutables">When to use mutables</h3>
<p>Mutable values are useful and sometimes indispensable to simple and
clear programming. Nevertheless, you must use them with discernment:
OCaml's normal data structures are immutable. They are to be preferred
for the clarity and safety of programming which they allow.</p>
<h3 id="iterators">Iterators</h3>
<p>OCaml's iterators are a powerful and useful feature. However you should
not overuse them, nor <em>a contrario</em> neglect them: they are provided to
you by libraries and have every chance of being correct and
well-thought-out by the author of the library. So it's useless to
reinvent them.</p>
<p>So write</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let square_elements elements = List.map square elements
</code></pre>
<p>rather than:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let rec square_elements = function
  | [] -&gt; []
  | elem :: elements -&gt; square elem :: square_elements elements
</code></pre>
<p>On the other hand avoid writing:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let iterator f x l =
  List.fold_right (List.fold_left f) [List.map x l] l
</code></pre>
<p>even though you get:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">  let iterator f x l =
    List.fold_right (List.fold_left f) [List.map x l] l;;
  iterator (fun l x -&gt; x :: l) (fun l -&gt; List.rev l) [[1; 2; 3]]
</code></pre>
<p>In case of express need, you must be careful to add an explanatory
comment: in my opinion it's absolutely necessary!</p>
<h3 id="how-to-optimize-programs">How to optimize programs</h3>
<blockquote>
<p><strong>Pseudo law of optimization</strong>: No optimization <em>a priori</em>.<br />
No optimization <em>a posteriori</em> either.</p>
</blockquote>
<p>Above all program simply and clearly. Don't start optimizing until the
program bottleneck has been identified (in general a few routines). Then
optimization consists above all of changing <em>the complexity</em> of the
algorithm used. This often happens through redefining the data
structures being manipulated and completely rewriting the part of the
program which poses a problem.</p>
<blockquote>
<p><strong>Justification</strong>: Clarity and correctness of programs take
precedence. Besides, in a substantial program, it is practically
impossible to identify <em>a priori</em> the parts of the program whose
efficiency is of prime importance.</p>
</blockquote>
<h3 id="how-to-choose-between-classes-and-modules">How to choose between classes and modules</h3>
<p>You should use OCaml classes when you need inheritance, that is,
incremental refinement of data and their functionality.</p>
<p>You should use conventional data structures (in particular, variant
types) when you need pattern-matching.</p>
<p>You should use modules when the data structures are fixed and their
functionality is equally fixed or it's enough to add new functions in
the programs which use them.</p>
<h3 id="clarity-of-ocaml-code">Clarity of OCaml code</h3>
<p>The OCaml language includes powerful constructs which allow simple and
clear programming. The main problem to obtain crystal clear programs it
to use them appropriately.</p>
<p>The language features numerous programming styles (or programming
paradigms): imperative programming (based on the notion of state and
assignment), functional programming (based on the notion of function,
function results, and calculus), object oriented programming (based of
the notion of objects encapsulating a state and some procedures or
methods that can modify the state). The first work of the programmer is
to choose the programming paradigm that fits the best the problem at
hand. When using one of those programming paradigms, the difficulty is
to use the language construct that expresses in the most natural and
easiest way the computation that implements the algorithm.</p>
<h4 id="style-dangers">Style dangers</h4>
<p>Concerning programming styles, one can usually observe the two
symmetrical problematic behaviors: on the one hand, the “all
imperative” way (<em>systematic</em> usage of loops and assignment), and on
the other hand the “purely functional” way (<em>never</em> use loops nor
assignments); the “100% object” style will certainly appear in the
next future, but (fortunately) it is too new to be discussed here.</p>
<ul>
<li><strong>The “Too much imperative” danger</strong>:
<ul>
<li>It is a bad idea to use imperative style to code a function that
is <em>naturally</em> recursive. For instance, to compute the length of
a list, you should not write:
</li>
</ul>
</li>
</ul>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let list_length l =
  let l = ref l in
  let res = ref 0 in
  while !l &lt;&gt; [] do
    incr res; l := List.tl !l
  done;
  !res;;
</code></pre>
<p>in place of the following recursive function, so simple and
clear:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let rec list_length = function
  | [] -&gt; 0
  | _ :: l -&gt; 1 + list_length l
</code></pre>
<p>(For those that would contest the equivalence of those two
versions, see the <a href="#Imperativeandfunctionalversionsoflistlength">note below</a>).</p>
<ul>
<li>
<p>Another common “over imperative error” in the imperative world is
not to systematically choose the simple <code>for</code> loop to iter on the
element of a vector, but instead to use a complex <code>while</code> loop, with
one or two references (too many useless assignments, too many
opportunity for errors).</p>
</li>
<li>
<p>This category of programmer feels that the <code>mutable</code> keyword in
the record type definitions should be implicit.</p>
</li>
<li>
<p><strong>The “Too much functional” danger</strong>:</p>
<ul>
<li>The programmer that adheres to this dogma avoids
using arrays and assignment. In the most severe case, one
observes a complete denial of writing any imperative
construction, even in case it is evidently the most elegant way
to solve the problem.
</li>
<li>Characteristic symptoms: systematic rewriting of <code>for</code> loops
with recursive functions, usage of lists in contexts where
imperative data structures seem to be mandatory to anyone,
passing numerous global parameters of the problem to every
functions, even if a global reference would be perfect to avoid
these spurious parameters that are mainly invariants that must
be passed all over the place.
</li>
<li>This programmer feels that the <code>mutable</code> keyword in the record
type definitions should be suppressed from the language.
</li>
</ul>
</li>
</ul>
<h4 id="ocaml-code-generally-considered-unreadable">OCaml code generally considered unreadable</h4>
<p>The OCaml language includes powerful constructs which allow simple and
clear programming. However the power of these constructs also lets you
write uselessly complicated code, to the point where you get a perfectly
unreadable program.</p>
<p>Here are a number of known ways:</p>
<ul>
<li>Use useless (hence novice for readability) <code>if then else</code>, as in
</li>
</ul>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let flush_ps () =
  if not !psused then psused := true
</code></pre>
<p>or (more subtle)</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let sync b =
  if !last_is_dvi &lt;&gt; b then last_is_dvi := b
</code></pre>
<ul>
<li>Code one construct with another. For example code a <code>let ... in</code> by
the application of an anonymous function to an argument. You would
write<br />
</li>
</ul>
<!-- $MDX skip -->
<pre><code class="language-ocaml">(fun x y -&gt; x + y)
   e1 e2
</code></pre>
<p>instead of simply writing</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let x = e1
and y = e2 in
x + y
</code></pre>
<ul>
<li>
<p>Systematically code sequences with <code>let in</code> bindings.</p>
</li>
<li>
<p>Mix computations and side effects, particularly in function calls.
Recall that the order of evaluation of arguments in a function call
is unspecified, which implies that you must not mix side effects and
computations in function calls. However, when there is only one
argument you might take advantage of this to perform a side effect
within the argument, which is extremely troublesome for the reader
albeit without danger to the program semantics. To be absolutely
forbidden.</p>
</li>
<li>
<p>Misuse of iterators and higher-order functions (i.e. over- or
under-use). For example it's better to use <code>List.map</code> or
<code>List.iter</code> than to write their equivalents in-line using specific
recursive functions of your own. Even worse, you don't use
<code>List.map</code> or <code>List.iter</code> but write their equivalents in terms of
<code>List.fold_right</code> and <code>List.fold_left</code>.</p>
</li>
<li>
<p>Another efficient way to write unreadable code is to mix all or some
of these methods. For example:</p>
</li>
</ul>
<!-- $MDX skip -->
<pre><code class="language-ocaml">(fun u -&gt; print_string &quot;world&quot;; print_string u)
  (let temp = print_string &quot;Hello&quot;; &quot;!&quot; in
   ((fun x -&gt; print_string x; flush stdout) &quot; &quot;;
    temp));;
</code></pre>
<p>If you naturally write the program <code>print_string &quot;Hello world!&quot;</code> in this
way, you can without a doubt submit your work to the <a href="mailto:Pierre.Weis@inria.fr">Obfuscated OCaml
Contest</a>.</p>
<h2 id="managing-program-development">Managing program development</h2>
<p>We give here tips from veteran OCaml programmers, which have served in
developing the compilers which are good examples of large complex
programs developed by small teams.</p>
<h3 id="how-to-edit-programs">How to edit programs</h3>
<p>Many developers nurture a kind of veneration towards the Emacs editor
(gnu-emacs in general) which they use to write their programs. The
editor interfaces well with the language since it is capable of syntax
coloring OCaml source code (rendering different categories of words in
color, coloring keywords for example).</p>
<p>The following two commands are considered indispensable:</p>
<ul>
<li><code>CTRL-C-CTRL-C</code> or <code>Meta-X compile</code>: launches re-compilation from
within the editor (using the <code>make</code> command).
</li>
<li><code>CTRL-X-`</code>: puts the cursor in the file and at the exact place
where the OCaml compiler has signaled an error.
</li>
</ul>
<p>Developers describe thus how to use these features: <code>CTRL-C-CTRL-C</code>
combination recompiles the whole application; in case of errors, a
succession of <code>CTRL-X-`</code> commands permits correction of all the
errors signaled; the cycle begins again with a new re-compilation
launched by <code>CTRL-C-CTRL-C</code>.</p>
<h4 id="other-emacs-tricks">Other emacs tricks</h4>
<p>The <code>ESC-/</code> command (dynamic-abbrev-expand) automatically completes the
word in front of the cursor with one of the words present in one of the
files being edited. Thus this lets you always choose meaningful
identifiers without the tedium of having to type extended names in your
programs: the <code>ESC-/</code> easily completes the identifier after typing the
first letters. In case it brings up the wrong completion, each
subsequent <code>ESC-/</code> proposes an alternate completion.</p>
<p>Under Unix, the <code>CTRL-C-CTRL-C</code> or <code>Meta-X     compile</code> combination,
followed by <code>CTRL-X-`</code> is also used to find all occurrences of a
certain string in a OCaml program. Instead of launching <code>make</code> to
recompile, you launch the <code>grep</code> command; then all the “error
messages” from <code>grep</code> are compatible with the <code>CTRL-X-`</code> usage
which automatically takes you to the file and the place where the string
is found.</p>
<h3 id="how-to-edit-with-the-interactive-system">How to edit with the interactive system</h3>
<p>Under Unix: use the line editor <code>ledit</code> which offers great editing
capabilities “à la emacs” (including <code>ESC-/</code>!), as well as a history
mechanism which lets you retrieve previously typed commands and even
retrieve commands from one session in another. <code>ledit</code> is written in
OCaml and can be freely down-loaded
<a href="ftp://ftp.inria.fr/INRIA/Projects/cristal/caml-light/bazar-ocaml/ledit.tar.gz">here</a>.</p>
<h3 id="how-to-compile">How to compile</h3>
<p>The <code>make</code> utility is indispensable for managing the compilation and
re-compilation of programs. Sample <code>make</code> files can be found on <a href="https://caml.inria.fr//cgi-bin/hump.en.cgi">The
Hump</a>. You can also consult
the <code>Makefiles</code> for the OCaml compilers.</p>
<h3 id="how-to-develop-as-a-team-version-control">How to develop as a team: version control</h3>
<p>Users of the <a href="https://git-scm.com/">Git</a> software version control system
never run out of good things to say about the productivity gains it
brings. This system supports managing development by a team of
programmers while imposing consistency among them, and also maintains a
log of changes made to the software.<br />
Git also supports simultaneous development by several teams, possibly
dispersed among several sites linked on the Net.</p>
<p>An anonymous Git read-only mirror <a href="https://github.com/ocaml/ocaml">contains the working sources of the
OCaml compilers</a>, and the sources of
other software related to OCaml.</p>
<h2 id="notes">Notes</h2>
<h3 id="imperative-and-functional-versions-of-listlength">Imperative and functional versions of <code>list_length</code></h3>
<p>The two versions of <code>list_length</code> are not completely equivalent in term
of complexity, since the imperative version uses a constant amount of
stack room to execute, whereas the functional version needs to store
return addresses of suspended recursive calls (whose maximum number is
equal to the length of the list argument). If you want to retrieve a
constant space requirement to run the functional program you just have
to write a function that is recursive in its tail (or <em>tail-rec</em>), that
is a function that just ends by a recursive call (which is not the case
here since a call to <code>+</code> has to be perform after the recursive call has
returned). Just use an accumulator for intermediate results, as in:</p>
<!-- $MDX skip -->
<pre><code class="language-ocaml">let list_length l =
  let rec loop accu = function
    | [] -&gt; accu
    | _ :: l -&gt; loop (accu + 1) l in
  loop 0 l
</code></pre>
<p>This way, you get a program that has the same computational properties
as the imperative program with the additional clarity and natural
look of an algorithm that performs pattern matching and recursive
calls to handle an argument that belongs to a recursive sum data type.</p>
</div></div></div></div></div></main><div class="relative"><footer aria-labelledby="footerHeading" class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8"><h2 class="sr-only" id="footerHeading">Footer</h2><div class="xl:grid xl:grid-cols-3 xl:gap-8"><div class="space-y-8 xl:col-span-1"><img class="h-10" alt="OCaml" src="/static/ocaml-logo.jpeg"/><p class="text-gray-500 text-base ">Innovation. Community. Security.</p><div class="flex space-x-6"><a aria-label="Discourse" class="text-gray-400 hover:text-gray-500" href="https://discuss.ocaml.org" target="_blank"><img aria-hidden="true" class="h-6 w-6" alt="" src="/static/discourselogo.png"/></a><a aria-label="GitHub" class="text-gray-400 hover:text-gray-500" href="https://sourcegraph.com/search?q=repo:ocaml/ocaml%24+or+repo:janestreet/base+or+repo:gitlab.com/tezos/tezos%24+or+repo:c-cube/ocaml-containers+or+repo:ocaml-batteries-team/batteries-included+or+repo:mirage/mirage%24+or+repo:ocsigen/lwt+or+repo:janestreet/async%24&amp;patternType=literal" target="_blank"><svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path clip-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" fill-rule="evenodd"></path></svg></a><a aria-label="Twitter" class="text-gray-400 hover:text-gray-500" href="https://fosstodon.org/tags/ocaml" target="_blank"><svg aria-hidden="true" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a></div></div><div class="grid grid-cols-2 gap-8 mt-12 xl:mt-0 xl:col-span-2"><div class="md:grid md:grid-cols-2 md:gap-8"><div class=""><h3 class="text-sm font-semibold text-gray-400 tracking-wider uppercase">Principles</h3><ul class="mt-4 space-y-4"><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/principles/whatisocaml/">Why OCaml</a></li><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/principles/users/">Industrial Users</a></li><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/principles/academic/">Academic Excellence</a></li><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/principles/successes/">Success Stories</a></li></ul></div><div class="mt-12 md:mt-0"><h3 class="text-sm font-semibold text-gray-400 tracking-wider uppercase">Resources</h3><ul class="mt-4 space-y-4"><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/resources/language/">Language</a></li><li><a class="text-base text-gray-500 hover:text-gray-900" href="/packages/">Packages</a></li><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/resources/applications/">Applications</a></li><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/resources/bestpractices/">Best Practices</a></li></ul></div></div><div class="md:grid md:grid-cols-2 md:gap-8"><div class=""><h3 class="text-sm font-semibold text-gray-400 tracking-wider uppercase">Community</h3><ul class="mt-4 space-y-4"><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/community/opportunities/">Opportunities</a></li><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/community/blog/">News</a></li><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/community/aroundweb/">Around the Web</a></li><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/resources/archive/">Archive</a></li></ul></div><div class="mt-12 md:mt-0"><h3 class="text-sm font-semibold text-gray-400 tracking-wider uppercase">Legal</h3><ul class="mt-4 space-y-4"><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/legal/privacy/">Privacy</a></li><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/legal/terms/">Terms</a></li><li><a class="text-base text-gray-500 hover:text-gray-900" href="/en/legal/carbonfootprint/">Carbon Footprint</a></li></ul></div></div></div></div><p class="text-gray-500 text-base mt-10">Thank you to our <a class="text-orangedark underline" href="/en/legal/carbonfootprint/#hostingproviders">Hosting Providers</a></p></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"content":{"source":"\u003cp\u003eThis is a set of reasonable guidelines for formatting OCaml\nprograms—guidelines which reflect the consensus among veteran OCaml\nprogrammers. Nevertheless, all detailed notifications of possible errors\nor omissions will be noted with pleasure. To send your comments using\n\u003ca href=\"https://github.com/ocaml/ocaml.org/issues?state=open\"\u003eGitHub issues\u003c/a\u003e.\n\u003cbr /\u003e\nOriginal translation from French: \u003ca href=\"mailto:datta@math.berkeley.edu\"\u003eRuchira\nDatta\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eThanks to all those who have already participated in the critique of\nthis page: Daniel de Rauglaudre, Luc Maranget, Jacques Garrigue, Damien\nDoligez, Xavier Leroy, Bruno Verlyck, Bruno Petazzoni, Francois Maltey,\nBasile Starynkevitch, Toby Moth, Pierre Lescanne.\u003c/p\u003e\n\u003ch2 id=\"general-guidelines-to-write-programs\"\u003eGeneral guidelines to write programs\u003c/h2\u003e\n\u003ch3 id=\"be-simple-and-readable\"\u003eBe simple and readable\u003c/h3\u003e\n\u003cp\u003eThe time you spend typing the programs is negligible compared to the\ntime spent reading them. That's the reason why you save a lot of time if\nyou work hard to optimize readability.\u003c/p\u003e\n\u003cp\u003eAll the time you are \u0026quot;wasting\u0026quot; to get a simpler program today, will\nreturn a hundred times in the future during the uncountably many\nmodifications and readings of the program (starting with the first\ndebugging).\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eWriting programs law\u003c/strong\u003e: A program is written once, modified ten\ntimes, and read 100 times. So simplify its writing, always keep future\nmodifications in mind, and never jeopardize readability.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"program-formatting-guidelines\"\u003eProgram formatting guidelines\u003c/h2\u003e\n\u003ch3 id=\"lexical-conventions\"\u003eLexical conventions\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003ePseudo spaces law\u003c/strong\u003e: never hesitate to separate words of your\nprograms with spaces; the space bar is the easiest key to find on the\nkeyboard, press it as often as necessary!\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"delimiters\"\u003eDelimiters\u003c/h4\u003e\n\u003cp\u003eA space should always follow a delimiter symbol, and spaces should\nsurround operator symbols. It has been a great step forward in\ntypography to separate words by spaces to make written texts easier to\nread. Do the same in your programs if you want them to be readable.\u003c/p\u003e\n\u003ch4 id=\"how-to-write-pairs\"\u003eHow to write pairs\u003c/h4\u003e\n\u003cp\u003eA tuple is parenthesized and the commas therein (delimiters) are each\nfollowed by a space: \u003ccode\u003e(1, 2)\u003c/code\u003e, \u003ccode\u003elet   triplet = (x, y, z)\u003c/code\u003e...\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eCommonly accepted exceptions\u003c/strong\u003e:\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eDefinition of the components of a pair\u003c/strong\u003e: In place of\n\u003ccode\u003elet (x, y) =       ...\u003c/code\u003e, you can write \u003ccode\u003elet x, y = ...\u003c/code\u003e.\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: The point is to define several values\nsimultaneously, not to construct a tuple. Moreover, the\npattern is set off nicely between \u003ccode\u003elet\u003c/code\u003e and \u003ccode\u003e=\u003c/code\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eMatching several values simultaneously\u003c/strong\u003e: It's okay to omit\nparentheses around n-tuples when matching several values\nsimultaneously.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e  match x, y with\n  | 1, _ -\u0026gt; ...\n  | x, 1 -\u0026gt; ...\n  | x, y -\u0026gt; ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: The point is to match several values in\nparallel, not to construct a tuple. Moreover, the expressions\nbeing matched are set off by \u003ccode\u003ematch\u003c/code\u003e and \u003ccode\u003ewith\u003c/code\u003e, while the\npatterns are set off nicely by \u003ccode\u003e|\u003c/code\u003e and \u003ccode\u003e-\u0026gt;\u003c/code\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"how-to-write-lists\"\u003eHow to write lists\u003c/h4\u003e\n\u003cp\u003eWrite \u003ccode\u003ex :: l\u003c/code\u003e with spaces around the \u003ccode\u003e::\u003c/code\u003e (since \u003ccode\u003e::\u003c/code\u003e is an infix\noperator, hence surrounded by spaces) and \u003ccode\u003e[1; 2; 3]\u003c/code\u003e (since \u003ccode\u003e;\u003c/code\u003e is a\ndelimiter, hence followed by a space).\u003c/p\u003e\n\u003ch4 id=\"how-to-write-operator-symbols\"\u003eHow to write operator symbols\u003c/h4\u003e\n\u003cp\u003eBe careful to keep operator symbols well separated by spaces: not only\nwill your formulas be more readable, but you will avoid confusion with\nmulti-character operators. (Obvious exceptions to this rule: the symbols\n\u003ccode\u003e!\u003c/code\u003e and \u003ccode\u003e.\u003c/code\u003e are not separated from their arguments.)\u003cbr /\u003e\nExample: write \u003ccode\u003ex + 1\u003c/code\u003e or \u003ccode\u003ex + !y\u003c/code\u003e.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: If you left out the spaces then \u003ccode\u003ex+1\u003c/code\u003e would be\nunderstood, but \u003ccode\u003ex+!y\u003c/code\u003e would change its meaning since \u003ccode\u003e+!\u003c/code\u003e would\nbe interpreted as a multi-character operator.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eCriticism\u003c/strong\u003e: The absence of spaces around an operator improves the\nreadability of formulas when you use it to reflect the relative\nprecedences of operators. For example \u003ccode\u003ex*y + 2*z\u003c/code\u003e makes it very\nobvious that multiplication takes precedence over addition.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eResponse\u003c/strong\u003e: This is a bad idea, a chimera, because nothing in the\nlanguage ensures that the spaces properly reflect the meaning of the\nformula. For example \u003ccode\u003ex * z-1\u003c/code\u003e means \u003ccode\u003e(x * z) - 1\u003c/code\u003e, and not\n\u003ccode\u003ex * (z - 1)\u003c/code\u003e as the proposed interpretation of spaces would seem to\nsuggest. Besides, the problem of multi-character symbols would keep\nyou from using this convention in a uniform way: you couldn't leave\nout the spaces around the multiplication to write \u003ccode\u003ex*!y + 2*!z\u003c/code\u003e.\nFinally, this playing with the spaces is a subtle and flimsy\nconvention, a subliminal message which is difficult to grasp on\nreading. If you want to make the precedences obvious, use the\nexpressive means brought to you by the language: write parentheses.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eAdditional justification\u003c/strong\u003e: Systematically surrounding operators\nwith spaces simplify the treatment of infix operators which are no\nmore a complex particular case; in effect, whereas you can write \u003ccode\u003e(+)\u003c/code\u003e\nwithout spaces, you evidently cannot write \u003ccode\u003e(*)\u003c/code\u003e since \u003ccode\u003e(*\u003c/code\u003e is read as\nthe beginning of a comment. You must write at least one space as in\n“\u003ccode\u003e( *)\u003c/code\u003e”, although an extra space after \u003ccode\u003e*\u003c/code\u003e is definitively preferable\nif you want to avoid that \u003ccode\u003e*)\u003c/code\u003e could be read, in some contexts, as the\nend of a comment. All those difficulties are easily avoided if you\nadopt the simple rule proposed here: keep operator symbols well\nseparated by spaces.\u003cbr /\u003e\nIn fact you will quickly feel that this rule is not so difficult to\nfollow: the space bar is the greatest and best situated key of the\nkeyboard, it is the easiest to enter and you cannot miss it!\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"how-to-write-long-character-strings\"\u003eHow to write long character strings\u003c/h4\u003e\n\u003cp\u003eIndent long character strings with the convention in force at that line\nplus an indication of string continuation at the end of each line (a \u003ccode\u003e\\\u003c/code\u003e\ncharacter at the end of the line that omits white spaces on the\nbeginning of next line):\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet universal_declaration =\n  \u0026quot;-1- Programs are born and remain free and equal under the law;\\n\\\n   distinctions can only be based on the common good.\u0026quot; in\n  ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"indentation-of-programs\"\u003eIndentation of programs\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eLandin's pseudo law\u003c/strong\u003e: Treat the indentation of your programs as if\nit determines the meaning of your programs.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eI would add to this law: carefully treat the indentation of programs\nbecause in some cases it really gives the meaning of the program!\u003c/p\u003e\n\u003cp\u003eThe indentation of programs is an art which excites many strong\nopinions. Here several indentation styles are given which are drawn from\nexperience and which have not been severely criticized.\u003c/p\u003e\n\u003cp\u003eWhen a justification for the adopted style has seemed obvious to me, I\nhave indicated it. On the other hand, criticisms are also noted.\u003c/p\u003e\n\u003cp\u003eSo each time, you have to choose between the different styles\nsuggested.\u003cbr /\u003e\nThe only absolute rule is the first below.\u003c/p\u003e\n\u003ch3 id=\"consistency-of-indentation\"\u003eConsistency of indentation\u003c/h3\u003e\n\u003cp\u003eChoose a generally accepted style of indentation, then use it\nsystematically throughout the whole application.\u003c/p\u003e\n\u003ch3 id=\"width-of-the-page\"\u003eWidth of the page\u003c/h3\u003e\n\u003cp\u003eThe page is 80 columns wide.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: This width makes it possible to read the code on\nall displays and to print it in a legible font on a standard sheet.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"height-of-the-page\"\u003eHeight of the page\u003c/h3\u003e\n\u003cp\u003eA function should always fit within one screenful (of about 70 lines),\nor in exceptional cases two, at the very most three. To go beyond this\nis unreasonable.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: When a function goes beyond one screenful, it's\ntime to divide it into subproblems and handle them independently.\nBeyond a screenful, one gets lost in the code. The indentation is not\nreadable and is difficult to keep correct.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"how-much-to-indent\"\u003eHow much to indent\u003c/h3\u003e\n\u003cp\u003eThe change in indentation between successive lines of the program is\ngenerally 1 or 2 spaces. Pick an amount to indent and stick with it\nthroughout the program.\u003c/p\u003e\n\u003ch3 id=\"using-tab-stops\"\u003eUsing tab stops\u003c/h3\u003e\n\u003cp\u003eUsing the tab character (ASCII character 9) is absolutely \u003cem\u003enot\u003c/em\u003e\nrecommended.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: Between one display and another, the indentation of\nthe program changes completely; it can also become completely wrong,\nif the programmer used both tabulations and spaces to indent the\nprogram.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eCriticism\u003c/strong\u003e: The purpose of using tabulations is just to allow the\nreaders of the program to indent more or less by changing the tabs\nstops. The overall indentation remains correct and the reader is glad\nto easily customize the indentation amount.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eAnswer\u003c/strong\u003e: It seems almost impossible to use this method since you\nshould always use tabulations to indent, which is hard and unnatural.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"how-to-indent-global-let---definitions\"\u003eHow to indent global \u003ccode\u003elet ... ;;\u003c/code\u003e definitions\u003c/h3\u003e\n\u003cp\u003eThe body of a function defined globally in a module is generally\nindented normally. However, it's okay to treat this case specially to\nset off the definition better.\u003c/p\u003e\n\u003cp\u003eWith a regular indentation of 1 or 2 spaces:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet f x = function\n  | C -\u0026gt;\n  | D -\u0026gt;\n  ...\n\nlet g x =\n  let tmp =\n    match x with\n    | C -\u0026gt; 1\n    | x -\u0026gt; 0 in\n  tmp + 1\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: No exception to the amount of indentation.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eOther conventions are acceptable, for example:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe body is left-justified in the case of pattern-matching.\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet f x = function\n| C -\u0026gt;\n| D -\u0026gt;\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: The vertical bars separating the patterns stop\nwhen the definition is done, so it's still easy to pass on to the\nfollowing definition.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eCriticism\u003c/strong\u003e: An unpleasant exception to the normal indentation.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003eThe body is justified just under the name of the defined function.\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet f x =\n    let tmp = ... in\n    try g x with\n    | Not_found -\u0026gt;\n    ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: The first line of the definition is set off\nnicely, so it's easier to pass from definition to definition.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eCriticism\u003c/strong\u003e: You run into the right margin too quickly.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"how-to-indent-let--in-constructs\"\u003eHow to indent \u003ccode\u003elet ... in\u003c/code\u003e constructs\u003c/h3\u003e\n\u003cp\u003eThe expression following a definition introduced by \u003ccode\u003elet\u003c/code\u003e is indented to\nthe same level as the keyword \u003ccode\u003elet\u003c/code\u003e, and the keyword \u003ccode\u003ein\u003c/code\u003e which\nintroduces it is written at the end of the line:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet expr1 = ... in\nexpr1 + expr1\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIn the case of a series of \u003ccode\u003elet\u003c/code\u003e definitions, the preceding rule implies\nthat these definitions should be placed at the same indentation level:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet expr1 = ... in\nlet n = ... in\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: It is suggested that a series of “let ... in”\nconstructs is analogous to a set of assumptions in a mathematical\ntext, whence the same indentation level for all the assumptions.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eVariation: some write the keyword \u003ccode\u003ein\u003c/code\u003e alone on one line to set apart\nthe final expression of the computation:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet e1 = ... in\nlet e2 = ... in\nlet new_expr =\n  let e1' = derive_expression e1\n  and e2' = derive_expression e2 in\n  Add_expression e1' e2'\nin\nMult_expression (new_expr, new_expr)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eCriticism\u003c/strong\u003e: Lack of consistency.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"how-to-indent-if--then----else--\"\u003eHow to indent \u003ccode\u003eif ... then   ... else ... \u003c/code\u003e\u003c/h3\u003e\n\u003ch4 id=\"multiple-branches\"\u003eMultiple branches\u003c/h4\u003e\n\u003cp\u003eWrite conditions with multiple branches at the same level of\nindentation:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eif cond1 ...\nif cond2 ...\nif cond3 ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: Analogous treatment to pattern-matching clauses,\nall aligned to the same tab stop.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eIf the sizes of the conditions and the expressions allow, write for\nexample:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eif cond1 then e1 else\nif cond2 then e2 else\nif cond3 then e3 else\ne4\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf expressions in the branches of multiple conditions have to be\nenclosed (when they include statements for instance), write:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eif cond then begin\n    e1\n  end else\nif cond2 then begin\n    e2\n  end else\nif cond3 then ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSome suggest another method for multiple conditionals, starting each\nline by the keyword \u003ccode\u003eelse\u003c/code\u003e:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eif cond1 ...\nelse if cond2 ...\nelse if cond3 ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: \u003ccode\u003eelsif\u003c/code\u003e is a keyword in many languages, so use\nindentation and \u003ccode\u003eelse if\u003c/code\u003e to bring it to mind. Moreover, you do not\nhave to look to the end of line to know whether the condition is\ncontinued or another test is performed.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eCriticism\u003c/strong\u003e: Lack of consistency in the treatment of all the\nconditions. Why a special case for the first condition?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eYet again, choose your style and use it systematically.\u003c/p\u003e\n\u003ch4 id=\"single-branches\"\u003eSingle branches\u003c/h4\u003e\n\u003cp\u003eSeveral styles are possible for single branches, according to the size\nof the expressions in question and especially the presence of \u003ccode\u003ebegin\u003c/code\u003e\n\u003ccode\u003eend\u003c/code\u003e or \u003ccode\u003e(\u003c/code\u003e \u003ccode\u003e)\u003c/code\u003e delimiters for these expressions.\u003c/p\u003e\n\u003cp\u003eIn the case of delimiting the branches of a conditional, several styles\nare used:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003e(\u003c/code\u003e at end of line:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eif cond then (\n  e1\n) else (\n  e2\n)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOr alternatively first \u003ccode\u003ebegin\u003c/code\u003e at beginning of line:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eif cond then\n  begin\n    e1\n  end else begin\n    e2\n  end\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eIn fact the indentation of conditionals depends on the sizes of the\nexpressions which make them up.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eIf \u003ccode\u003econd\u003c/code\u003e, \u003ccode\u003ee1\u003c/code\u003e and \u003ccode\u003ee2\u003c/code\u003e are small, simply write them on one line:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eif cond then e1 else e2\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf the expressions making up a conditional are purely functional\n(without side effects), we advocate binding them within the\nconditional with \u003ccode\u003elet e = ... in\u003c/code\u003e when they're too big to fit on a\nline.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: This way you get back the simple indentation on\none line which is the most readable. As a side benefit, the naming\nacts as an aid to comprehension.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eSo now we consider the case in which the expressions in question do\nhave side effects, which keeps us from simply binding them with a\n\u003ccode\u003elet e = ... in\u003c/code\u003e.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eIf \u003ccode\u003ee1\u003c/code\u003e and \u003ccode\u003econd\u003c/code\u003e are small, but \u003ccode\u003ee2\u003c/code\u003e large:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eif cond then e1 else\n  e2\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf \u003ccode\u003ee1\u003c/code\u003e and \u003ccode\u003econd\u003c/code\u003e are large and \u003ccode\u003ee2\u003c/code\u003e small:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eif cond then\n  e1\nelse e2\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf all the expressions are large:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eif cond then\n  e1\nelse\n  e2\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf there are \u003ccode\u003e( )\u003c/code\u003e delimiters:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eif cond then (\n  e1\n) else (\n  e2\n)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eA mixture where \u003ccode\u003ee1\u003c/code\u003e requires \u003ccode\u003e( )\u003c/code\u003e but \u003ccode\u003ee2\u003c/code\u003e is small:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eif cond then (\n    e1\n) else e2\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"how-to-indent-pattern-matching-constructs\"\u003eHow to indent pattern-matching constructs\u003c/h3\u003e\n\u003ch4 id=\"general-principles\"\u003eGeneral principles\u003c/h4\u003e\n\u003cp\u003eAll the pattern-matching clauses are introduced by a vertical bar,\n\u003cem\u003eincluding\u003c/em\u003e the first one.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eCriticism\u003c/strong\u003e: The first vertical bar is not mandatory: hence, there\nis no need to write it.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eAnswer to criticism\u003c/strong\u003e: If you omit the first bar the indentation\nseems unnatural : the first case gets an indentation that is greater\nthan a normal new line would necessitate. It is thus a useless\nexception to the correct indentation rule. It also insists not to use\nthe same syntax for the whole set of clauses, writing the first clause\nas an exception with a slightly different syntax. Last, aesthetic\nvalue is doubtful (some people would say “awful” instead of\n“doubtful”).\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eAlign all the pattern-matching clauses at the level of the vertical bar\nwhich begins each clause, \u003cem\u003eincluding\u003c/em\u003e the first one.\u003c/p\u003e\n\u003cp\u003eIf an expression in a clause is too large to fit on the line, you must\nbreak the line immediately after the arrow of the corresponding clause.\nThen indent normally, starting from the beginning of the pattern of the\nclause.\u003c/p\u003e\n\u003cp\u003eArrows of pattern matching clauses should not be aligned.\u003c/p\u003e\n\u003ch4 id=\"match-or-try\"\u003e\u003ccode\u003ematch\u003c/code\u003e or \u003ccode\u003etry\u003c/code\u003e\u003c/h4\u003e\n\u003cp\u003eFor a \u003ccode\u003ematch\u003c/code\u003e or a \u003ccode\u003etry\u003c/code\u003e align the clauses with the beginning of the\nconstruct:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003ematch lam with\n| Abs (x, body) -\u0026gt; 1 + size_lambda body\n| App (lam1, lam2) -\u0026gt; size_lambda lam1 + size_lambda lam2\n| Var v -\u0026gt; 1\n\ntry f x with\n| Not_found -\u0026gt; ...\n| Failure \u0026quot;not yet implemented\u0026quot; -\u0026gt; ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ePut the keyword \u003ccode\u003ewith\u003c/code\u003e at the end of the line. If the preceding\nexpression extends beyond one line, put \u003ccode\u003ewith\u003c/code\u003e on a line by itself:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003etry\n  let y = f x in\n  if ...\nwith\n| Not_found -\u0026gt; ...\n| Failure \u0026quot;not yet implemented\u0026quot; -\u0026gt; ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: The keyword \u003ccode\u003ewith\u003c/code\u003e, on a line by itself shows that\nthe program enters the pattern matching part of the construct.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"indenting-expressions-inside-clauses\"\u003eIndenting expressions inside clauses\u003c/h4\u003e\n\u003cp\u003eIf the expression on the right of the pattern matching arrow is too\nlarge, cut the line after the arrow.\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003ematch lam with\n| Abs (x, body) -\u0026gt;\n   1 + size_lambda body\n| App (lam1, lam2) -\u0026gt;\n   size_lambda lam1 + size_lambda lam2\n| Var v -\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSome programmers generalize this rule to all clauses, as soon as one\nexpressions overflows. They will then indent the last clause like this:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003e| Var v -\u0026gt;\n   1\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOther programmers go one step further and apply this rule systematically\nto any clause of any pattern matching.\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet rec fib = function\n  | 0 -\u0026gt;\n     1\n  | 1 -\u0026gt;\n     1\n  | n -\u0026gt;\n     fib (n - 1) + fib ( n - 2)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eCriticism\u003c/strong\u003e: May be not compact enough; for simple pattern matchings\n(or simple clauses in complex matchings), the rule does not add any\ngood to readability.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: I don't see any good reason for this rule, unless\nyou are paid proportionally to the number of lines of code: in this\ncase use this rule to get more money without adding more bugs in your\nOCaml programs!\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"pattern-matching-in-anonymous-functions\"\u003ePattern matching in anonymous functions\u003c/h4\u003e\n\u003cp\u003eSimilarly to \u003ccode\u003ematch\u003c/code\u003e or \u003ccode\u003etry\u003c/code\u003e, pattern matching of anonymous functions,\nstarting by \u003ccode\u003efunction\u003c/code\u003e, are indented with respect to the \u003ccode\u003efunction\u003c/code\u003e\nkeyword:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003emap\n  (function\n   | Abs (x, body) -\u0026gt; 1 + size_lambda 0 body\n   | App (lam1, lam2) -\u0026gt; size_lambda (size_lambda 0 lam1) lam2\n   | Var v -\u0026gt; 1)\n  lambda_list\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"pattern-matching-in-named-functions\"\u003ePattern matching in named functions\u003c/h4\u003e\n\u003cp\u003ePattern-matching in functions defined by \u003ccode\u003elet\u003c/code\u003e or \u003ccode\u003elet rec\u003c/code\u003e gives rise\nto several reasonable styles which obey the preceding rules for pattern\nmatching (the one for anonymous functions being evidently excepted). See\nabove for recommended styles.\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet rec size_lambda accu = function\n  | Abs (x, body) -\u0026gt; size_lambda (succ accu) body\n  | App (lam1, lam2) -\u0026gt; size_lambda (size_lambda accu lam1) lam2\n  | Var v -\u0026gt; succ accu\n\nlet rec size_lambda accu = function\n| Abs (x, body) -\u0026gt; size_lambda (succ accu) body\n| App (lam1, lam2) -\u0026gt; size_lambda (size_lambda accu lam1) lam2\n| Var v -\u0026gt; succ accu\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"bad-indentation-of-pattern-matching-constructs\"\u003eBad indentation of pattern-matching constructs\u003c/h3\u003e\n\u003ch4 id=\"no-beastly-indentation-of-functions-and-case-analyses\"\u003eNo \u003cem\u003ebeastly\u003c/em\u003e indentation of functions and case analyses.\u003c/h4\u003e\n\u003cp\u003eThis consists in indenting normally under the keyword \u003ccode\u003ematch\u003c/code\u003e or\n\u003ccode\u003efunction\u003c/code\u003e which has previously been pushed to the right. Don't write:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet rec f x = function\n              | [] -\u0026gt; ...\n              ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ebut choose to indent the line under the \u003ccode\u003elet\u003c/code\u003e keyword:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet rec f x = function\n  | [] -\u0026gt; ...\n  ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: You bump into the margin. The aesthetic value is\ndoubtful...\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"no-beastly-alignment-of-the---symbols-in-pattern-matching-clauses\"\u003eNo \u003cem\u003ebeastly\u003c/em\u003e alignment of the \u003ccode\u003e-\u0026gt;\u003c/code\u003e symbols in pattern-matching clauses.\u003c/h4\u003e\n\u003cp\u003eCareful alignment of the arrows of a pattern matching is considered bad\npractice, as exemplify in the following fragment:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet f = function\n  | C1          -\u0026gt; 1\n  | Long_name _ -\u0026gt; 2\n  | _           -\u0026gt; 3\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: This makes it harder to maintain the program (the\naddition of a supplementary case can lead the indentations of all the\nlines to change and so ... we often give up alignment at that time,\nthen it is better not to align the arrows in the first place!).\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"how-to-indent-function-calls\"\u003eHow to indent function calls\u003c/h3\u003e\n\u003ch4 id=\"indentation-to-the-functions-name\"\u003eIndentation to the function's name:\u003c/h4\u003e\n\u003cp\u003eNo problem arises except for functions with many arguments—or very\ncomplicated arguments as well—which can't fit on the same line. You\nmust indent the expressions with respect to the name of the function (1\nor 2 spaces according to the chosen convention). Write small arguments\non the same line, and change lines at the start of an argument.\u003c/p\u003e\n\u003cp\u003eAs far as possible, avoid arguments which consist of complex\nexpressions: in these cases define the “large” argument by a \u003ccode\u003elet\u003c/code\u003e\nconstruction.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: No indentation problem; if the name given to the\nexpressions is meaningful, the code is more readable as well.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eAdditional justification\u003c/strong\u003e: If the evaluation of the arguments\nproduces side effects, the \u003ccode\u003elet\u003c/code\u003e binding is in fact necessary to\nexplicitly define the order of evaluation.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"naming-complex-arguments\"\u003eNaming complex arguments:\u003c/h4\u003e\n\u003cp\u003eIn place of\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet temp =\n  f x y z\n    “large\n    expression”\n    “other large\n    expression” in\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ewrite\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet t =\n  “large\n  expression”\nand u =\n  “other large\n  expression” in\nlet temp =\n  f x y z t u in\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"naming-anonymous-functions\"\u003eNaming anonymous functions:\u003c/h4\u003e\n\u003cp\u003eIn the case of an iterator whose argument is a complex function, define\nthe function by a \u003ccode\u003elet\u003c/code\u003e binding as well. In place of\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eList.map\n  (function x -\u0026gt;\n    blabla\n    blabla\n    blabla)\n  l\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ewrite\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet f x =\n  blabla\n  blabla\n  blabla in\nList.map f l\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: Much clearer, in particular if the name given to\nthe function is meaningful.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"how-to-indent-operations\"\u003eHow to indent operations\u003c/h3\u003e\n\u003cp\u003eWhen an operator takes complex arguments, or in the presence of multiple\ncalls to the same operator, start the next the line with the operator,\nand don't indent the rest of the operation. For example:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003ex + y + z\n+ t + u\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: When the operator starts the line, it is clear that\nthe operation continues on this line.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eIn the case of a “large expression” in such an operation sequence,\nto define the “large expression” with the help of a \u003ccode\u003elet in\u003c/code\u003e\nconstruction is preferable to having to indent the line. In place of\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003ex + y + z\n+ “large\n  expression”\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ewrite\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet t =\n  “large\n   expression” in\nx + y + z + t\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou most certainly must bind those expressions too large to be written\nin one operation in the case of a combination of operators. In place of\nthe unreadable expression\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003e(x + y + z * t)\n/ (“large\n    expression”)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ewrite\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet u =\n  “large\n  expression” in\n(x + y + z * t) / u\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThese guidelines extend to all operators. For example:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet u =\n  “large\n  expression” in\nx :: y\n:: z + 1 :: t :: u\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"programming-guidelines\"\u003eProgramming guidelines\u003c/h2\u003e\n\u003ch3 id=\"how-to-program\"\u003eHow to program\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cem\u003eAlways put your handiwork back on the bench,\u003cbr /\u003e\nand then polish it and re-polish it.\u003c/em\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"write-simple-and-clear-programs\"\u003eWrite simple and clear programs\u003c/h4\u003e\n\u003cp\u003eWhen this is done, reread, simplify and clarify. At every stage of\ncreation, use your head!\u003c/p\u003e\n\u003ch4 id=\"subdivide-your-programs-into-little-functions\"\u003eSubdivide your programs into little functions\u003c/h4\u003e\n\u003cp\u003eSmall functions are easier to master.\u003c/p\u003e\n\u003ch4 id=\"factor-out-snippets-of-repeated-code-by-defining-them-in-separate-functions\"\u003eFactor out snippets of repeated code by defining them in separate functions\u003c/h4\u003e\n\u003cp\u003eThe sharing of code obtained in this way facilitates maintenance since\nevery correction or improvement automatically spreads throughout the\nprogram. Besides, the simple act of isolating and naming a snippet of\ncode sometimes lets you identify an unsuspected feature.\u003c/p\u003e\n\u003ch4 id=\"never-copy-paste-code-when-programming\"\u003eNever copy-paste code when programming\u003c/h4\u003e\n\u003cp\u003ePasting code almost surely indicates introducing a default of code\nsharing and neglecting to identify and write a useful auxiliary\nfunction; hence, it means that some code sharing is lost in the program.\nLosing code sharing implies that you will have more problems afterwards\nfor maintenance: a bug in the pasted code has to be corrected at each\noccurrence of the bug in each copy of the code!\u003c/p\u003e\n\u003cp\u003eMoreover, it is difficult to identify that the same set of 10 lines of\ncode is repeated 20 times throughout the program. By contrast, if an\nauxiliary function defines those 10 lines, it is fairly easy to see and\nfind where those lines are used: that's simply where the function is\ncalled. If code is copy-pasted all over the place then the program is\nmore difficult to understand.\u003c/p\u003e\n\u003cp\u003eIn conclusion, copy-pasting code leads to programs that are more\ndifficult to read and more difficult to maintain: it has to be banished.\u003c/p\u003e\n\u003ch3 id=\"how-to-comment-programs\"\u003eHow to comment programs\u003c/h3\u003e\n\u003ch4 id=\"dont-hesitate-to-comment-when-theres-a-difficulty\"\u003eDon't hesitate to comment when there's a difficulty\u003c/h4\u003e\n\u003ch4 id=\"if-theres-no-difficulty-theres-no-point-in-commenting\"\u003eIf there's no difficulty, there's no point in commenting\u003c/h4\u003e\n\u003ch4 id=\"avoid-comments-in-the-bodies-of-functions\"\u003eAvoid comments in the bodies of functions\u003c/h4\u003e\n\u003ch4 id=\"prefer-one-comment-at-the-beginning-of-the-function\"\u003ePrefer one comment at the beginning of the function...\u003c/h4\u003e\n\u003cp\u003e...which explains how the algorithm that is used works. Once more, if\nthere is no difficulty, there is no point in commenting.\u003c/p\u003e\n\u003ch4 id=\"avoid-nocuous-comments\"\u003eAvoid nocuous comments\u003c/h4\u003e\n\u003cp\u003eA \u003cem\u003enocuous\u003c/em\u003e comment is a comment that does not add any value, i.e. no\nnon-trivial information. The nocuous comment is evidently not of\ninterest; it is a nuisance since it uselessly distracts the reader. It\nis often used to fulfill some strange criteria related to the so-called\n\u003cem\u003esoftware metrology\u003c/em\u003e, for instance the ratio \u003cem\u003enumber of comments\u003c/em\u003e /\n\u003cem\u003enumber of lines of code\u003c/em\u003e that perfectly measures a ratio that I don't\nknow the theoretical or practical interpretation. Absolutely avoid\nnocuous comments.\u003c/p\u003e\n\u003cp\u003eAn example of what to avoid: the following comment uses technical words\nand is thus masquerade into a real comment when it has no additional\ninformation of interest;\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003e(*\n  Function print_lambda:\n  print a lambda-expression given as argument.\n\n  Arguments: lam, any lambda-expression.\n  Returns: nothing.\n\n  Remark: print_lambda can only be used for its side effect.\n*)\nlet rec print_lambda lam =\n  match lam with\n  | Var s -\u0026gt; printf \u0026quot;%s\u0026quot; s\n  | Abs l -\u0026gt; printf \u0026quot;\\\\ %a\u0026quot; print_lambda l\n  | App (l1, l2) -\u0026gt;\n     printf \u0026quot;(%a %a)\u0026quot; print_lambda l1 print_lambda l2\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"usage-in-module-interface\"\u003eUsage in module interface\u003c/h4\u003e\n\u003cp\u003eThe function's usage must appear in the interface of the module which\nexports it, not in the program which implements it. Choose comments as\nin the OCaml system's interface modules, which will subsequently allow\nthe documentation of the interface module to be extracted automatically\nif need be.\u003c/p\u003e\n\u003ch4 id=\"use-assertions\"\u003eUse assertions\u003c/h4\u003e\n\u003cp\u003eUse assertions as much as possible: they let you avoid verbose comments,\nwhile allowing a useful verification upon execution.\u003c/p\u003e\n\u003cp\u003eFor example, the conditions for the arguments of a function to be valid\nare usefully verified by assertions.\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet f x =\n  assert (x \u0026gt;= 0);\n  ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNote as well that an assertion is often preferable to a comment because\nit's more trustworthy: an assertion is forced to be pertinent because it\nis verified upon each execution, while a comment can quickly become\nobsolete and then becomes actually detrimental to the comprehension of\nthe program.\u003c/p\u003e\n\u003ch4 id=\"comments-line-by-line-in-imperative-code\"\u003eComments line by line in imperative code\u003c/h4\u003e\n\u003cp\u003eWhen writing difficult code, and particularly in case of highly\nimperative code with a lot of memory modifications (physical mutations\nin data structures), it is sometime mandatory to comment inside the body\nof functions to explain the implementation of the algorithm encoded\nhere, or to follow successive modifications of invariants that the\nfunction must maintain. Once more, if there is some difficulty\ncommenting is mandatory, for each program line if necessary.\u003c/p\u003e\n\u003ch3 id=\"how-to-choose-identifiers\"\u003eHow to choose identifiers\u003c/h3\u003e\n\u003cp\u003eIt's hard to choose identifiers whose name evokes the meaning of the\ncorresponding portion of the program. This is why you must devote\nparticular care to this, emphasizing clarity and regularity of\nnomenclature.\u003c/p\u003e\n\u003ch4 id=\"dont-use-abbreviations-for-global-names\"\u003eDon't use abbreviations for global names\u003c/h4\u003e\n\u003cp\u003eGlobal identifiers (including especially the names of functions) can be\nlong, because it's important to understand what purpose they serve far\nfrom their definition.\u003c/p\u003e\n\u003ch4 id=\"separate-words-by-underscores-intofstring-not-intofstring\"\u003eSeparate words by underscores: (\u003ccode\u003eint_of_string\u003c/code\u003e, not \u003ccode\u003eintOfString\u003c/code\u003e)\u003c/h4\u003e\n\u003cp\u003eCase modifications are meaningful in OCaml: in effect capitalized words\nare reserved for constructors and module names in OCaml; in contrast\nregular variables (functions or identifiers) must start by a lowercase\nletter. Those rules prevent proper usage of case modification for words\nseparation in identifiers: the first word starts the identifier, hence\nit must be lower case and it is forbidden to choose \u003ccode\u003eIntOfString\u003c/code\u003e as the\nname of a function.\u003c/p\u003e\n\u003ch4 id=\"always-give-the-same-name-to-function-arguments-which-have-the-same-meaning\"\u003eAlways give the same name to function arguments which have the same meaning\u003c/h4\u003e\n\u003cp\u003eIf necessary, make this nomenclature explicit in a comment at the top of\nthe file); if there are several arguments with the same meaning then\nattach numeral suffixes to them.\u003c/p\u003e\n\u003ch4 id=\"local-identifiers-can-be-brief-and-should-be-reused-from-one-function-to-another\"\u003eLocal identifiers can be brief, and should be reused from one function to another\u003c/h4\u003e\n\u003cp\u003eThis augments regularity of style. Avoid using identifiers whose\nappearance can lead to confusion such as \u003ccode\u003el\u003c/code\u003e or \u003ccode\u003eO\u003c/code\u003e, easy to confuse\nwith \u003ccode\u003e1\u003c/code\u003e and \u003ccode\u003e0\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eExample:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet add_expression expr1 expr2 = ...\nlet print_expression expr = ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAn exception to the recommendation not to use capitalization to separate\nwords within identifiers is tolerated in the case of interfacing with\nexisting libraries which use this naming convention: this lets OCaml\nusers of the library to orient themselves in the original library\ndocumentation more easily.\u003c/p\u003e\n\u003ch3 id=\"when-to-use-parentheses-within-an-expression\"\u003eWhen to use parentheses within an expression\u003c/h3\u003e\n\u003cp\u003eParentheses are meaningful: they indicate the necessity of using an\nunusual precedence. So they should be used wisely and not sprinkled\nrandomly throughout programs. To this end, you should know the usual\nprecedences, that is, the combinations of operations which do not\nrequire parentheses. Quite fortunately this is not complicated if you\nknow a little mathematics or strive to follow the following rules:\u003c/p\u003e\n\u003ch4 id=\"arithmetic-operators-the-same-rules-as-in-mathematics\"\u003eArithmetic operators: the same rules as in mathematics\u003c/h4\u003e\n\u003cp\u003eFor example: \u003ccode\u003e1 + 2 * x\u003c/code\u003e means \u003ccode\u003e1 + (2 * x)\u003c/code\u003e.\u003c/p\u003e\n\u003ch4 id=\"function-application-the-same-rules-as-those-in-mathematics-for-usage-of-trigonometric-functions\"\u003eFunction application: the same rules as those in mathematics for usage of \u003cem\u003etrigonometric functions\u003c/em\u003e\u003c/h4\u003e\n\u003cp\u003eIn mathematics you write \u003ccode\u003esin x\u003c/code\u003e to mean \u003ccode\u003esin (x)\u003c/code\u003e. In the same way\n\u003ccode\u003esin x + cos x\u003c/code\u003e means \u003ccode\u003e(sin x) + (cos x)\u003c/code\u003e not \u003ccode\u003esin (x + (cos x))\u003c/code\u003e. Use\nthe same conventions in OCaml: write \u003ccode\u003ef x + g x\u003c/code\u003e to mean\n\u003ccode\u003e(f x) + (g x)\u003c/code\u003e.\u003cbr /\u003e\nThis convention generalizes \u003cstrong\u003eto all (infix) operators\u003c/strong\u003e: \u003ccode\u003ef x :: g x\u003c/code\u003e\nmeans \u003ccode\u003e(f x) :: (g x)\u003c/code\u003e, \u003ccode\u003ef x @ g x\u003c/code\u003e means \u003ccode\u003e(f x) @ (g x)\u003c/code\u003e, and\n\u003ccode\u003efailwith s ^ s'\u003c/code\u003e means \u003ccode\u003e(failwith s) ^ s'\u003c/code\u003e, \u003cem\u003enot\u003c/em\u003e \u003ccode\u003efailwith (s ^ s')\u003c/code\u003e.\u003c/p\u003e\n\u003ch4 id=\"comparisons-and-boolean-operators\"\u003eComparisons and boolean operators\u003c/h4\u003e\n\u003cp\u003eComparisons are infix operators, so the preceding rules apply. This is\nwhy \u003ccode\u003ef x \u0026lt; g x\u003c/code\u003e means \u003ccode\u003e(f x) \u0026lt; (g x)\u003c/code\u003e. For type reasons (no other\nsensible interpretation) the expression \u003ccode\u003ef x \u0026lt; x + 2\u003c/code\u003e means\n\u003ccode\u003e(f x) \u0026lt; (x + 2)\u003c/code\u003e. In the same way \u003ccode\u003ef x \u0026lt; x + 2 \u0026amp;\u0026amp; x \u0026gt; 3\u003c/code\u003e means\n\u003ccode\u003e((f x) \u0026lt; (x + 2)) \u0026amp;\u0026amp; (x \u0026gt; 3)\u003c/code\u003e.\u003c/p\u003e\n\u003ch4 id=\"the-relative-precedences-of-the-boolean-operators-are-those-of-mathematics\"\u003eThe relative precedences of the boolean operators are those of mathematics\u003c/h4\u003e\n\u003cp\u003eAlthough mathematicians have a tendency to overuse parens in this case,\nthe boolean “or” operator is analogous to addition and the “and”\nto multiplication. So, just as \u003ccode\u003e1 + 2 * x\u003c/code\u003e means \u003ccode\u003e1 + (2 * x)\u003c/code\u003e,\n\u003ccode\u003etrue || false \u0026amp;\u0026amp; x\u003c/code\u003e means \u003ccode\u003etrue || (false \u0026amp;\u0026amp; x)\u003c/code\u003e.\u003c/p\u003e\n\u003ch3 id=\"how-to-delimit-constructs-in-programs\"\u003eHow to delimit constructs in programs\u003c/h3\u003e\n\u003cp\u003eWhen it is necessary to delimit syntactic constructs in programs, use as\ndelimiters the keywords \u003ccode\u003ebegin\u003c/code\u003e and \u003ccode\u003eend\u003c/code\u003e rather than parentheses.\nHowever using parentheses is acceptable if you do it in a consistent,\nthat is, systematic, way.\u003c/p\u003e\n\u003cp\u003eThis explicit delimiting of constructs essentially concerns\npattern-matching constructs or sequences embedded within\n\u003ccode\u003eif then     else\u003c/code\u003e constructs.\u003c/p\u003e\n\u003ch4 id=\"match-construct-in-a-match-construct\"\u003e\u003ccode\u003ematch\u003c/code\u003e construct in a \u003ccode\u003ematch\u003c/code\u003e construct\u003c/h4\u003e\n\u003cp\u003eWhen a \u003ccode\u003ematch ... with\u003c/code\u003e or \u003ccode\u003etry ... with\u003c/code\u003e construct appears in a\npattern-matching clause, it is absolutely necessary to delimit this\nembedded construct (otherwise subsequent clauses of the enclosing\npattern-matching construct will automatically be associated with the\nenclosed pattern-matching construct). For example:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003ematch x with\n| 1 -\u0026gt;\n  begin match y with\n  | ...\n  end\n| 2 -\u0026gt;\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"sequences-inside-branches-of-if\"\u003eSequences inside branches of \u003ccode\u003eif\u003c/code\u003e\u003c/h4\u003e\n\u003cp\u003eIn the same way, a sequence which appears in the \u003ccode\u003ethen\u003c/code\u003e or \u003ccode\u003eelse\u003c/code\u003e part\nof a conditional must be delimited:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eif cond then begin\n  e1;\n  e2\nend else begin\n  e3;\n  e4\nend\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"how-to-use-modules\"\u003eHow to use modules\u003c/h3\u003e\n\u003ch4 id=\"subdividing-into-modules\"\u003eSubdividing into modules\u003c/h4\u003e\n\u003cp\u003eYou must subdivide your programs into coherent modules.\u003c/p\u003e\n\u003cp\u003eFor each module, you must explicitly write an interface.\u003c/p\u003e\n\u003cp\u003eFor each interface, you must document the things defined by the module:\nfunctions, types, exceptions, etc.\u003c/p\u003e\n\u003ch4 id=\"opening-modules\"\u003eOpening modules\u003c/h4\u003e\n\u003cp\u003eAvoid \u003ccode\u003eopen\u003c/code\u003e directives, using instead the qualified identifier\nnotation. Thus you will prefer short but meaningful module names.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: The use of unqualified identifiers is ambiguous and\ngives rise to difficult-to-detect semantic errors.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet lim = String.length name - 1 in\n...\nlet lim = Array.length v - 1 in\n...\n... List.map succ ...\n... Array.map succ ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"when-to-use-open-modules-rather-than-leaving-them-closed\"\u003eWhen to use open modules rather than leaving them closed\u003c/h4\u003e\n\u003cp\u003eYou can consider it normal to open a module which modifies the\nenvironment, and brings other versions of an important set of functions.\nFor example, the \u003ccode\u003eFormat\u003c/code\u003e module provides automatically indented\nprinting. This module redefines the usual printing functions\n\u003ccode\u003eprint_string\u003c/code\u003e, \u003ccode\u003eprint_int\u003c/code\u003e, \u003ccode\u003eprint_float\u003c/code\u003e, etc. So when you use\n\u003ccode\u003eFormat\u003c/code\u003e, open it systematically at the top of the file.\u003cbr /\u003e\nIf you don't open \u003ccode\u003eFormat\u003c/code\u003e you could miss the qualification of a\nprinting function, and this could be perfectly silent, since many of\n\u003ccode\u003eFormat\u003c/code\u003e's functions have a counterpart in the default environment\n(\u003ccode\u003ePervasives\u003c/code\u003e). Mixing printing functions from \u003ccode\u003eFormat\u003c/code\u003e and \u003ccode\u003ePervasives\u003c/code\u003e\nleads to subtle bugs in the display, that are difficult to trace. For\ninstance:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet f () =\n  Format.print_string \u0026quot;Hello World!\u0026quot;; print_newline ()\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eis bogus since it does not call \u003ccode\u003eFormat.print_newline\u003c/code\u003e to flush the\npretty-printer queue and output \u003ccode\u003e\u0026quot;Hello World!\u0026quot;\u003c/code\u003e. Instead\n\u003ccode\u003e\u0026quot;Hello World!\u0026quot;\u003c/code\u003e is stuck into the pretty-printer queue, while\n\u003ccode\u003ePervasives.print_newline\u003c/code\u003e outputs a carriage return on the standard\noutput ... If \u003ccode\u003eFormat\u003c/code\u003e is printing on a file and standard output is the\nterminal, the user will have a bad time finding that a carriage return\nis missing in the file (and the display of material on the file is\nstrange, since boxes that should be closed by \u003ccode\u003eFormat.print_newline\u003c/code\u003e are\nstill open), while a spurious carriage return appeared on the screen!\u003c/p\u003e\n\u003cp\u003eFor the same reason, open large libraries such as the one with\narbitrary-precision integers so as not to burden the program which uses\nthem.\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eopen Num\n\nlet rec fib n =\n  if n \u0026lt;= 2 then Int 1 else fib (n - 1) +/ fib (n - 2)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: The program would be less readable if you had to\nqualify all the identifiers.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eIn a program where type definitions are shared, it is good to gather\nthese definitions into one or more module(s) without implementations\n(containing only types). Then it's acceptable to systematically open the\nmodule which exports the shared type definitions.\u003c/p\u003e\n\u003ch3 id=\"pattern-matching\"\u003ePattern-matching\u003c/h3\u003e\n\u003ch4 id=\"never-be-afraid-of-over-using-pattern-matching\"\u003eNever be afraid of over-using pattern-matching!\u003c/h4\u003e\n\u003ch4 id=\"on-the-other-hand-be-careful-to-avoid-non-exhaustive-pattern-matching-constructs\"\u003eOn the other hand, be careful to avoid non-exhaustive pattern-matching constructs\u003c/h4\u003e\n\u003cp\u003eComplete them with care, without using a “catch-all” clause such as\n\u003ccode\u003e| _ -\u0026gt; ...\u003c/code\u003e or \u003ccode\u003e| x -\u0026gt; ...\u003c/code\u003e when it's possible to do without it (for\nexample when matching a concrete type defined within the program). See\nalso the next section: compiler warnings.\u003c/p\u003e\n\u003ch3 id=\"compiler-warnings\"\u003eCompiler warnings\u003c/h3\u003e\n\u003cp\u003eCompiler warnings are meant to prevent potential errors; this is why you\nabsolutely must heed them and correct your programs if compiling them\nproduces such warnings. Besides, programs whose compilation produces\nwarnings have an odor of amateurism which certainly doesn't suit your\nown work!\u003c/p\u003e\n\u003ch4 id=\"pattern-matching-warnings\"\u003ePattern-matching warnings\u003c/h4\u003e\n\u003cp\u003eWarnings about pattern-matching must be treated with the upmost care:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eThose concerning useless clauses should of course be eliminated.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eFor non-exhaustive pattern-matching you must complete the\ncorresponding pattern-matching construct, without adding a default\ncase “catch-all”, such as \u003ccode\u003e| _ -\u0026gt; ... \u003c/code\u003e, but with an explicit\nlist of the constructors not examined by the rest of the construct,\nfor example \u003ccode\u003e| Cn _ | Cn1 _ -\u0026gt; ... \u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: It's not really any more complicated to write\nit this way, and this allows the program to evolve more safely. In\neffect the addition of a new constructor to the datatype being\nmatched will produce an alert anew, which will allow the\nprogrammer to add a clause corresponding to the new constructor if\nthat is warranted. On the contrary, the “catch-all” clause\nwill make the function compile silently and it might be thought\nthat the function is correct as the new constructor will be\nhandled by the default case.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003eNon-exhaustive pattern-matches induced by clauses with guards must\nalso be corrected. A typical case consists in suppressing a\nredundant guard.\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"de-structuring-let-bindings\"\u003eDe-structuring \u003ccode\u003elet\u003c/code\u003e bindings\u003c/h4\u003e\n\u003cp\u003e[Translator's note: a “de-structuring \u003ccode\u003elet\u003c/code\u003e binding” is one which\nbinds several names to several expressions simultaneously. You pack all\nthe names you want bound into a collection such as a tuple or a list,\nand you correspondingly pack all the expressions into a collective\nexpression. When the \u003ccode\u003elet\u003c/code\u003e binding is evaluated, it unpacks the\ncollections on both sides and binds each expression to its corresponding\nname. For example, \u003ccode\u003elet x, y = 1, 2\u003c/code\u003e is a de-structuring \u003ccode\u003elet\u003c/code\u003e binding\nwhich performs both the bindings \u003ccode\u003elet x = 1\u003c/code\u003e and \u003ccode\u003elet y = 2\u003c/code\u003e\nsimultaneously.]\u003cbr /\u003e\nThe \u003ccode\u003elet\u003c/code\u003e binding is not limited to simple identifier definitions: you\ncan use it with more complex or simpler patterns. For instance\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003elet\u003c/code\u003e with complex patterns:\u003cbr /\u003e\n\u003ccode\u003elet [x; y] as l = ...\u003c/code\u003e\u003cbr /\u003e\nsimultaneously defines a list \u003ccode\u003el\u003c/code\u003e and its two elements \u003ccode\u003ex\u003c/code\u003e and \u003ccode\u003ey\u003c/code\u003e.\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003elet\u003c/code\u003e with simple pattern:\u003cbr /\u003e\n\u003ccode\u003elet _ = ...\u003c/code\u003e does not define anything, it just evaluate the\nexpression on the right hand side of the \u003ccode\u003e=\u003c/code\u003e symbol.\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"the-de-structuring-let-must-be-exhaustive\"\u003eThe de-structuring \u003ccode\u003elet\u003c/code\u003e must be exhaustive\u003c/h4\u003e\n\u003cp\u003eOnly use de-structuring \u003ccode\u003elet\u003c/code\u003e bindings in the case where the\npattern-matching is exhaustive (the pattern can never fail to match).\nTypically, you will thus be limited to definitions of product types\n(tuples or records) or definitions of variant type with a single case.\nIn any other case, you should use an explicit \u003ccode\u003ematch   ... with\u003c/code\u003e\nconstruct.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003elet ... in\u003c/code\u003e: de-structuring \u003ccode\u003elet\u003c/code\u003e that give a warning must be\nreplaced by an explicit pattern matching. For instance, instead of\n\u003ccode\u003elet [x; y] as l = List.map succ     (l1 @ l2) in expression\u003c/code\u003e write:\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003ematch List.map succ (l1 @ l2) with\n| [x; y] as l -\u0026gt; expression\n| _ -\u0026gt; assert false\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eGlobal definition with de-structuring lets should be rewritten with\nexplicit pattern matching and tuples:\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet x, y, l =\n  match List.map succ (l1 @ l2) with\n  | [x; y] as l -\u0026gt; x, y, l\n  | _ -\u0026gt; assert false\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: There is no way to make the pattern-matching\nexhaustive if you use general de-structuring \u003ccode\u003elet\u003c/code\u003e bindings.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"sequence-warnings-and-let---\"\u003eSequence warnings and \u003ccode\u003elet _ = ...\u003c/code\u003e\u003c/h4\u003e\n\u003cp\u003eWhen the compiler emits a warning about the type of an expression in a\nsequence, you have to explicitly indicate that you want to ignore the\nresult of this expression. To this end:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003euse a vacuous binding and suppress the sequence warning of\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eList.map f l;\nprint_newline ()\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ewrite\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet _ = List.map f l in\nprint_newline ()\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eyou can also use the predefined function \u003ccode\u003eignore : 'a     -\u0026gt; unit\u003c/code\u003e\nthat ignores its argument to return \u003ccode\u003eunit\u003c/code\u003e.\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eignore (List.map f l);\nprint_newline ()\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eIn any case, the best way to suppress this warning is to understand\nwhy it is emitted by the compiler: the compiler warns you because\nyour code computes a result that is useless since this result is\njust deleted after computation. Hence, if useful at all, this\ncomputation is performed only for its side-effects; hence it should\nreturn unit.\u003cbr /\u003e\nMost of the time, the warning indicates the use of the wrong\nfunction, a probable confusion between the side-effect only version\nof a function (which is a procedure whose result is irrelevant) with\nits functional counterpart (whose result is meaningful).\u003cbr /\u003e\nIn the example mentioned above, the first situation prevailed, and\nthe programmer should have called \u003ccode\u003eiter\u003c/code\u003e instead of \u003ccode\u003emap\u003c/code\u003e, and\nsimply write\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003eList.iter f l;\nprint_newline ()\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIn actual programs, the suitable (side-effect only) function may not\nexist and has to be written: very often, a careful separation of the\nprocedural part from the functional part of the function at hand\nelegantly solves the problem, and the resulting program just looks\nbetter afterwards! For instance, you would turn the problematic\ndefinition:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet add x y =\n  if x \u0026gt; 1 then print_int x;\n  print_newline ();\n  x + y;;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003einto the clearer separate definitions and change old calls to \u003ccode\u003eadd\u003c/code\u003e\naccordingly.\u003c/p\u003e\n\u003cp\u003eIn any case, use the \u003ccode\u003elet _ = ...\u003c/code\u003e construction exactly in those cases\nwhere you want to ignore a result. Don't systematically replace\nsequences with this construction.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: Sequences are much clearer! Compare \u003ccode\u003ee1; e2; e3\u003c/code\u003e to\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet _ = e1 in\nlet _ = e2 in\ne3\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"the-hd-and-tl-functions\"\u003eThe \u003ccode\u003ehd\u003c/code\u003e and \u003ccode\u003etl\u003c/code\u003e functions\u003c/h3\u003e\n\u003cp\u003eDon't use the \u003ccode\u003ehd\u003c/code\u003e and \u003ccode\u003etl\u003c/code\u003e functions, but pattern-match the list\nargument explicitly.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: This is just as brief as and much clearer than\nusing \u003ccode\u003ehd\u003c/code\u003e and \u003ccode\u003etl\u003c/code\u003e which must of necessity be protected by\n\u003ccode\u003etry... with...\u003c/code\u003e to catch the exception which might be raised by these\nfunctions.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"loops\"\u003eLoops\u003c/h3\u003e\n\u003ch4 id=\"for-loops\"\u003e\u003ccode\u003efor\u003c/code\u003e loops\u003c/h4\u003e\n\u003cp\u003eTo simply traverse an array or a string, use a \u003ccode\u003efor\u003c/code\u003e loop.\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003efor i = 0 to Array.length v - 1 do\n  ...\ndone\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf the loop is complex or returns a result, use a recursive function.\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet find_index e v =\n  let rec loop i =\n    if i \u0026gt;= Array.length v then raise Not_found else\n    if v.(i) = e then i else loop (i + 1) in\n  loop 0;;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: The recursive function lets you code any loop\nwhatsoever simply, even a complex one, for example with multiple exit\npoints or with strange index steps (steps depending on a data value\nfor example).\u003c/p\u003e\n\u003cp\u003eBesides, the recursive loop avoids the use of mutables whose value can\nbe modified in any part of the body of the loop whatsoever (or even\noutside): on the contrary the recursive loop explicitly takes as\narguments the values susceptible to change during the recursive calls.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id=\"while-loops\"\u003e\u003ccode\u003ewhile\u003c/code\u003e loops\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eWhile loops law\u003c/strong\u003e: Beware: usually a while loop is wrong, unless its\nloop invariant has been explicitly written.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eThe main use of the \u003ccode\u003ewhile\u003c/code\u003e loop is the infinite loop\n\u003ccode\u003ewhile true do     ...\u003c/code\u003e. You get out of it through an exception,\ngenerally on termination of the program.\u003c/p\u003e\n\u003cp\u003eOther \u003ccode\u003ewhile\u003c/code\u003e loops are hard to use, unless they come from canned\nprograms from algorithms courses where they were proved.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: \u003ccode\u003ewhile\u003c/code\u003e loops require one or more mutables in order\nthat the loop condition change value and the loop finally terminate.\nTo prove their correctness, you must therefore discover the loop\ninvariants, an interesting but difficult sport.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"exceptions\"\u003eExceptions\u003c/h3\u003e\n\u003cp\u003eDon't be afraid to define your own exceptions in your programs, but on\nthe other hand use as much as possible the exceptions predefined by the\nsystem. For example, every search function which fails should raise the\npredefined exception \u003ccode\u003eNot_found\u003c/code\u003e. Be careful to handle the exceptions\nwhich may be raised by a function call with the help of a\n\u003ccode\u003etry ... with\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eHandling all exceptions by \u003ccode\u003etry     ... with _ -\u0026gt;\u003c/code\u003e is usually reserved\nfor the main function of the program. If you need to catch all\nexceptions to maintain an invariant of an algorithm, be careful to name\nthe exception and re-raise it, after having reset the invariant.\nTypically:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet ic = open_in ...\nand oc = open_out ... in\ntry\n  treatment ic oc;\n  close_in ic; close_out oc\nwith x -\u0026gt; close_in ic; close_out oc; raise x\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: \u003ccode\u003etry ... with _     -\u0026gt;\u003c/code\u003e silently catches all\nexceptions, even those which have nothing to do with the computation\nat hand (for example an interruption will be captured and the\ncomputation will continue anyway!).\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"data-structures\"\u003eData structures\u003c/h3\u003e\n\u003cp\u003eOne of the great strengths of OCaml is the power of the data structures\nwhich can be defined and the simplicity of manipulating them. So you\nmust take advantage of this to the fullest extent; don't hesitate to\ndefine your own data structures. In particular, don't systematically\nrepresent enumerations by whole numbers, nor enumerations with two cases\nby booleans. Examples:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003etype figure =\n   | Triangle | Square | Circle | Parallelogram\ntype convexity =\n   | Convex | Concave | Other\ntype type_of_definition =\n   | Recursive | Non_recursive\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: A boolean value often prevents intuitive\nunderstanding of the corresponding code. For example, if\n\u003ccode\u003etype_of_definition\u003c/code\u003e is coded by a boolean, what does \u003ccode\u003etrue\u003c/code\u003e signify?\nA “normal” definition (that is, non-recursive) or a recursive\ndefinition?\u003c/p\u003e\n\u003cp\u003eIn the case of an enumerated type encode by an integer, it is very\ndifficult to limit the range of acceptable integers: one must define\nconstruction functions that will ensure the mandatory invariants of\nthe program (and verify afterwards that no values has been built\ndirectly), or add assertions in the program and guards in pattern\nmatchings. This is not good practice, when the definition of a sum\ntype elegantly solves this problem, with the additional benefit of\nfiring the full power of pattern matching and compiler's verifications\nof exhaustiveness.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eCriticism\u003c/strong\u003e: For binary enumerations, one can systematically define\npredicates whose names carry the semantics of the boolean that\nimplements the type. For instance, we can adopt the convention that a\npredicate ends by the letter \u003ccode\u003ep\u003c/code\u003e. Then, in place of defining a new sum\ntype for \u003ccode\u003etype_of_definition\u003c/code\u003e, we will use a predicate function\n\u003ccode\u003erecursivep\u003c/code\u003e that returns true if the definition is recursive.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eAnswer\u003c/strong\u003e: This method is specific to binary enumeration and cannot\nbe easily extended; moreover it is not well suited to pattern\nmatching. For instance, for definitions encoded by\n\u003ccode\u003e| Let of bool * string * expression\u003c/code\u003e a typical pattern matching would\nlook like:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003e| Let (_, v, e) as def -\u0026gt;\n   if recursivep def then code_for_recursive_case\n   else code_for_non_recursive_case\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eor, if \u003ccode\u003erecursivep\u003c/code\u003e can be applied to booleans:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003e| Let (b, v, e) -\u0026gt;\n   if recursivep b then code_for_recursive_case\n   else code_for_non_recursive_case\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003econtrast with an explicit encoding:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003e| Let (Recursive, v, e) -\u0026gt; code_for_recursive_case\n| Let (Non_recursive, v, e) -\u0026gt; code_for_non_recursive_case\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe difference between the two programs is subtle and you may think\nthat this is just a matter of taste; however the explicit encoding is\ndefinitively more robust to modifications and fits better with the\nlanguage.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cem\u003eA contrario\u003c/em\u003e, it is not necessary to systematically define new types\nfor boolean flags, when the interpretation of constructors \u003ccode\u003etrue\u003c/code\u003e and\n\u003ccode\u003efalse\u003c/code\u003e is clear. The usefulness of the definition of the following\ntypes is then questionable:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003etype switch = On | Off\ntype bit = One | Zero\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe same objection is admissible for enumerated types represented as\nintegers, when those integers have an evident interpretation with\nrespect to the data to be represented.\u003c/p\u003e\n\u003ch3 id=\"when-to-use-mutables\"\u003eWhen to use mutables\u003c/h3\u003e\n\u003cp\u003eMutable values are useful and sometimes indispensable to simple and\nclear programming. Nevertheless, you must use them with discernment:\nOCaml's normal data structures are immutable. They are to be preferred\nfor the clarity and safety of programming which they allow.\u003c/p\u003e\n\u003ch3 id=\"iterators\"\u003eIterators\u003c/h3\u003e\n\u003cp\u003eOCaml's iterators are a powerful and useful feature. However you should\nnot overuse them, nor \u003cem\u003ea contrario\u003c/em\u003e neglect them: they are provided to\nyou by libraries and have every chance of being correct and\nwell-thought-out by the author of the library. So it's useless to\nreinvent them.\u003c/p\u003e\n\u003cp\u003eSo write\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet square_elements elements = List.map square elements\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003erather than:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet rec square_elements = function\n  | [] -\u0026gt; []\n  | elem :: elements -\u0026gt; square elem :: square_elements elements\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOn the other hand avoid writing:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet iterator f x l =\n  List.fold_right (List.fold_left f) [List.map x l] l\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eeven though you get:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003e  let iterator f x l =\n    List.fold_right (List.fold_left f) [List.map x l] l;;\n  iterator (fun l x -\u0026gt; x :: l) (fun l -\u0026gt; List.rev l) [[1; 2; 3]]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIn case of express need, you must be careful to add an explanatory\ncomment: in my opinion it's absolutely necessary!\u003c/p\u003e\n\u003ch3 id=\"how-to-optimize-programs\"\u003eHow to optimize programs\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003ePseudo law of optimization\u003c/strong\u003e: No optimization \u003cem\u003ea priori\u003c/em\u003e.\u003cbr /\u003e\nNo optimization \u003cem\u003ea posteriori\u003c/em\u003e either.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eAbove all program simply and clearly. Don't start optimizing until the\nprogram bottleneck has been identified (in general a few routines). Then\noptimization consists above all of changing \u003cem\u003ethe complexity\u003c/em\u003e of the\nalgorithm used. This often happens through redefining the data\nstructures being manipulated and completely rewriting the part of the\nprogram which poses a problem.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eJustification\u003c/strong\u003e: Clarity and correctness of programs take\nprecedence. Besides, in a substantial program, it is practically\nimpossible to identify \u003cem\u003ea priori\u003c/em\u003e the parts of the program whose\nefficiency is of prime importance.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"how-to-choose-between-classes-and-modules\"\u003eHow to choose between classes and modules\u003c/h3\u003e\n\u003cp\u003eYou should use OCaml classes when you need inheritance, that is,\nincremental refinement of data and their functionality.\u003c/p\u003e\n\u003cp\u003eYou should use conventional data structures (in particular, variant\ntypes) when you need pattern-matching.\u003c/p\u003e\n\u003cp\u003eYou should use modules when the data structures are fixed and their\nfunctionality is equally fixed or it's enough to add new functions in\nthe programs which use them.\u003c/p\u003e\n\u003ch3 id=\"clarity-of-ocaml-code\"\u003eClarity of OCaml code\u003c/h3\u003e\n\u003cp\u003eThe OCaml language includes powerful constructs which allow simple and\nclear programming. The main problem to obtain crystal clear programs it\nto use them appropriately.\u003c/p\u003e\n\u003cp\u003eThe language features numerous programming styles (or programming\nparadigms): imperative programming (based on the notion of state and\nassignment), functional programming (based on the notion of function,\nfunction results, and calculus), object oriented programming (based of\nthe notion of objects encapsulating a state and some procedures or\nmethods that can modify the state). The first work of the programmer is\nto choose the programming paradigm that fits the best the problem at\nhand. When using one of those programming paradigms, the difficulty is\nto use the language construct that expresses in the most natural and\neasiest way the computation that implements the algorithm.\u003c/p\u003e\n\u003ch4 id=\"style-dangers\"\u003eStyle dangers\u003c/h4\u003e\n\u003cp\u003eConcerning programming styles, one can usually observe the two\nsymmetrical problematic behaviors: on the one hand, the “all\nimperative” way (\u003cem\u003esystematic\u003c/em\u003e usage of loops and assignment), and on\nthe other hand the “purely functional” way (\u003cem\u003enever\u003c/em\u003e use loops nor\nassignments); the “100% object” style will certainly appear in the\nnext future, but (fortunately) it is too new to be discussed here.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eThe “Too much imperative” danger\u003c/strong\u003e:\n\u003cul\u003e\n\u003cli\u003eIt is a bad idea to use imperative style to code a function that\nis \u003cem\u003enaturally\u003c/em\u003e recursive. For instance, to compute the length of\na list, you should not write:\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet list_length l =\n  let l = ref l in\n  let res = ref 0 in\n  while !l \u0026lt;\u0026gt; [] do\n    incr res; l := List.tl !l\n  done;\n  !res;;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ein place of the following recursive function, so simple and\nclear:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet rec list_length = function\n  | [] -\u0026gt; 0\n  | _ :: l -\u0026gt; 1 + list_length l\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e(For those that would contest the equivalence of those two\nversions, see the \u003ca href=\"#Imperativeandfunctionalversionsoflistlength\"\u003enote below\u003c/a\u003e).\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eAnother common “over imperative error” in the imperative world is\nnot to systematically choose the simple \u003ccode\u003efor\u003c/code\u003e loop to iter on the\nelement of a vector, but instead to use a complex \u003ccode\u003ewhile\u003c/code\u003e loop, with\none or two references (too many useless assignments, too many\nopportunity for errors).\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThis category of programmer feels that the \u003ccode\u003emutable\u003c/code\u003e keyword in\nthe record type definitions should be implicit.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eThe “Too much functional” danger\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe programmer that adheres to this dogma avoids\nusing arrays and assignment. In the most severe case, one\nobserves a complete denial of writing any imperative\nconstruction, even in case it is evidently the most elegant way\nto solve the problem.\n\u003c/li\u003e\n\u003cli\u003eCharacteristic symptoms: systematic rewriting of \u003ccode\u003efor\u003c/code\u003e loops\nwith recursive functions, usage of lists in contexts where\nimperative data structures seem to be mandatory to anyone,\npassing numerous global parameters of the problem to every\nfunctions, even if a global reference would be perfect to avoid\nthese spurious parameters that are mainly invariants that must\nbe passed all over the place.\n\u003c/li\u003e\n\u003cli\u003eThis programmer feels that the \u003ccode\u003emutable\u003c/code\u003e keyword in the record\ntype definitions should be suppressed from the language.\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"ocaml-code-generally-considered-unreadable\"\u003eOCaml code generally considered unreadable\u003c/h4\u003e\n\u003cp\u003eThe OCaml language includes powerful constructs which allow simple and\nclear programming. However the power of these constructs also lets you\nwrite uselessly complicated code, to the point where you get a perfectly\nunreadable program.\u003c/p\u003e\n\u003cp\u003eHere are a number of known ways:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eUse useless (hence novice for readability) \u003ccode\u003eif then else\u003c/code\u003e, as in\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet flush_ps () =\n  if not !psused then psused := true\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eor (more subtle)\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet sync b =\n  if !last_is_dvi \u0026lt;\u0026gt; b then last_is_dvi := b\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eCode one construct with another. For example code a \u003ccode\u003elet ... in\u003c/code\u003e by\nthe application of an anonymous function to an argument. You would\nwrite\u003cbr /\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003e(fun x y -\u0026gt; x + y)\n   e1 e2\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003einstead of simply writing\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet x = e1\nand y = e2 in\nx + y\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eSystematically code sequences with \u003ccode\u003elet in\u003c/code\u003e bindings.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMix computations and side effects, particularly in function calls.\nRecall that the order of evaluation of arguments in a function call\nis unspecified, which implies that you must not mix side effects and\ncomputations in function calls. However, when there is only one\nargument you might take advantage of this to perform a side effect\nwithin the argument, which is extremely troublesome for the reader\nalbeit without danger to the program semantics. To be absolutely\nforbidden.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMisuse of iterators and higher-order functions (i.e. over- or\nunder-use). For example it's better to use \u003ccode\u003eList.map\u003c/code\u003e or\n\u003ccode\u003eList.iter\u003c/code\u003e than to write their equivalents in-line using specific\nrecursive functions of your own. Even worse, you don't use\n\u003ccode\u003eList.map\u003c/code\u003e or \u003ccode\u003eList.iter\u003c/code\u003e but write their equivalents in terms of\n\u003ccode\u003eList.fold_right\u003c/code\u003e and \u003ccode\u003eList.fold_left\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAnother efficient way to write unreadable code is to mix all or some\nof these methods. For example:\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003e(fun u -\u0026gt; print_string \u0026quot;world\u0026quot;; print_string u)\n  (let temp = print_string \u0026quot;Hello\u0026quot;; \u0026quot;!\u0026quot; in\n   ((fun x -\u0026gt; print_string x; flush stdout) \u0026quot; \u0026quot;;\n    temp));;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf you naturally write the program \u003ccode\u003eprint_string \u0026quot;Hello world!\u0026quot;\u003c/code\u003e in this\nway, you can without a doubt submit your work to the \u003ca href=\"mailto:Pierre.Weis@inria.fr\"\u003eObfuscated OCaml\nContest\u003c/a\u003e.\u003c/p\u003e\n\u003ch2 id=\"managing-program-development\"\u003eManaging program development\u003c/h2\u003e\n\u003cp\u003eWe give here tips from veteran OCaml programmers, which have served in\ndeveloping the compilers which are good examples of large complex\nprograms developed by small teams.\u003c/p\u003e\n\u003ch3 id=\"how-to-edit-programs\"\u003eHow to edit programs\u003c/h3\u003e\n\u003cp\u003eMany developers nurture a kind of veneration towards the Emacs editor\n(gnu-emacs in general) which they use to write their programs. The\neditor interfaces well with the language since it is capable of syntax\ncoloring OCaml source code (rendering different categories of words in\ncolor, coloring keywords for example).\u003c/p\u003e\n\u003cp\u003eThe following two commands are considered indispensable:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eCTRL-C-CTRL-C\u003c/code\u003e or \u003ccode\u003eMeta-X compile\u003c/code\u003e: launches re-compilation from\nwithin the editor (using the \u003ccode\u003emake\u003c/code\u003e command).\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eCTRL-X-`\u003c/code\u003e: puts the cursor in the file and at the exact place\nwhere the OCaml compiler has signaled an error.\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eDevelopers describe thus how to use these features: \u003ccode\u003eCTRL-C-CTRL-C\u003c/code\u003e\ncombination recompiles the whole application; in case of errors, a\nsuccession of \u003ccode\u003eCTRL-X-`\u003c/code\u003e commands permits correction of all the\nerrors signaled; the cycle begins again with a new re-compilation\nlaunched by \u003ccode\u003eCTRL-C-CTRL-C\u003c/code\u003e.\u003c/p\u003e\n\u003ch4 id=\"other-emacs-tricks\"\u003eOther emacs tricks\u003c/h4\u003e\n\u003cp\u003eThe \u003ccode\u003eESC-/\u003c/code\u003e command (dynamic-abbrev-expand) automatically completes the\nword in front of the cursor with one of the words present in one of the\nfiles being edited. Thus this lets you always choose meaningful\nidentifiers without the tedium of having to type extended names in your\nprograms: the \u003ccode\u003eESC-/\u003c/code\u003e easily completes the identifier after typing the\nfirst letters. In case it brings up the wrong completion, each\nsubsequent \u003ccode\u003eESC-/\u003c/code\u003e proposes an alternate completion.\u003c/p\u003e\n\u003cp\u003eUnder Unix, the \u003ccode\u003eCTRL-C-CTRL-C\u003c/code\u003e or \u003ccode\u003eMeta-X     compile\u003c/code\u003e combination,\nfollowed by \u003ccode\u003eCTRL-X-`\u003c/code\u003e is also used to find all occurrences of a\ncertain string in a OCaml program. Instead of launching \u003ccode\u003emake\u003c/code\u003e to\nrecompile, you launch the \u003ccode\u003egrep\u003c/code\u003e command; then all the “error\nmessages” from \u003ccode\u003egrep\u003c/code\u003e are compatible with the \u003ccode\u003eCTRL-X-`\u003c/code\u003e usage\nwhich automatically takes you to the file and the place where the string\nis found.\u003c/p\u003e\n\u003ch3 id=\"how-to-edit-with-the-interactive-system\"\u003eHow to edit with the interactive system\u003c/h3\u003e\n\u003cp\u003eUnder Unix: use the line editor \u003ccode\u003eledit\u003c/code\u003e which offers great editing\ncapabilities “à la emacs” (including \u003ccode\u003eESC-/\u003c/code\u003e!), as well as a history\nmechanism which lets you retrieve previously typed commands and even\nretrieve commands from one session in another. \u003ccode\u003eledit\u003c/code\u003e is written in\nOCaml and can be freely down-loaded\n\u003ca href=\"ftp://ftp.inria.fr/INRIA/Projects/cristal/caml-light/bazar-ocaml/ledit.tar.gz\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003ch3 id=\"how-to-compile\"\u003eHow to compile\u003c/h3\u003e\n\u003cp\u003eThe \u003ccode\u003emake\u003c/code\u003e utility is indispensable for managing the compilation and\nre-compilation of programs. Sample \u003ccode\u003emake\u003c/code\u003e files can be found on \u003ca href=\"https://caml.inria.fr//cgi-bin/hump.en.cgi\"\u003eThe\nHump\u003c/a\u003e. You can also consult\nthe \u003ccode\u003eMakefiles\u003c/code\u003e for the OCaml compilers.\u003c/p\u003e\n\u003ch3 id=\"how-to-develop-as-a-team-version-control\"\u003eHow to develop as a team: version control\u003c/h3\u003e\n\u003cp\u003eUsers of the \u003ca href=\"https://git-scm.com/\"\u003eGit\u003c/a\u003e software version control system\nnever run out of good things to say about the productivity gains it\nbrings. This system supports managing development by a team of\nprogrammers while imposing consistency among them, and also maintains a\nlog of changes made to the software.\u003cbr /\u003e\nGit also supports simultaneous development by several teams, possibly\ndispersed among several sites linked on the Net.\u003c/p\u003e\n\u003cp\u003eAn anonymous Git read-only mirror \u003ca href=\"https://github.com/ocaml/ocaml\"\u003econtains the working sources of the\nOCaml compilers\u003c/a\u003e, and the sources of\nother software related to OCaml.\u003c/p\u003e\n\u003ch2 id=\"notes\"\u003eNotes\u003c/h2\u003e\n\u003ch3 id=\"imperative-and-functional-versions-of-listlength\"\u003eImperative and functional versions of \u003ccode\u003elist_length\u003c/code\u003e\u003c/h3\u003e\n\u003cp\u003eThe two versions of \u003ccode\u003elist_length\u003c/code\u003e are not completely equivalent in term\nof complexity, since the imperative version uses a constant amount of\nstack room to execute, whereas the functional version needs to store\nreturn addresses of suspended recursive calls (whose maximum number is\nequal to the length of the list argument). If you want to retrieve a\nconstant space requirement to run the functional program you just have\nto write a function that is recursive in its tail (or \u003cem\u003etail-rec\u003c/em\u003e), that\nis a function that just ends by a recursive call (which is not the case\nhere since a call to \u003ccode\u003e+\u003c/code\u003e has to be perform after the recursive call has\nreturned). Just use an accumulator for intermediate results, as in:\u003c/p\u003e\n\u003c!-- $MDX skip --\u003e\n\u003cpre\u003e\u003ccode class=\"language-ocaml\"\u003elet list_length l =\n  let rec loop accu = function\n    | [] -\u0026gt; accu\n    | _ :: l -\u0026gt; loop (accu + 1) l in\n  loop 0 l\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis way, you get a program that has the same computational properties\nas the imperative program with the additional clarity and natural\nlook of an algorithm that performs pattern matching and recursive\ncalls to handle an argument that belongs to a recursive sum data type.\u003c/p\u003e\n","title":"OCaml Programming Guidelines","pageDescription":"Opinionated guidelines for writing OCaml code\n","tableOfContents":"\u003cul\u003e\n\u003cli\u003e\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#general-guidelines-to-write-programs\"\u003eGeneral guidelines to write programs\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#program-formatting-guidelines\"\u003eProgram formatting guidelines\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#indentation-of-programs\"\u003eIndentation of programs\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#programming-guidelines\"\u003eProgramming guidelines\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#managing-program-development\"\u003eManaging program development\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#notes\"\u003eNotes\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n"},"params":{"lang":"en","tutorial":"ocaml-programming-guidelines"}},"__N_SSG":true},"page":"/[lang]/resources/[tutorial]","query":{"lang":"en","tutorial":"ocaml-programming-guidelines"},"buildId":"5vwEGiEdVvGQoOBpMUVkF","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>